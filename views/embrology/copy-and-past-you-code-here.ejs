<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>LifeLinkr</title>
    <style>
        .pink-dot {
            height: 10px;
            width: 10px;
            background-color: #feb2b2;
            border-radius: 50%;
            display: inline-block;
        }

        .pen-icon {
            color: #b9b7b7;
            cursor: pointer;
        }

        .dullcolor {
            color: #a7a4a4;
        }

        .pen-icon:hover {
            color: #000;
        }
    </style>

    <%- include('../header') %>
        <!-- //header-ends -->
        <!-- main content start -->
        <div class="main-content">

            <div class="row content-top-gap2">
                <div class="col-lg-12">
                    <nav class="navbar navbar-expand-lg navbar-light bg-white">
                        <a class="navbar-brand text-center mr-5" href="#">
                            <span class="dash-icon"><i class="fas fa-tachometer-alt"></i></span>
                            Dashboard
                        </a>

                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <div class="collapse navbar-collapse" id="navbarNav">

                            <ul class="navbar-nav">
                                <li class="nav-item active text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="far fa-user"></i></span>
                                        Master
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-exchange-alt"></i></span>
                                        Transaction
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-hand-holding-medical"></i></span>
                                        Patient 360
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-receipt"></i></span>
                                        Outside Reciept
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-file-invoice"></i></span>
                                        Outpatient Department
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-chart-line"></i></span>
                                        Analytics
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="far fa-clock"></i></span>
                                        Waiting List
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-wrench"></i></span>
                                        Adminstration
                                    </a>
                                </li>
                                <li class="nav-item text-center">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-spinner"></i></span>
                                        Additional
                                    </a>
                                </li>

                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
            <!-- content -->

            <div class="container-fluid">

                <div class="chart">
                    <div class="row">


                        <div class="col-lg-12 pl-lg-0 mt-2 ml-2">
                            <h4 class="primary">Stimulation</h4>
                        </div>
                        <select name="protocol" id="protocol" class="input-style">
                            <option value="Antagonist Daily Dose 1">Antagonist Daily Dose - 1</option>
                            <option value="Clomiphene citrateLetrozole">Clomiphene citrate/Letrozole</option>
                            <option value="Antagonist Daily Dose 2">Antagonist Daily Dose - 2</option>
                            <option value="Long Agonist">Long Agonist</option>
                            <option value="Short Agonist">Short Agonist</option>
                        </select>
                        <button class="input-style" id="addRow">Add Row</button>
                        <button class="input-style  " data-bs-toggle="modal" data-bs-target="#myModal4">End
                            Stimulation</button>

                        <!--Past your code here starts-->

                        <!-- The Modal -->


                        <!-- Modal body -->
                        <div class="col-md-12 table-container" id="ClomiphenecitrateLetrozole">
                            <div class="row">
                                <div class="table-responsive">
                                    <table class="table2">
                                        <thead>
                                            <th>Date</th>
                                            <th>CD</th>
                                            <th colspan="3">Medications +</th>
                                            <th colspan="3">Follicular Scan</th>
                                            <th colspan="2">Labs</th>
                                            <th>Advice</th>
                                            <th colspan="2">Check</th>
                                        </thead>
                                        <thead>
                                            <td></td>
                                            <td></td>
                                            <td>CC(mg)</td>
                                            <td>R-FSH(mg)</td>
                                            <td>GnRH Antagonist(mg)</td>
                                            <td>Right Follicles(mm)</td>
                                            <td>Left Follicles(mm)</td>
                                            <td>Endo(mm)</td>
                                            <td>E2</td>
                                            <td>P4</td>
                                            <td></td>
                                        </thead>
                                        <tbody id="letrozolebody">
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">1</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>

                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">2</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">3</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">4</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">5</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">6</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">7</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">8</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">9</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_letrozole">01/01/2024</td>
                                                <td class="cd_letrozole">10</td>
                                                <td class="cc_letrozole">100</td>
                                                <td class="rfsh_letrozole">300</td>
                                                <td class="gnrh_letrozole"></td>
                                                <td class="right_letrozole"></td>
                                                <td class="left_letrozole"></td>
                                                <td class="endo_letrozole"></td>
                                                <td class="e2_letrozole"></td>
                                                <td class="p4_letrozole"></td>
                                                <td class="advice_letrozole"></td>

                                                <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal"
                                                        data-bs-target="#myModal"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 table-container" id="AntagonistDailyDose1">
                            <div class="row">
                                <div class="table-responsive">

                                    <table class="table2">
                                        <thead>
                                            <th>Date</th>
                                            <th>CD</th>
                                            <th colspan="3">Medications +</th>
                                            <th colspan="3">Follicular Scan</th>
                                            <th colspan="2">Labs</th>
                                            <th>Advice</th>
                                            <th colspan="2">Check</th>
                                        </thead>
                                        <thead>
                                            <td></td>
                                            <td></td>
                                            <td>HMG(mg)</td>
                                            <td>R-FSH(mg)</td>
                                            <td>GnRH Antagonist(mg)</td>
                                            <td>Right Follicles(mm)</td>
                                            <td>Left Follicles(mm)</td>
                                            <td>Endo(mm)</td>
                                            <td>E2</td>
                                            <td>P4</td>
                                            <td></td>
                                        </thead>
                                        <tbody id="AntagonistDailyDose1body">
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">1</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">2</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">

                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">3</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">

                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">4</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">5</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">6</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">7</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">8</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">9</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose1">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose1e">10</td>
                                                <td class="hmg_AntagonistDailyDose1">100</td>
                                                <td class="rfsh_AntagonistDailyDose1">300</td>
                                                <td class="gnrh_AntagonistDailyDose1"></td>
                                                <td class="right_AntagonistDailyDose1"></td>
                                                <td class="left_AntagonistDailyDose1"></td>
                                                <td class="endo_AntagonistDailyDose1"></td>
                                                <td class="e2_AntagonistDailyDose1"></td>
                                                <td class="p4_AntagonistDailyDose1"></td>
                                                <td class="advice_AntagonistDailyDose1"></td>
                                                <td><i class="fas fa-pen pen-icon AntagonistDailyDose1"
                                                        data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 table-container" id="AntagonistDailyDose2">
                            <div class="row">
                                <div class="table-responsive">

                                    <table class="table2">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>CD</th>
                                                <th colspan="2">Medications +</th>
                                                <th colspan="3">Follicular Scan</th>
                                                <th colspan="2">Labs</th>
                                                <th>Advice</th>
                                                <th colspan="2">Check</th>
                                            </tr>
                                        </thead>
                                        <thead>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td>HMG(mg)</td>
                                                <td>GnRH Antagonist(mg)</td>
                                                <td>Right Follicles(mm)</td>
                                                <td>Left Follicles(mm)</td>
                                                <td>Endo(mm)</td>
                                                <td>E2</td>
                                                <td>P4</td>
                                                <td></td>
                                            </tr>
                                        </thead>
                                        <tbody id="dose2body">
                                            <!-- Row 1 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">01/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">1</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 2 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">02/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">2</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 3 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">03/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">3</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 4 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">04/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">4</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 5 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">05/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">5</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 6 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">06/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">6</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 7 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">07/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">7</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 8 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">08/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">8</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 9 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">09/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">9</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                            <!-- Row 10 -->
                                            <tr class="dullcolor">
                                                <td class="date_AntagonistDailyDose2">10/01/2024</td>
                                                <td class="cd_AntagonistDailyDose2">10</td>
                                                <td class="hmg_AntagonistDailyDose2">100</td>
                                                <td class="gnrh_AntagonistDailyDose2"></td>
                                                <td class="right_AntagonistDailyDose2"></td>
                                                <td class="left_AntagonistDailyDose2"></td>
                                                <td class="endo_AntagonistDailyDose2"></td>
                                                <td class="e2_AntagonistDailyDose2"></td>
                                                <td class="p4_AntagonistDailyDose2"></td>
                                                <td class="advice_AntagonistDailyDose2"></td>
                                                <td colspan="2">
                                                    <i class="fas fa-pen pen-icon" data-bs-toggle="modal"
                                                        data-bs-target="#myModal3"></i>
                                                    <i class="fa-regular fa-circle-check pen-icon"></i>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12 table-container" id="LongAgonist">
                            <div class="row">
                                <div class="table-responsive">

                                    <table class="table2">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>CD</th>
                                                <th colspan="3">Medications +</th>
                                                <th colspan="3">Follicular Scan</th>
                                                <th colspan="2">Labs</th>
                                                <th>Advice</th>
                                                <th colspan="2">Check</th>
                                            </tr>
                                        </thead>
                                        <thead>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td>GnRH Antagonist(mg)</td>
                                                <td>R-FSH(mg)</td>
                                                <td>HMG(mg)</td>
                                                <td>Right Follicles(mm)</td>
                                                <td>Left Follicles(mm)</td>
                                                <td>Endo(mm)</td>
                                                <td>E2</td>
                                                <td>P4</td>
                                                <td></td>
                                            </tr>
                                        </thead>
                                        <tbody id="longRows">
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">1</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">2</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">3</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">4</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">5</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">6</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">7</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">8</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">9</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_LongAgonist">01/01/2024</td>
                                                <td class="cd_LongAgonist">10</td>
                                                <td class="gnrh_LongAgonist">10</td>
                                                <td class="rfsh_LongAgonist"></td>
                                                <td class="hmg_LongAgonist"></td>
                                                <td class="right_LongAgonist"></td>
                                                <td class="left_LongAgonist"></td>
                                                <td class="endo_LongAgonist"></td>
                                                <td class="e2_LongAgonist"></td>
                                                <td class="p4_LongAgonist"></td>
                                                <td class="advice_LongAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon LongAgonist"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12 table-container" id="ShortAgonist">
                            <div class="row">
                                <div class="table-responsive">

                                    <table class="table2">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>CD</th>
                                                <th colspan="3">Medications +</th>
                                                <th colspan="3">Follicular Scan</th>
                                                <th colspan="2">Labs</th>
                                                <th>Advice</th>
                                                <th colspan="2">Check</th>
                                            </tr>
                                        </thead>
                                        <thead>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td>GnRH Antagonist(mg)</td>
                                                <td>R-FSH(mg)</td>
                                                <td>HMG(mg)</td>
                                                <td>Right Follicles(mm)</td>
                                                <td>Left Follicles(mm)</td>
                                                <td>Endo(mm)</td>
                                                <td>E2</td>
                                                <td>P4</td>
                                                <td></td>
                                            </tr>
                                        </thead>
                                        <tbody id="shortRows">
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">1</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">2</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">3</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">4</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">5</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">6</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">7</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">8</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"><span class="pink-dot"></span></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">9</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"><span class="pink-dot"></span></td>
                                                <td class="left_ShortAgonist"></td>
                                                <td class="endo_ShortAgonist"><span class="pink-dot"></span></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                            <tr class="dullcolor">
                                                <td class="date_ShortAgonist">01/01/2024</td>
                                                <td class="cd_ShortAgonist">10</td>
                                                <td class="gnrh_ShortAgonist">10</td>
                                                <td class="rfsh_ShortAgonist">225</td>
                                                <td class="hmg_ShortAgonist">75</td>
                                                <td class="right_ShortAgonist"><span class="pink-dot"></span></td>
                                                <td class="left_ShortAgonist"><span class="pink-dot"></span></td>
                                                <td class="endo_ShortAgonist"><span class="pink-dot"></span></td>
                                                <td class="e2_ShortAgonist"></td>
                                                <td class="p4_ShortAgonist"></td>
                                                <td class="advice_ShortAgonist"></td>
                                                <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal"
                                                        data-bs-target="#myModal2"></i></td>
                                                <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>




                        <!--Past your code here ends-->
                    </div>
                </div>
                </form>
            </div>









            <%- include('../footer') %>
                <div class="modal" id="myModal">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header">
                                Record Result of Day 13
                                <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                        class="fa-solid fa-circle-xmark"></i></a>
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body">
                                <div class="row">
                                    Medications
                                    <!-- <div class="table-responsive"> -->
                                        <table class="table2">
                                            <tr>
                                                <th>Genric</th>
                                                <th>Drug Name</th>
                                                <th>Doses</th>
                                                <th>Quantity</th>
                                                <th>Remarks</th>
                                            </tr>
                                            <tr>
                                                <td>CC</td>
                                                <td><input type="text" class="form-control input-style" id="ccDrugName"
                                                        name="ccDrugName"></td>
                                                <td>
                                                    <div class="row">
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control input-style"
                                                                id="ccDosage" name="ccDosage">
                                                        </div>
                                                        <div class="col-md-3">mg</div>
                                                    </div>
                                                </td>
                                                <td><input type="text" class="form-control input-style" id="ccQuantity"
                                                        name="ccQuantity"></td>
                                                <td><input type="text" class="form-control input-style" id="ccRemarks"
                                                        name="ccRemarks"></td>
                                            </tr>
                                            <tr>
                                                <td>R-FSH</td>
                                                <td><input type="text" class="form-control input-style"
                                                        id="rFshDrugName" name="rFshDrugName"></td>
                                                <td>
                                                    <div class="row">
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control input-style"
                                                                id="rFshDosage" name="rFshDosage">
                                                        </div>
                                                        <div class="col-md-3">mg</div>
                                                    </div>
                                                </td>
                                                <td><input type="text" class="form-control input-style"
                                                        id="rFshQuantity" name="rFshQuantity"></td>
                                                <td><input type="text" class="form-control input-style" id="rFshRemarks"
                                                        name="rFshRemarks"></td>
                                            </tr>
                                            <tr>
                                                <td>GnRH Antagonist</td>
                                                <td><input type="text" class="form-control input-style"
                                                        id="antagonistDrugName" name="antagonistDrugName"></td>
                                                <td>
                                                    <div class="row">
                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control input-style"
                                                                id="antagonistDosage" name="antagonistDosage">
                                                        </div>
                                                        <div class="col-md-3">mg</div>
                                                    </div>
                                                </td>
                                                <td><input type="text" class="form-control input-style"
                                                        id="antagonistQuantity" name="antagonistQuantity"></td>
                                                <td><input type="text" class="form-control input-style"
                                                        id="antagonistRemarks" name="antagonistRemarks"></td>
                                            </tr>
                                            <tr style="text-align:left">
                                                <td colspan="5"><strong>Follicular Scan</strong></td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">Right Follicles (mm)</td>
                                                <td colspan="3"><input type="text" class="form-control input-style"
                                                        id="rightFollicles" name="rightFollicles"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">Left Follicles (mm)</td>
                                                <td colspan="3"><input type="text" class="form-control input-style"
                                                        id="leftFollicles" name="leftFollicles"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">Endometrium (mm)</td>
                                                <td colspan="3"><input type="text" class="form-control input-style"
                                                        id="endometrium" name="endometrium"></td>
                                            </tr>
                                            <tr style="text-align:left">
                                                <td colspan="5"><strong>Labs</strong></td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">E2</td>
                                                <td colspan="3"><input type="text" class="form-control input-style"
                                                        id="e2" name="e2"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">P4</td>
                                                <td colspan="3"><input type="text" class="form-control input-style"
                                                        id="p4" name="p4"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">Advice</td>
                                                <td colspan="3"><input type="text" class="form-control input-style"
                                                        id="advice" name="advice"></td>
                                            </tr>
                                        </table>
                                    <!-- </div> -->
                                    <div class="text-right col-lg-12">
                                        <div class="row">
                                            <div class="col-lg-8">
                                                <div class="row" style="text-align:left">
                                                    <div class="col-lg-1">
                                                        <input type="checkbox" class="form-control" id="repeatDosage"
                                                            name="repeatDosage">
                                                    </div>
                                                    <div class="col-lg-11">Repeat dosage for further days</div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <button type="submit"
                                                    class="btn btn-primary btn-style mt-2 mr-2 btn-save"
                                                    id="addStimulation"><strong>Save</strong></button>
                                                <button type="button"
                                                    class="btn btn-primary btn-style mt-2 mr-2 btn-cancel"
                                                    data-bs-dismiss="modal"><strong>Cancel</strong></button>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal" id="myModal2">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header">
                                Record Result of Day 13
                                <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                        class="fa-solid fa-circle-xmark"></i></a>
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body">
                                <div class="row">
                                    Medications
                                    <div class="table-responsive">

                                    <table class="table2">
                                        <tr>
                                            <th>Genric</th>
                                            <th>Drug Name</th>
                                            <th>Doses</th>
                                            <th>Quantity</th>
                                            <th>Remarks</th>
                                        </tr>
                                        <tr>
                                            <td>HMG</td>
                                            <td><input type="text" class="form-control input-style" id="hmgDrugName"
                                                    name="hmgDrugName"></td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-md-9">
                                                        <input type="text" class="form-control input-style"
                                                            id="hmgDosage" name="hmgDosage">
                                                    </div>
                                                    <div class="col-md-3">mg</div>
                                                </div>
                                            </td>
                                            <td><input type="text" class="form-control input-style" id="hmgQuantity"
                                                    name="hmgQuantity"></td>
                                            <td><input type="text" class="form-control input-style" id="hmgRemarks"
                                                    name="hmgRemarks"></td>
                                        </tr>
                                        <tr>
                                            <td>R-FSH</td>
                                            <td><input type="text" class="form-control input-style" id="rFshDrugName2"
                                                    name="rFshDrugName2"></td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-md-9">
                                                        <input type="text" class="form-control input-style"
                                                            id="rFshDosage2" name="rFshDosage2">
                                                    </div>
                                                    <div class="col-md-3">mg</div>
                                                </div>
                                            </td>
                                            <td><input type="text" class="form-control input-style" id="rFshQuantity2"
                                                    name="rFshQuantity2"></td>
                                            <td><input type="text" class="form-control input-style" id="rFshRemarks2"
                                                    name="rFshRemarks2"></td>
                                        </tr>
                                        <tr>
                                            <td>GnRH Antagonist</td>
                                            <td><input type="text" class="form-control input-style"
                                                    id="antagonistDrugName2" name="antagonistDrugName2"></td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-md-9">
                                                        <input type="text" class="form-control input-style"
                                                            id="antagonistDosage2" name="antagonistDosage2">
                                                    </div>
                                                    <div class="col-md-3">mg</div>
                                                </div>
                                            </td>
                                            <td><input type="text" class="form-control input-style"
                                                    id="antagonistQuantity2" name="antagonistQuantity2"></td>
                                            <td><input type="text" class="form-control input-style"
                                                    id="antagonistRemarks2" name="antagonistRemarks2"></td>
                                        </tr>
                                        <tr style="text-align:left">
                                            <td colspan="5"><strong>Follicular Scan</strong></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Right Follicles (mm)</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="rightFollicles2" name="rightFollicles2"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Left Follicles (mm)</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="leftFollicles2" name="leftFollicles2"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Endometrium (mm)</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="endometrium2" name="endometrium2"></td>
                                        </tr>
                                        <tr style="text-align:left">
                                            <td colspan="5"><strong>Labs</strong></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">E2</td>
                                            <td colspan="3"><input type="text" class="form-control input-style" id="e2I"
                                                    name="e2I"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">P4</td>
                                            <td colspan="3"><input type="text" class="form-control input-style" id="p4I"
                                                    name="p4I"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Advice</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="advice2" name="advice2"></td>
                                        </tr>
                                    </table>
                                    </div>
                                    <div class="text-right col-lg-12">
                                        <div class="row">
                                            <div class="col-lg-8">
                                                <div class="row" style="text-align:left">
                                                    <div class="col-lg-1">
                                                        <input type="checkbox" class="form-control" id="repeatDosage2"
                                                            name="repeatDosage2">
                                                    </div>
                                                    <div class="col-lg-11">Repeat dosage for further days</div>
                                                </div>
                                            </div>
                                            <div class="container">
                                                <div class="col-12">
                                                    <div class="row">
                                                        <div class="col-5" id="rangeContainer"
                                                            style="padding-right:0px;padding-left:0px;">
                                                            <div class="day-label">&nbsp;</div>
                                                        </div>
                                                        <div class="col-1">
                                                            <div class="day-label">Size</div>
                                                            <div class="day-label">23</div>
                                                            <div class="day-label">22</div>
                                                            <div class="day-label">21</div>
                                                            <div class="day-label">20</div>
                                                            <div class="day-label">19</div>
                                                            <div class="day-label">18</div>
                                                            <div class="day-label">17</div>
                                                            <div class="day-label">16</div>
                                                            <div class="day-label">15</div>
                                                            <div class="day-label">14</div>
                                                            <div class="day-label">13</div>
                                                            <div class="day-label">12</div>
                                                            <div class="day-label">11</div>
                                                            <div class="day-label">10</div>
                                                            <div class="day-label">9</div>
                                                            <div class="day-label">8</div>
                                                            <div class="day-label">7</div>
                                                            <div class="day-label">6</div>
                                                            <div class="day-label">5</div>
                                                            <div class="day-label">4</div>
                                                            <div class="day-label">3</div>
                                                            <div class="day-label">2</div>
                                                            <div class="day-label">1</div>
                                                            <!-- Additional labels for days 22 to 1 -->
                                                        </div>
                                                        <div class="col-6" id="rangeContainer2"
                                                            style="padding-left:0px;padding-right:0px;">
                                                            <div class="day-label">&nbsp;</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <script>
                                                $(document).ready(function () {
                                                    let leftSum = 0;
                                                    let rightSum = 0;

                                                    // Function to create sliders
                                                    function createSliders(start, end, container, isLeft) {
                                                        let j=23
                                                        for (let i = start; i <= end; i++) {
                                                            // Create a new day container
                                                            let dayContainer = $(`
                                                                    <div class="day-container row align-items-center">
                                                                        <div class="col-12 range-slider-container" style="padding-right:0px;padding-left:0px;">
                                                                            <input type="range" data-id='${j--}' class="form-range range-slider" min="0" max="40" id="day${i}Score" value="0" />
                                                                            <span id="day${i}Value" class="range-value"></span>
                                                                        </div>
                                                                    </div>
                                                                `);

                                                            // Append to the container
                                                            $(container).append(dayContainer);

                                                            // Attach input event listener
                                                            let rangeSlider = $(`#day${i}Score`);
                                                            let valueDisplay = $(`#day${i}Value`);

                                                            rangeSlider.on("input", function () {
                                                                // Update value in the span
                                                                valueDisplay.text(rangeSlider.val());

                                                                // Calculate and update the value position
                                                                let percent = (rangeSlider.val() - rangeSlider.attr("min")) / (rangeSlider.attr("max") - rangeSlider.attr("min"));
                                                                let sliderWidth = rangeSlider.width();
                                                                let valuePosition = percent * sliderWidth;
                                                                valueDisplay.css("left", `${valuePosition}px`);

                                                                // Update sum based on slider side (left or right)
                                                                if (isLeft) {
                                                                    updateLeftSum();
                                                                } else {
                                                                    updateRightSum();
                                                                }
                                                            });

                                                            // Trigger an initial update to set correct position
                                                            rangeSlider.trigger("input");
                                                        }
                                                    }

                                                    // Update the sum of the left side sliders
                                                    function updateLeftSum() {
                                                        leftSum = 0;
                                                        leftSumStr = ``;
                                                        $('#rangeContainer .range-slider').each(function () {
                                                            if(parseInt($(this).val(), 10) != 0){
                                                                leftSum += parseInt($(this).val(), 10);
                                                                leftSumStr += `${$(this).data('id')}-${$(this).val()}, `;
                                                            }
                                                        });
                                                        $('#leftFollicles2').val(leftSumStr);
                                                        $('#leftFollicles2').attr('data-id',leftSum);
                                                    }

                                                    // Update the sum of the right side sliders
                                                    function updateRightSum() {
                                                        rightSum = 0;
                                                        rightSumStr = ``;
                                                        $('#rangeContainer2 .range-slider').each(function () {
                                                            if(parseInt($(this).val(), 10) != 0){
                                                                rightSum += parseInt($(this).val(), 10);
                                                                rightSumStr += `${$(this).data('id')}-${$(this).val()}, `;
                                                            }
                                                        });
                                                        
                                                        $('#rightFollicles2').val(rightSumStr);
                                                        $('#rightFollicles2').attr('data-id',rightSum);
                                                    }

                                                    // Create sliders for rangeContainer (day 0 to 22 - left side)
                                                    createSliders(0, 22, "#rangeContainer", true);

                                                    // Create sliders for rangeContainer2 (day 23 to 45 - right side)
                                                    createSliders(23, 45, "#rangeContainer2", false);
                                                });
                                            </script>


                                            <div class="col-lg-4">
                                                <button type="submit"
                                                    class="btn btn-primary btn-style mt-2 mr-2 btn-save"
                                                    id="addStimulation2"><strong>Save</strong></button>
                                                <button type="button"
                                                    class="btn btn-primary btn-style mt-2 mr-2 btn-cancel"
                                                    data-bs-dismiss="modal"><strong>Cancel</strong></button>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal" id="myModal3">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header">
                                Record Result of Day 13
                                <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                        class="fa-solid fa-circle-xmark"></i></a>
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body">
                                <div class="row">
                                    Medications
                                    <table class="table2">
                                        <tr>
                                            <th>Genric</th>
                                            <th>Drug Name</th>
                                            <th>Doses</th>
                                            <th>Quantity</th>
                                            <th>Remarks</th>
                                        </tr>
                                        <tr>
                                            <td>HMG</td>
                                            <td><input type="text" class="form-control input-style" id="hmgDrugName2"
                                                    name="hmgDrugName2"></td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-md-9">
                                                        <input type="text" class="form-control input-style"
                                                            id="hmgDosage2" name="hmgDosage2">
                                                    </div>
                                                    <div class="col-md-3">mg</div>
                                                </div>
                                            </td>
                                            <td><input type="text" class="form-control input-style" id="hmgQuantity2"
                                                    name="hmgQuantity2"></td>
                                            <td><input type="text" class="form-control input-style" id="hmgRemarks2"
                                                    name="hmgRemarks2"></td>
                                        </tr>

                                        <tr>
                                            <td>GnRH Antagonist</td>
                                            <td><input type="text" class="form-control input-style"
                                                    id="antagonistDrugName3" name="antagonistDrugName3"></td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-md-9">
                                                        <input type="text" class="form-control input-style"
                                                            id="antagonistDosage3" name="antagonistDosage3">
                                                    </div>
                                                    <div class="col-md-3">mg</div>
                                                </div>
                                            </td>
                                            <td><input type="text" class="form-control input-style"
                                                    id="antagonistQuantity3" name="antagonistQuantity3"></td>
                                            <td><input type="text" class="form-control input-style"
                                                    id="antagonistRemarks3" name="antagonistRemarks3"></td>
                                        </tr>
                                        <tr style="text-align:left">
                                            <td colspan="5"><strong>Follicular Scan</strong></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Right Follicles (mm)</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="rightFollicles3" name="rightFollicles3"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Left Follicles (mm)</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="leftFollicles3" name="leftFollicles3"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Endometrium (mm)</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="endometrium3" name="endometrium3"></td>
                                        </tr>
                                        <tr style="text-align:left">
                                            <td colspan="5"><strong>Labs</strong></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">E2</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="e2II" name="e2II"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">P4</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="p4II" name="p4II"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">Advice</td>
                                            <td colspan="3"><input type="text" class="form-control input-style"
                                                    id="advice3" name="advice3"></td>
                                        </tr>
                                    </table>
                                    <div class="text-right col-lg-12">
                                        <div class="row">
                                            <div class="col-lg-8">
                                                <div class="row" style="text-align:left">
                                                    <div class="col-lg-1">
                                                        <input type="checkbox" class="form-control" id="repeatDosage3"
                                                            name="repeatDosage3">
                                                    </div>
                                                    <div class="col-lg-11">Repeat dosage for further days</div>
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <button type="submit"
                                                    class="btn btn-primary btn-style mt-2 mr-2 btn-save"
                                                    id="addStimulation3"><strong>Save</strong></button>
                                                <button type="button"
                                                    class="btn btn-primary btn-style mt-2 mr-2 btn-cancel"
                                                    data-bs-dismiss="modal"><strong>Cancel</strong></button>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal" id="myModal4">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header">
                                Complete Stimulation
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body">
                                <div class="col-lg-12 pl-lg-2 chart-grid">
                                    <form>
                                        <div class="card">

                                            <div class="col-xl-12 card-body pt-0 pb-0 p-heading">
                                                <h6 class="p-text">MARK STIMULATION AS COMPLETED FOR ANKITA SHARMA, MRN.
                                                    OHPL/R/24/1602</h6>
                                            </div>

                                            <!-- <div class="card-body pt-2 pb-0">
                                                        <h6 class="primary">MEDICATIONS</h6>
                                                    </div> -->

                                            <!-- <div class="form-row card-body pt-0 pb-2">
                                                        <div class="col-12  mt-2">
                                                            <div class="form-group">
                                                                <div class="col col-12 pr-xl-0 pl-xl-0">
                
                                                                    <div class="slidx">
                                                                        <table class="table2">
                                                                            
                                                                            <thead>
                                                                                <tr>
                                                                                    
                                                                                    <th contenteditable="true">Generic</th>
                                                                                    <th contenteditable="true">Drug Name</th>
                                                                                    <th contenteditable="true">Dosage</th>
                                                                                    <th contenteditable="true">Quantity</th>
                                                                                    <th contenteditable="true">Remarks</th>
                
                                                                                </tr>
                                                                            </thead>
                                                                            
                                                                            <tbody>
                                                                                <tr>
                                                                                    
                                                                                    <td contenteditable="true">HMG</td>
                                                                                    <td contenteditable="true"><input name="service name" type="text"
                                                                                        class="form-control text-right input-style"
                                                                                        placeholder=""></td>
                                                                                        <td contenteditable="true"><input name="service name" type="text"
                                                                                            class="form-control text-right input-style"
                                                                                            placeholder="300 mg"></td>
                                                                                            <td contenteditable="true"></td>
                                                                                            <td contenteditable="true"><input name="service name" type="text"
                                                                                                class="form-control text-right input-style"
                                                                                                placeholder=""></td>
                                                                                                
                                                                                            </tr>
                                                                                            <tr>
                                                                                                
                                                                                                <td contenteditable="true">GnRH Antagonist</td>
                                                                                                <td contenteditable="true"><input name="service name" type="text"
                                                                                                    class="form-control text-right input-style"
                                                                                                    placeholder=""></td>
                                                                                                    <td contenteditable="true"><input name="service name" type="text"
                                                                                                        class="form-control text-right input-style"
                                                                                                        placeholder="0.25 mg"></td>
                                                                                    <td contenteditable="true"></td>
                                                                                    <td contenteditable="true"><input name="service name" type="text"
                                                                                        class="form-control text-right input-style"
                                                                                        placeholder=""></td>
                                                                                        
                                                                                    </tr>
                                                                                    
                                                                                    
                                                                                </tbody>
                
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div> -->



                                            <!--<div class="card-body pt-1 pb-0">
                                                        <h6 class="primary">FOLLICULAR SCAN</h6>
                                                    </div>-->

                                            <div class="card-body pt-2 pb-0">
                                                <div class="form-row">

                                                    <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                        <div class="form-group">
                                                            <label class="input__label">Stimulation Completed on</label>
                                                            <input name="service name" type="date"
                                                                class="form-control input-style" placeholder="">
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-md-4 col-sm-12 pl-0 mb-2 text-left">
                                                        <div class="form-check-label">
                                                            <div class="radio mt-4">


                                                                <label class="form-check-label pt-1 pr-4"><input
                                                                        id="readyForOpu" name="ready"
                                                                        class="form-check-input mt-1" type="radio">Ready
                                                                    for
                                                                    OPU</label>


                                                                <label class="form-check-label pt-1 pr-4 pl-4"><input
                                                                        name="ready" class="form-check-input mt-1"
                                                                        id="failed" type="radio">Failed
                                                                    Cycle</label>


                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                            <div class="form-group">
                                                                <label class="input__label">Endometrium (mm)</label>
                                                                <input name="service name" type="text"
                                                                    class="form-control text-right input-style"
                                                                    placeholder="">
                                                            </div>
                                                             </div> -->

                                                </div>


                                                <div class="card" id="readyOpuDiv">
                                                    <div class="form-row card-body pt-2 pb-2">

                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">

                                                            <div class="form-row">

                                                                <div class="col-6">
                                                                    <div class="form-group">
                                                                        <label class="input__label">1st Trigger
                                                                            on</label>
                                                                        <input name="1stTriggerDate" id="1stTriggerDate"
                                                                            type="date" class="form-control input-style"
                                                                            placeholder="">
                                                                    </div>
                                                                </div>

                                                                <div class="col-6">
                                                                    <div class="form-group">
                                                                        <label class="input__label">at</label>
                                                                        <input name="1stTriggerTime" id="1stTriggerTime"
                                                                            type="time" class="form-control input-style"
                                                                            placeholder="">
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>

                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">

                                                            <div class="form-row">

                                                                <div class="col-6">
                                                                    <div class="form-group">
                                                                        <label class="input__label">OPU on</label>
                                                                        <input name="opuDate" id="opuDate" type="date"
                                                                            class="form-control input-style"
                                                                            placeholder="">
                                                                    </div>
                                                                </div>

                                                                <div class="col-6">
                                                                    <div class="form-group">
                                                                        <label class="input__label">at</label>
                                                                        <input name="opuTime" id="opuTime" type="time"
                                                                            class="form-control input-style"
                                                                            placeholder="">
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>

                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                            <div class="form-group">
                                                                <label class="input__label">Trigger Type</label>
                                                                <select name="triggerType"
                                                                    class="form-control input-style">
                                                                    <option value="">None</option>
                                                                    <option value="Agonist">Agonist</option>
                                                                    <option value="DualTrigger">Dual Triggering</option>
                                                                    <option value="HCG">HCG</option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div id="hcg">
                                                            <div class="card-body col-12 pt-2 pb-0">
                                                                <h6 class="primary">HCG</h6>
                                                            </div>

                                                            <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                <div class="form-group">
                                                                    <label class="input__label">Drug</label>
                                                                    <select name="hcgDrug"
                                                                        class="form-control input-style">
                                                                        <option value="">Select</option>
                                                                        <option value="1">1</option>


                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                <div class="form-group">
                                                                    <label class="input__label">Dose</label>
                                                                    <select name="hcgDose"
                                                                        class="form-control input-style">
                                                                        <option value="">Select</option>
                                                                        <option value="1">1</option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                <div class="form-group">
                                                                    <label class="input__label">Route</label>
                                                                    <input name="hcgRoute" id="hcgRoute" type="text"
                                                                        class="form-control text-right input-style route-input"
                                                                        placeholder="">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="agonist">

                                                            <div class="card-body col-12 pt-2 pb-0">
                                                                <h6 class="primary">AGONIST</h6>
                                                            </div>

                                                            <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                <div class="form-group">
                                                                    <label class="input__label">Drug</label>
                                                                    <select name="agonistDrug" id="agonistDrug"
                                                                        class="form-control input-style">
                                                                        <option value="">Select</option>
                                                                        <option value="1">1</option>


                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                <div class="form-group">
                                                                    <label class="input__label">Dose</label>
                                                                    <select name="agonistDose" id="agonistDose"
                                                                        class="form-control input-style">
                                                                        <option value="">Select</option>
                                                                        <option value="1">1</option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                <div class="form-group">
                                                                    <label class="input__label">Route</label>
                                                                    <input name="agonistRoute" id="agonistRoute"
                                                                        type="text"
                                                                        class="form-control text-right input-style route-input"
                                                                        placeholder="">
                                                                </div>
                                                            </div>
                                                        </div>





                                                        <!-- <div class="card-body col-12 pt-2 pb-0">
                                                                    <h6 class="primary">AGONIST</h6>
                                                                </div> -->

                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                            <div class="form-group">
                                                                <label class="input__label">Expected no. of
                                                                    follicles</label>
                                                                <input name="service name" type="text"
                                                                    class="form-control text-right input-style"
                                                                    placeholder="">
                                                            </div>
                                                        </div>


                                                        <div class="col-lg-4 col-md-4 col-sm-12 pl-0 mb-2 text-left">
                                                            <div class="form-check-label">
                                                                <div class="radio mt-4">


                                                                    <label
                                                                        class="form-check-label pt-1 pr-4 pl-4"><input
                                                                            name="transfer" value="All Freeze - Ovums"
                                                                            class="form-check-input mt-1"
                                                                            type="radio">All Freeze - Ovums</label>


                                                                    <label class="form-check-label pt-1 pl-4"><input
                                                                            name="transfer" value="All Freeze - Embryos"
                                                                            class="form-check-input mt-1"
                                                                            type="radio">All Freeze - Embryos</label>
                                                                    <label class="form-check-label pt-1 pl-4"><input
                                                                            name="transfer"
                                                                            value="Transfer and Freeze Embryos"
                                                                            class="form-check-input mt-1"
                                                                            type="radio">Transfer and Freeze
                                                                        Embryos</label>


                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                                <div class="col-lg-4 col-md-4 col-sm-12 mb-2" id="failedDiv">
                                                    <div class="form-group">
                                                        <label class="input__label">Reason for Failure</label>
                                                        <select name="report_generated_by"
                                                            class="form-control input-style">
                                                            <option></option>
                                                            <option>Abnormal Blood Reports</option>
                                                            <option>Poor Response</option>
                                                            <option>Premature Ovulation</option>
                                                            <option>Risk of Hyperstimulation</option>
                                                            <option>Others</option>

                                                        </select>
                                                    </div>
                                                </div>


                                                <div class="form-row mt-2">

                                                    <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                        <div class="form-group">
                                                            <label class="input__label">Stimulation completion recorded
                                                                by</label>
                                                            <select name="stimulationRecordedBy"
                                                                id="stimulationRecordedBy"
                                                                class="form-control input-style">
                                                                <option value="">Select</option>
                                                                <option>DR. NISHA BHATNAGAR</option>
                                                                <option>Assistant Doctor</option>

                                                            </select>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                        <div class="form-group">
                                                            <label class="input__label">Remarks</label>
                                                            <textarea name="remarks" id="remarks"
                                                                class="form-control input-style"
                                                                placeholder=""></textarea>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>





                                        </div>

                                        <div class="form-group mt-1 mb-3 text-right">

                                            <!-- <button type="button" class="btn-success btn-style btn mt-3 mr-2"><strong><i
                                                                class="fa-regular fa-pen-to-square"></i> Modify</strong></button>
                                                                
                                                                <button type="button" class="btn-secondary btn-style btn mt-3"><strong><i class="fa-regular fa-pen-to-square"></i>
                                                            Edit</strong></button> -->

                                            <button type="button" class="btn-danger btn-style btn mt-3 mr-2"
                                                data-bs-dismiss="modal"><strong><i class="fas fa-times"></i>
                                                    Cancel</strong></button>

                                            <button type="submit" class="btn-primary btn-style btn mt-3"><strong><i
                                                        class="far fa-save"></i>
                                                    Save</strong></button>

                                        </div>
                                    </form>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>


                <!-- <script>
                            $(document).ready(function() {
                                // Hide specific divs on load
                                $('#readyOpuDiv').hide();
                                $('#hcg').hide();
                                $('#agonist').hide();
                                $('#failedDiv').hide();
                        
                                // Show/hide divs based on the 'Ready for OPU' radio button selection
                                $('#readyForOpu').change(function() {
                                    if (this.checked) {
                                        $('#readyOpuDiv').show();
                                        $('#failedDiv').hide();
                                    }
                                });
                        
                                // Show/hide divs based on the 'Failed Cycle' radio button selection
                                $('#failed').change(function() {
                                    if (this.checked) {
                                        $('#readyOpuDiv').hide();
                                        $('#failedDiv').show();
                                    }
                                });
                        
                                // Handling Trigger Type selection changes
                                $('select[name="triggerType"]').change(function() {
                                    var triggerType = $(this).val();
                                    switch (triggerType) {
                                        case 'HCG':
                                            $('#hcg').show();
                                            $('#agonist').hide();
                                            break;
                                        case 'Agonist':
                                            $('#agonist').show();
                                            $('#hcg').hide();
                                            break;
                                        case 'DualTrigger':
                                            $('#hcg').show();
                                            $('#agonist').show();
                                            break;
                                        default:
                                            $('#hcg').hide();
                                            $('#agonist').hide();
                                    }
                                });
                        
                                // Calculating 35 hours ahead of the 1st trigger time
                                $('#1stTriggerTime').change(function() {
                                    var triggerTimeValue = $(this).val(); // in HH:MM format
                                    var triggerDateValue = $('#1stTriggerDate').val(); // in YYYY-MM-DD format
                        
                                    if (triggerDateValue && triggerTimeValue) {
                                        var fullDateTime = new Date(triggerDateValue + 'T' + triggerTimeValue);
                                        if (!isNaN(fullDateTime.getTime())) {
                                            fullDateTime.setHours(fullDateTime.getHours() + 35);
                                            var updatedDate = fullDateTime.toISOString().split('T')[0]; // YYYY-MM-DD format
                                            var updatedTime = fullDateTime.toISOString().substring(11, 16); // HH:MM format
                                            $('#opuDate').val(updatedDate);
                                            $('#opuTime').val(updatedTime);
                                        } else {
                                            console.error('Invalid date or time input');
                                        }
                                    } else {
                                        console.error('Date or time input is missing');
                                    }
                                });
                        
                                // Handle form submission
                                $('form').submit(function(e) {
                                    e.preventDefault(); // Prevent default form submission
                        
                                    // Collect data
                                    var data = {
                                        stimulationCompletedOn: $('input[name="service name"][type="date"]').val(),
                                        readyForOpu: $('#readyForOpu').is(':checked'),
                                        failedCycle: $('#failed').is(':checked'),
                                        cycleId: 0,
                                        reasonForFailure: $('#failedDiv select[name="report_generated_by"]').val(),
                                        stimulationRecordedBy: $('#stimulationRecordedBy').val(),
                                        transfer: $('input[name="transfer"]:checked').val(),
                                        remarks: $('#remarks').val()
                                    };
                        
                                    // Validation
                                    if (!data.stimulationCompletedOn || (!data.readyForOpu && !data.failedCycle) || !data.stimulationRecordedBy || !data.remarks) {
                                        alert('Please fill in all required fields.');
                                        return; // Stop form submission
                                    }
                        
                                    // If "Ready for OPU" is selected, validate OPU fields
                                    if (data.readyForOpu) {
                                        if (!$('#1stTriggerDate').val() || !$('#1stTriggerTime').val() || !$('select[name="triggerType"]').val()) {
                                            alert('Please fill in all trigger-related fields for OPU.');
                                            return; // Stop form submission
                                        }
                                    }
                        
                                    // Send data to backend
                                    axios.post('/embrology/saveStimulationSubmit', data)
                                        .then(function(response) {
                                            alert("Stimulation Completed Successfully");
                                            console.log('Success:', response.data);
                                            // Handle success
                                        })
                                        .catch(function(error) {
                                            console.error('Error:', error);
                                            // Handle error
                                        });
                                });
                            });
                        </script>
                         -->


                <!-- Another$$$$$$%%%%%%%%%%%%% -->


                <!-- <script>
    $(document).ready(function() {
        // Hide specific divs on load
        $('#readyOpuDiv').hide();
        $('#hcg').hide();
        $('#agonist').hide();
        $('#failedDiv').hide();

        // Show/hide divs based on the 'Ready for OPU' radio button selection
        $('#readyForOpu').change(function() {
            if (this.checked) {
                $('#readyOpuDiv').show();
                $('#failedDiv').hide();
            }
        });

        // Show/hide divs based on the 'Failed Cycle' radio button selection
        $('#failed').change(function() {
            if (this.checked) {
                $('#readyOpuDiv').hide();
                $('#failedDiv').show();
            }
        });

        // Handling Trigger Type selection changes
        $('select[name="triggerType"]').change(function() {
            var triggerType = $(this).val();
            switch (triggerType) {
                case 'HCG':
                    $('#hcg').show();
                    $('#agonist').hide();
                    break;
                case 'Agonist':
                    $('#agonist').show();
                    $('#hcg').hide();
                    break;
                case 'DualTrigger':
                    $('#hcg').show();
                    $('#agonist').show();
                    break;
                default:
                    $('#hcg').hide();
                    $('#agonist').hide();
            }
        });

        // Calculating 35 hours ahead of the 1st trigger time
        $('#1stTriggerTime').change(function() {
            var triggerTimeValue = $(this).val(); // in HH:MM format
            var triggerDateValue = $('#1stTriggerDate').val(); // in YYYY-MM-DD format

            if (triggerDateValue && triggerTimeValue) {
                var fullDateTime = new Date(triggerDateValue + 'T' + triggerTimeValue);
                if (!isNaN(fullDateTime.getTime())) {
                    fullDateTime.setHours(fullDateTime.getHours() + 35);
                    var updatedDate = fullDateTime.toISOString().split('T')[0]; // YYYY-MM-DD format
                    var updatedTime = fullDateTime.toISOString().substring(11, 16); // HH:MM format
                    $('#opuDate').val(updatedDate);
                    $('#opuTime').val(updatedTime);
                } else {
                    console.error('Invalid date or time input');
                }
            } else {
                console.error('Date or time input is missing');
            }
        });

        // Handle form submission
        $('form').submit(function(e) {
            e.preventDefault(); // Prevent default form submission

            // Collect data
            var data = {
                stimulationCompletedOn: $('input[name="service name"][type="date"]').val(),
                readyForOpu: $('#readyForOpu').is(':checked'),
                failedCycle: $('#failed').is(':checked'),
                cycleId: 0,
                reasonForFailure: $('#failedDiv select[name="report_generated_by"]').val(),
                stimulationRecordedBy: $('#stimulationRecordedBy').val(),
                transfer: $('input[name="transfer"]:checked').val(),
                remarks: $('#remarks').val()
            };

            // Validation
            if (!data.stimulationCompletedOn || (!data.readyForOpu && !data.failedCycle) || !data.stimulationRecordedBy || !data.remarks) {
                alert('Please fill in all required fields.');
                return; // Stop form submission
            }

            // If "Ready for OPU" is selected, validate OPU fields
            if (data.readyForOpu) {
                if (!$('#1stTriggerDate').val() || !$('#1stTriggerTime').val() || !$('select[name="triggerType"]').val()) {
                    alert('Please fill in all trigger-related fields for OPU.');
                    return; // Stop form submission
                }
            }

            // Send data to backend
            axios.post('/embrology/saveStimulationSubmit', data)
                .then(function(response) {
                    alert("Stimulation Completed Successfully");
                    console.log('Success:', response.data);
                    
                    // If successful, close the modal
                    $('#myModal').modal('hide');  // If using Bootstrap modal
                    
                    // Or, if using a custom modal:
                    $('#myModal').hide();  // For custom modals
                })
                .catch(function(error) {
                    console.error('Error:', error);
                    // Handle error
                });
        });
    });
</script>
 -->




                <script>
                    $(document).ready(function () {
                        // Hide specific divs on load
                        $('#readyOpuDiv').hide();
                        $('#hcg').hide();
                        $('#agonist').hide();
                        $('#failedDiv').hide();

                        // Show/hide divs based on the 'Ready for OPU' radio button selection
                        $('#readyForOpu').change(function () {
                            if (this.checked) {
                                $('#readyOpuDiv').show();
                                $('#failedDiv').hide();
                            }
                        });

                        // Show/hide divs based on the 'Failed Cycle' radio button selection
                        $('#failed').change(function () {
                            if (this.checked) {
                                $('#readyOpuDiv').hide();
                                $('#failedDiv').show();
                            }
                        });

                        // Handling Trigger Type selection changes
                        $('select[name="triggerType"]').change(function () {
                            var triggerType = $(this).val();
                            switch (triggerType) {
                                case 'HCG':
                                    $('#hcg').show();
                                    $('#agonist').hide();
                                    break;
                                case 'Agonist':
                                    $('#agonist').show();
                                    $('#hcg').hide();
                                    break;
                                case 'DualTrigger':
                                    $('#hcg').show();
                                    $('#agonist').show();
                                    break;
                                default:
                                    $('#hcg').hide();
                                    $('#agonist').hide();
                            }
                        });

                        // Calculating 35 hours ahead of the 1st trigger time
                        $('#1stTriggerTime').change(function () {
                            var triggerTimeValue = $(this).val(); // in HH:MM format
                            var triggerDateValue = $('#1stTriggerDate').val(); // in YYYY-MM-DD format

                            if (triggerDateValue && triggerTimeValue) {
                                var fullDateTime = new Date(triggerDateValue + 'T' + triggerTimeValue);
                                if (!isNaN(fullDateTime.getTime())) {
                                    fullDateTime.setHours(fullDateTime.getHours() + 35);
                                    var updatedDate = fullDateTime.toISOString().split('T')[0]; // YYYY-MM-DD format
                                    var updatedTime = fullDateTime.toISOString().substring(11, 16); // HH:MM format
                                    $('#opuDate').val(updatedDate);
                                    $('#opuTime').val(updatedTime);
                                } else {
                                    console.error('Invalid date or time input');
                                }
                            } else {
                                console.error('Date or time input is missing');
                            }
                        });

                        // Handle form submission
                        $('form').submit(function (e) {
                            e.preventDefault(); // Prevent default form submission

                            // Collect data
                            var data = {
                                stimulationCompletedOn: $('input[name="service name"][type="date"]').val(),
                                readyForOpu: $('#readyForOpu').is(':checked'),
                                failedCycle: $('#failed').is(':checked'),
                                reasonForFailure: $('#failedDiv select[name="report_generated_by"]').val(),
                                stimulationRecordedBy: $('#stimulationRecordedBy').val(),
                                transfer: $('input[name="transfer"]:checked').val(),
                                remarks: $('#remarks').val(),
                                firstTrigger: $('#1stTriggerDate').val() + ' ' + $('#1stTriggerTime').val()
                            };

                            // Validation
                            if (!data.stimulationCompletedOn || (!data.readyForOpu && !data.failedCycle) || !data.stimulationRecordedBy || !data.remarks) {
                                alert('Please fill in all required fields.');
                                return; // Stop form submission
                            }

                            // If "Ready for OPU" is selected, validate OPU fields
                            if (data.readyForOpu) {
                                if (!$('#1stTriggerDate').val() || !$('#1stTriggerTime').val() || !$('select[name="triggerType"]').val()) {
                                    alert('Please fill in all trigger-related fields for OPU.');
                                    return; // Stop form submission
                                }
                            }

                            // Send data to backend
                            axios.post('/embrology/saveStimulationSubmit', data)
                                .then(function (response) {
                                    alert("Stimulation Completed Successfully");
                                    console.log('Success:', response.data);

                                    // If successful, close the modal
                                    $('#myModal4').modal('hide');  // For Bootstrap modal

                                    // Hide the "Save" button
                                    // $('#myModal4').hide();
                                })
                                .catch(function (error) {
                                    console.error('Error:', error);
                                    // Handle error
                                });
                        });
                    });
                </script>





                <script>
                    $(document).ready(function () {
                        // Hide all tables initially
                        $('.table-container').hide();

                        // Show the correct table and update the button class when the select value changes
                        $('#protocol').change(function () {
                            // Hide all tables
                            $('.table-container').hide();

                            // Get the selected protocol
                            var selectedProtocol = $(this).val();

                            // Convert the protocol to a format matching the IDs of the divs
                            var idToShow = '#' + selectedProtocol.replace(/\s+/g, '').replace(/[^a-zA-Z0-9]/g, '');

                            // Show the corresponding table
                            $(idToShow).show();

                            // Remove any previous protocol classes from the button
                            $('#addRow').removeClass(function (index, className) {
                                return (className.match(/\bprotocol-\S+/g) || []).join(' ');
                            });

                            // Add the selected protocol as a class to the button
                            var protocolClass = 'protocol-' + selectedProtocol.replace(/\s+/g, '').replace(/[^a-zA-Z0-9]/g, '');
                            $('#addRow').addClass(protocolClass);
                        });

                        // Trigger change on page load to show the correct table and update the button class
                        $('#protocol').change();
                    });
                </script>
                <script>
                    $(document).ready(function () {
                        // Function to load saved rows from localStorage
                        function loadRows() {
                            var letrozoleRows = JSON.parse(localStorage.getItem('letrozoleRows') || '[]');
                            letrozoleRows.forEach(function (row) {
                                $('#letrozolebody').append(row);
                            });

                            var dose2Rows = JSON.parse(localStorage.getItem('dose2Rows') || '[]');
                            dose2Rows.forEach(function (row) {
                                $('#dose2body').append(row);
                            });

                            var longRows = JSON.parse(localStorage.getItem('longRows') || '[]');
                            longRows.forEach(function (row) {
                                $('#longRows').append(row);
                            });

                            var shortRows = JSON.parse(localStorage.getItem('shortRows') || '[]');
                            shortRows.forEach(function (row) {
                                $('#shortRows').append(row);
                            });
                        }

                        // Load rows on page load
                        loadRows();

                        $('#addRow').click(function () {
                            // Check if the button has the class 'protocol-ClomiphenecitrateLetrozole'
                            if ($(this).hasClass('protocol-ClomiphenecitrateLetrozole')) {
                                // Find the last row in the tbody
                                var lastRow = $('#letrozolebody tr:last');

                                // Get the last date and cd values
                                var lastDate = lastRow.find('.date_letrozole').text();
                                var lastCd = parseInt(lastRow.find('.cd_letrozole').text());

                                // Calculate the new date by adding one day
                                var dateParts = lastDate.split('/');
                                var newDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);
                                newDate.setDate(newDate.getDate() + 1);

                                var newDay = String(newDate.getDate()).padStart(2, '0');
                                var newMonth = String(newDate.getMonth() + 1).padStart(2, '0'); // Months are zero-based
                                var newYear = newDate.getFullYear();
                                var formattedNewDate = newDay + '/' + newMonth + '/' + newYear;

                                // Increment cd by 1
                                var newCd = lastCd + 1;

                                // Define the new row with incremented date and cd
                                var newRow = `<tr class="dullcolor">
                                                        <td class="date_letrozole">${formattedNewDate}</td>
                                                        <td class="cd_letrozole">${newCd}</td>
                                                        <td class="cc_letrozole">100</td>
                                                        <td class="rfsh_letrozole">300</td>
                                                        <td class="gnrh_letrozole"></td>
                                                        <td class="right_letrozole"></td>
                                                        <td class="left_letrozole"></td>
                                                        <td class="endo_letrozole"></td>
                                                        <td class="e2_letrozole"></td>
                                                        <td class="p4_letrozole"></td>
                                                        <td class="advice_letrozole"></td>
                                                        <td><i class="fas fa-pen pen-icon letrozole" data-bs-toggle="modal" data-bs-target="#myModal"></i></td>
                                                        <td><i class="fa-regular fa-circle-check pen-icon letrozoleCheck"></i></td>
                                                      </tr>`;

                                // Append the row to the tbody with the id 'letrozolebody'
                                $('#letrozolebody').append(newRow);

                                // Save the row to localStorage
                                var rows = JSON.parse(localStorage.getItem('letrozoleRows') || '[]');
                                rows.push(newRow);
                                localStorage.setItem('letrozoleRows', JSON.stringify(rows));
                            }

                            // Check if the button has the class 'protocol-AntagonistDailyDose2'
                            if ($(this).hasClass('protocol-AntagonistDailyDose2')) {
                                // Find the last row in the tbody
                                var lastRow = $('#dose2body tr:last');

                                // Get the last date and cd values
                                var lastDate = lastRow.find('.date_AntagonistDailyDose2').text();
                                var lastCd = parseInt(lastRow.find('.cd_AntagonistDailyDose2').text());

                                // Calculate the new date by adding one day
                                var dateParts = lastDate.split('/');
                                var newDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);
                                newDate.setDate(newDate.getDate() + 1);

                                var newDay = String(newDate.getDate()).padStart(2, '0');
                                var newMonth = String(newDate.getMonth() + 1).padStart(2, '0'); // Months are zero-based
                                var newYear = newDate.getFullYear();
                                var formattedNewDate = newDay + '/' + newMonth + '/' + newYear;

                                // Increment cd by 1
                                var newCd = lastCd + 1;

                                // Define the new row with incremented date and cd
                                var newRow = `<tr class="dullcolor">
                                                        <td class="date_AntagonistDailyDose2">${formattedNewDate}</td>
                                                        <td class="cd_AntagonistDailyDose2">${newCd}</td>
                                                        <td class="hmg_AntagonistDailyDose2">100</td>
                                                        <td class="gnrh_AntagonistDailyDose2"></td>
                                                        <td class="right_AntagonistDailyDose2"></td>
                                                        <td class="left_AntagonistDailyDose2"></td>
                                                        <td class="endo_AntagonistDailyDose2"></td>
                                                        <td class="e2_AntagonistDailyDose2"></td>
                                                        <td class="p4_AntagonistDailyDose2"></td>
                                                        <td class="advice_AntagonistDailyDose2"></td>
                                                        <td colspan="2">
                                                            <i class="fas fa-pen pen-icon" data-bs-toggle="modal" data-bs-target="#myModal3"></i>
                                                            <i class="fa-regular fa-circle-check pen-icon copy-btn"></i>
                                                        </td>
                                                      </tr>`;

                                // Append the row to the tbody with the id 'dose2body'
                                $('#dose2body').append(newRow);

                                // Save the row to localStorage
                                var rows = JSON.parse(localStorage.getItem('dose2Rows') || '[]');
                                rows.push(newRow);
                                localStorage.setItem('dose2Rows', JSON.stringify(rows));
                            }

                            // Check if the button has the class 'protocol-LongAgonist'
                            if ($(this).hasClass('protocol-LongAgonist')) {
                                // Find the last row in the tbody
                                var lastRow = $('#longRows tr:last');

                                // Get the last date and cd values
                                var lastDate = lastRow.find('.date_LongAgonist').text();
                                var lastCd = parseInt(lastRow.find('.cd_LongAgonist').text());

                                // Calculate the new date by adding one day
                                var dateParts = lastDate.split('/');
                                var newDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);
                                newDate.setDate(newDate.getDate() + 1);

                                var newDay = String(newDate.getDate()).padStart(2, '0');
                                var newMonth = String(newDate.getMonth() + 1).padStart(2, '0'); // Months are zero-based
                                var newYear = newDate.getFullYear();
                                var formattedNewDate = newDay + '/' + newMonth + '/' + newYear;

                                // Increment cd by 1
                                var newCd = lastCd + 1;

                                // Define the new row with incremented date and cd
                                var newRow = `<tr class="dullcolor">
                                                        <td class="date_LongAgonist">${formattedNewDate}</td>
                                                        <td class="cd_LongAgonist">${newCd}</td>
                                                        <td class="gnrh_LongAgonist">10</td>
                                                        <td class="rfsh_LongAgonist"></td>
                                                        <td class="hmg_LongAgonist"></td>
                                                        <td class="right_LongAgonist"></td>
                                                        <td class="left_LongAgonist"></td>
                                                        <td class="endo_LongAgonist"></td>
                                                        <td class="e2_LongAgonist"></td>
                                                        <td class="p4_LongAgonist"></td>
                                                        <td class="advice_LongAgonist"></td>
                                                        <td><i class="fas fa-pen pen-icon LongAgonist" data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                        <td><i class="fa-regular fa-circle-check pen-icon LongAgonist copyBtn"></i></td>
                                                      </tr>`;

                                // Append the row to the tbody with the id 'longRows'
                                $('#longRows').append(newRow);


                                $('.copyBtn').click(function () {
                                    var currentRow = $(this).closest('tr');
                                    var nextRows = currentRow.nextAll('tr'); // Select all subsequent rows

                                    // Get current row values
                                    var currentInputs = currentRow.find('input');
                                    var currentSelects = currentRow.find('select');

                                    nextRows.each(function () {
                                        var nextRow = $(this);
                                        var nextInputs = nextRow.find('input');
                                        var nextSelects = nextRow.find('select');

                                        // Copy values from input fields
                                        currentInputs.each(function (index) {
                                            var value = $(this).val();
                                            nextInputs.eq(index).val(value);
                                        });

                                        // Copy selected options from select elements
                                        currentSelects.each(function (index) {
                                            var value = $(this).val();
                                            nextSelects.eq(index).val(value);
                                        });
                                    });
                                });


                                // Save the row to localStorage
                                var rows = JSON.parse(localStorage.getItem('longRows') || '[]');
                                rows.push(newRow);
                                localStorage.setItem('longRows', JSON.stringify(rows));
                            }

                            // Check if the button has the class 'protocol-ShortAgonist'
                            if ($(this).hasClass('protocol-ShortAgonist')) {
                                // Find the last row in the tbody
                                var lastRow = $('#shortRows tr:last');

                                // Get the last date and cd values
                                var lastDate = lastRow.find('.date_ShortAgonist').text();
                                var lastCd = parseInt(lastRow.find('.cd_ShortAgonist').text());

                                // Calculate the new date by adding one day
                                var dateParts = lastDate.split('/');
                                var newDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);
                                newDate.setDate(newDate.getDate() + 1);

                                var newDay = String(newDate.getDate()).padStart(2, '0');
                                var newMonth = String(newDate.getMonth() + 1).padStart(2, '0'); // Months are zero-based
                                var newYear = newDate.getFullYear();
                                var formattedNewDate = newDay + '/' + newMonth + '/' + newYear;

                                // Increment cd by 1
                                var newCd = lastCd + 1;

                                // Define the new row with incremented date and cd
                                var newRow = `<tr class="dullcolor">
                                                        <td class="date_ShortAgonist">${formattedNewDate}</td>
                                                        <td class="cd_ShortAgonist">${newCd}</td>
                                                        <td class="gnrh_ShortAgonist">10</td>
                                                        <td class="rfsh_ShortAgonist">225</td>
                                                        <td class="hmg_ShortAgonist">75</td>
                                                        <td class="right_ShortAgonist"></td>
                                                        <td class="left_ShortAgonist"></td>
                                                        <td class="endo_ShortAgonist"></td>
                                                        <td class="e2_ShortAgonist"></td>
                                                        <td class="p4_ShortAgonist"></td>
                                                        <td class="advice_ShortAgonist"></td>
                                                        <td><i class="fas fa-pen pen-icon ShortAgonist" data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                        <td><i class="fa-regular fa-circle-check pen-icon ShortAgonist"></i></td>
                                                      </tr>`;

                                // Append the row to the tbody with the id 'shortRows'
                                $('#shortRows').append(newRow);

                                // Save the row to localStorage
                                var rows = JSON.parse(localStorage.getItem('shortRows') || '[]');
                                rows.push(newRow);
                                localStorage.setItem('shortRows', JSON.stringify(rows));
                            }
                        });
                    });
                </script>

                <script>
                    $(document).ready(function () {
                        // Function to load saved rows from localStorage
                        function loadRows() {



                            var rows = JSON.parse(localStorage.getItem('dose1rows') || '[]');
                            rows.forEach(function (row) {
                                $('#AntagonistDailyDose1body').append(row);
                            });
                        }

                        // Load rows on page load
                        loadRows();

                        $('#addRow').click(function () {
                            if ($(this).hasClass('protocol-AntagonistDailyDose1')) {
                                var lastRow = $('#AntagonistDailyDose1body tr:last');
                                var lastDate = lastRow.find('.date_AntagonistDailyDose1').text();
                                var lastCd = parseInt(lastRow.find('.cd_AntagonistDailyDose1e').text());

                                var dateParts = lastDate.split('/');
                                var newDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);
                                newDate.setDate(newDate.getDate() + 1);

                                var newDay = String(newDate.getDate()).padStart(2, '0');
                                var newMonth = String(newDate.getMonth() + 1).padStart(2, '0');
                                var newYear = newDate.getFullYear();
                                var formattedNewDate = newDay + '/' + newMonth + '/' + newYear;

                                var newCd = lastCd + 1;

                                var newRow = `<tr class="dullcolor">
                                                        <td class="date_AntagonistDailyDose1">${formattedNewDate}</td>
                                                        <td class="cd_AntagonistDailyDose1e">${newCd}</td>
                                                        <td class="hmg_AntagonistDailyDose1">100</td>
                                                        <td class="rfsh_AntagonistDailyDose1">300</td>
                                                        <td class="gnrh_AntagonistDailyDose1"></td>
                                                        <td class="right_AntagonistDailyDose1"></td>
                                                        <td class="left_AntagonistDailyDose1"></td>
                                                        <td class="endo_AntagonistDailyDose1"></td>
                                                        <td class="e2_AntagonistDailyDose1"></td>
                                                        <td class="p4_AntagonistDailyDose1"></td>
                                                        <td class="advice_AntagonistDailyDose1"></td>
                                                        <td><i class="fas fa-pen pen-icon AntagonistDailyDose1" data-bs-toggle="modal" data-bs-target="#myModal2"></i></td>
                                                        <td><i class="fa-regular fa-circle-check pen-icon"></i></td>
                                                      </tr>`;

                                // Append the row to the tbody
                                $('#AntagonistDailyDose1body').append(newRow);

                                // Save the row to localStorage
                                var rows = JSON.parse(localStorage.getItem('dose1rows') || '[]');
                                rows.push(newRow);
                                localStorage.setItem('dose1rows', JSON.stringify(rows));
                            }
                        });
                    });
                </script>


                <script>
                    $(document).ready(function () {
                        // Add click event listener to all check icons
                        $('.table-container').on('click', '.letrozoleCheck', function () {
                            const row = $(this).closest('tr');
                            const updatedData = {
                                dayId: row.find('td:nth-child(2)').text(),
                                cc: row.find('.cc_letrozole').text(),
                                rFsh: row.find('.rfsh_letrozole').text(),
                                antagonist: row.find('.gnrh_letrozole').text(),
                                rightFollicles: row.find('.right_letrozole').text(),
                                leftFollicles: row.find('.left_letrozole').text(),
                                endometrium: row.find('.endo_letrozole').text(),
                                e2: row.find('.e2_letrozole').text(),
                                p4: row.find('.p4_letrozole').text(),
                                advice: row.find('.advice_letrozole').text(),
                            };
                            console.log(updateData.dayId)

                            // Remove the 'dullcolor' class from the parent 'tr'
                            row.removeClass('dullcolor');

                            // Then remove the 'fa-circle-check' class and optionally replace it or just remove the icon
                            $(this).removeClass('fa-circle-check');

                            // AJAX request to send data to the server
                            $.ajax({
                                url: '/embrology/save-stimulation-data', // Assuming this is your endpoint
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);
                                    alert("Error updating data. Please try again.");
                                }
                            });
                        });

                        // Other event listeners for modal interactions and updates...
                    });
                </script>

                <script>
                    $(document).ready(function () {
                        // Event listener for click on the pen icon to open the modal and prefill fields
                        $('.table-container').on('click', '.letrozole', function () {
                            const row = $(this).closest('tr');
                            var that = $(this);
                            const data = {
                                date: row.find('td:nth-child(1)').text(),
                                cd: row.find('td:nth-child(2)').text(),
                                cc: row.find('td:nth-child(3)').text(),
                                rFsh: row.find('td:nth-child(4)').text(),
                                antagonist: row.find('td:nth-child(5)').text(),
                                rightFollicles: row.find('td:nth-child(6)').text(),
                                leftFollicles: row.find('td:nth-child(7)').text(),
                                endometrium: row.find('td:nth-child(8)').text(),
                                e2: row.find('td:nth-child(9)').text(),
                                p4: row.find('td:nth-child(10)').text(),
                                advice: row.find('td:nth-child(11)').text(),
                                repeatDosage: $('#repeatDosage').is(':checked') ? true : false,
                            };

                            // Fill the modal fields
                            $('#ccDrugName').val(data.cc);
                            $('#rFshDrugName').val(data.rFsh);
                            $('#antagonistDrugName').val(data.antagonist);
                            $('#rightFollicles').val(data.rightFollicles);
                            $('#leftFollicles').val(data.leftFollicles);
                            $('#endometrium').val(data.endometrium);
                            $('#e2').val(data.e2);
                            $('#p4').val(data.p4);
                            $('#advice').val(data.advice);
                            $('#repeatDosage').prop('checked', data.repeatDosage);

                            // Store the current row in the modal's save button for reference on save
                            $('#addStimulation').data('row', row);
                            $(this).closest('tr').removeClass('dullcolor');

                            // Then remove the 'fa-circle-check' class and optionally replace it or just remove the icon
                            that.find('.fa-circle-check').remove();


                            // Show the modal
                            $('#myModal').modal('show');
                        });

                        // Save changes from the modal to the table row and send to backend
                        $('#addStimulation').on('click', function () {
                            const row = $(this).data('row');
                            const updatedData = { 
                                dayId: row.find('td:nth-child(2)').text(),
                                cc: $('#ccDrugName').val(),
                                rFsh: $('#rFshDrugName').val(),
                                antagonist: $('#antagonistDrugName').val(),
                                rightFollicles: $('#rightFollicles').val(),
                                leftFollicles: $('#leftFollicles').val(),
                                endometrium: $('#endometrium').val(),
                                e2: $('#e2').val(),
                                p4: $('#p4').val(),
                                advice: $('#advice').val(),
                                repeatDosage: $('#repeatDosage').is(':checked') ? true : false,
                            };
                            console.log(updatedData.dayId);

                            // Update the row visually
                            row.find('td:nth-child(3)').text(updatedData.cc);
                            row.find('td:nth-child(4)').text(updatedData.rFsh);
                            row.find('td:nth-child(5)').text(updatedData.antagonist);
                            row.find('td:nth-child(6)').text(updatedData.rightFollicles);
                            row.find('td:nth-child(7)').text(updatedData.leftFollicles);
                            row.find('td:nth-child(8)').text(updatedData.endometrium);
                            row.find('td:nth-child(9)').text(updatedData.e2);
                            row.find('td:nth-child(10)').text(updatedData.p4);
                            row.find('td:nth-child(11)').text(updatedData.advice);

                            // AJAX request to send data to the server
                            $.ajax({
                                url: '/embrology/save-stimulation-data',  // Assuming this is your endpoint
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);
                                    alert("Error updating data. Please try again.");
                                }
                            });

                            // Close the modal
                            $('#myModal').modal('hide');
                        });
                    });
                </script>
                <script>
                    $(document).ready(function () {
                        // Function to fetch and populate data
                        function fetchDataAndPopulate() {

                            $('.table2 tbody tr').each(function () {
                                var dayId = $(this).find('.cd_letrozole').text(); // Assumes dayId is in the 'CD' column
                                var that = $(this); // To maintain the correct reference inside the AJAX success function

                                // Make AJAX call to fetch data
                                axios.get('/embrology/stimulation-data', {
                                    params: {
                                        dayId: dayId
                                    }
                                })
                                    .then(function (response) {
                                        var data;
                                        if(response.data){
                                            console.log('omg')
                                            data = response.data.find(function (item) {
                                                return item.length > 0 && item[0].dayId.toString() === dayId.toString();
                                            });
                                        }
                                        if (data && data.length > 0) {
                                            console.log('data')
                                            data = data[0];
                                            that.find('.cc_letrozole').text(data.cc || '');
                                            that.find('.rfsh_letrozole').text(data.rFsh || '');
                                            that.find('.gnrh_letrozole').text(data.antagonist || '');
                                            that.find('.right_letrozole').text(data.rightFollicles || '');
                                            that.find('.left_letrozole').text(data.leftFollicles || '');
                                            that.find('.endo_letrozole').text(data.endometrium || '');
                                            that.find('.e2_letrozole').text(data.e2 || '');
                                            that.find('.p4_letrozole').text(data.p4 || '');
                                            that.find('.advice_letrozole').text(data.advice || '');
                                            that.removeClass('dullcolor');
                                            that.find('.fa-circle-check').remove();
                                        }
                                    })
                                    .catch(function (error) {
                                        console.error('Error fetching data:', error);
                                        alert("Error fetching data. Please try again.");
                                    });
                            });
                        }

                        // Call the function on page load
                        fetchDataAndPopulate();

                        // Rest of your existing event listeners for modal interactions and updates...
                    });
                </script>
                <script>
                    $(document).ready(function () {
                        $('#AntagonistDailyDose1').on('click', '.fa-circle-check', function () {
                            const row = $(this).closest('tr');
                            const updatedData = {
                                dayId: row.find('.cd_AntagonistDailyDose1e').text(),
                                hmg: row.find('.hmg_AntagonistDailyDose1').text(),
                                rFsh: row.find('.rfsh_AntagonistDailyDose1').text(),
                                antagonist: row.find('.gnrh_AntagonistDailyDose1').text(),
                                rightFollicles: row.find('.right_AntagonistDailyDose1').text(),
                                leftFollicles: row.find('.left_AntagonistDailyDose1').text(),
                                endometrium: row.find('.endo_AntagonistDailyDose1').text(),
                                e2: row.find('.e2_AntagonistDailyDose1').text(),
                                p4: row.find('.p4_AntagonistDailyDose1').text(),
                                advice: row.find('.advice_AntagonistDailyDose1').text()
                            };
                            console.log(updatedData.dayId);

                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor');
                                    $(this).remove(); // Optionally remove or hide the check icon
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);

                                }
                            });
                        });
                    });
                </script>

                <script>
                    $(document).ready(function () {
                        console.log("Document ready!");

                        // Ensuring we target the table-container directly for event delegation
                        $('#AntagonistDailyDose1').on('click', '.fa-pen', function () {
                            const row = $(this).closest('tr');
                            console.log("Pen icon clicked, row data will be fetched for modal.");

                            // Prefill the modal's fields with the row's data
                            $('#hmgDrugName').val(row.find('.hmg_AntagonistDailyDose1').text().trim());
                            $('#rFshDrugName2').val(row.find('.rfsh_AntagonistDailyDose1').text().trim());
                            $('#antagonistDrugName2').val(row.find('.gnrh_AntagonistDailyDose1').text().trim());
                            $('#rightFollicles2').val(row.find('.right_AntagonistDailyDose1').text().trim());
                            $('#leftFollicles2').val(row.find('.left_AntagonistDailyDose1').text().trim());
                            $('#endometrium2').val(row.find('.endo_AntagonistDailyDose1').text().trim());
                            $('#e2I').val(row.find('.e2_AntagonistDailyDose1').text().trim());
                            $('#p4I').val(row.find('.p4_AntagonistDailyDose1').text().trim());
                            $('#advice2').val(row.find('.advice_AntagonistDailyDose1').text().trim());

                            // Optionally check if any repeat dosage checkbox needs to be checked
                            $('#repeatDosage2').prop('checked', row.find('.repeatDosageCheckbox').is(':checked'));
                            $('#addStimulation2').data('row', row);
                            console.log("Row data stored for saving:", $('#addStimulation2').data('row'));

                            // Show the modal
                            $('#myModal2').modal('show');
                        });

                        $('#addStimulation2').on('click', function () {
                            const row = $(this).data('row');
                            console.log(row);
                            const updatedData = {
                                dayId: row.find('.cd_AntagonistDailyDose1e').text(),
                                hmg: $('#hmgDrugName').val(),
                                rFsh: $('#rFshDrugName2').val(),
                                antagonist: $('#antagonistDrugName2').val(),
                                rightFollicles: $('#rightFollicles2').data('id'),
                                leftFollicles: $('#leftFollicles2').data('id'),
                                endometrium: $('#endometrium2').val(),
                                e2: $('#e2I').val(),
                                p4: $('#p4I').val(),
                                advice: $('#advice2').val(),
                                repeatDosage: $('#repeatDosage2').is(':checked')
                            };
                            console.log(updatedData.dayId);

                            console.log("Data prepared for saving:", updatedData);

                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor'); // Optionally update UI
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);

                                }
                            });

                            // Close the modal
                            $('#myModal2').modal('hide');
                        });
                    });
                </script>
                <script>
                    $(document).ready(function () {
                        function fetchDataAndPopulate2() {

                            $('#AntagonistDailyDose1 .table2 tbody tr').each(function () {
                                var dayId = $(this).find('.cd_AntagonistDailyDose1e').text().trim();
                                var that = $(this);


                                // Make AJAX call to fetch data
                                $.ajax({
                                    url: '/embrology/stimulation-data', // Confirm the URL is correct
                                    type: 'GET',
                                    data: { dayId: dayId },
                                    success: function (response) {

                                        var matchedData;
                                        // Assuming response is an array of arrays, and we need the first item of the first array
                                        if(response.data){
                                            matchedData = response.find(arr => arr.length > 0 && arr[0].dayId === dayId);
                                        }

                                        if (matchedData && matchedData.length > 0) {
                                            matchedData = matchedData[0]; // Take the first matching data object
                                            that.find('.hmg_AntagonistDailyDose1').text(matchedData.hmg || '');
                                            that.find('.rfsh_AntagonistDailyDose1').text(matchedData.rFsh || '');
                                            that.find('.gnrh_AntagonistDailyDose1').text(matchedData.antagonist || '');
                                            that.find('.right_AntagonistDailyDose1').text(matchedData.rightFollicles || '');
                                            that.find('.left_AntagonistDailyDose1').text(matchedData.leftFollicles || '');
                                            that.find('.endo_AntagonistDailyDose1').text(matchedData.endometrium || '');
                                            that.find('.e2_AntagonistDailyDose1').text(matchedData.e2 || '');
                                            that.find('.p4_AntagonistDailyDose1').text(matchedData.p4 || '');
                                            that.find('.advice_AntagonistDailyDose1').text(matchedData.advice || '');

                                            that.removeClass('dullcolor');
                                            that.find('.fa-circle-check').remove();
                                        }
                                    },
                                    error: function (error) {
                                        console.error(`Error fetching data for day ID ${dayId}:`, error);
                                        alert("Error fetching data. Please try again.");
                                    }
                                });
                            });
                        }

                        fetchDataAndPopulate2();
                    });
                </script>
                <script>
                    $(document).ready(function () {
                        // Event listener for saving data when the check icon is clicked
                        $('#AntagonistDailyDose2').on('click', '.fa-circle-check', function () {
                            const row = $(this).closest('tr');
                            const updatedData = {
                                dayId: row.find('.cd_AntagonistDailyDose2').text(),
                                hmg: row.find('.hmg_AntagonistDailyDose2').text(),
                                antagonist: row.find('.gnrh_AntagonistDailyDose2').text(),
                                rightFollicles: row.find('.right_AntagonistDailyDose2').text(),
                                leftFollicles: row.find('.left_AntagonistDailyDose2').text(),
                                endometrium: row.find('.endo_AntagonistDailyDose2').text(),
                                e2: row.find('.e2_AntagonistDailyDose2').text(),
                                p4: row.find('.p4_AntagonistDailyDose2').text(),
                                advice: row.find('.advice_AntagonistDailyDose2').text()
                            };
                            console.log(updatedData.dayId);

                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor');
                                    $(this).remove(); // Optionally remove or hide the check icon
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);
                                    alert("Error updating data. Please try again.");
                                }
                            });
                        });

                        // Event listener for showing modal with prefilled data
                        $('#AntagonistDailyDose2').on('click', '.fa-pen', function () {
                            const row = $(this).closest('tr');
                            console.log("Pen icon clicked, row data will be fetched for modal.");

                            // Prefill the modal's fields with the row's data
                            $('#hmgDrugName2').val(row.find('.hmg_AntagonistDailyDose2').text().trim());
                            $('#antagonistDrugName3').val(row.find('.gnrh_AntagonistDailyDose2').text().trim());
                            $('#rightFollicles3').val(row.find('.right_AntagonistDailyDose2').text().trim());
                            $('#leftFollicles3').val(row.find('.left_AntagonistDailyDose2').text().trim());
                            $('#endometrium3').val(row.find('.endo_AntagonistDailyDose2').text().trim());
                            $('#e2II').val(row.find('.e2_AntagonistDailyDose2').text().trim());
                            $('#p4II').val(row.find('.p4_AntagonistDailyDose2').text().trim());
                            $('#advice3').val(row.find('.advice_AntagonistDailyDose2').text().trim());

                            // Optionally check if any repeat dosage checkbox needs to be checked
                            $('#repeatDosage3').prop('checked', row.find('.repeatDosageCheckbox').is(':checked'));
                            $('#addStimulation3').data('row', row);
                            console.log("Row data stored for saving:", $('#addStimulation3').data('row'));

                            // Show the modal
                            $('#myModal3').modal('show');
                        });

                        // Event listener for saving data when the save button in the modal is clicked
                        $('#addStimulation3').on('click', function () {
                            const row = $(this).data('row');
                            console.log(row);
                            const updatedData = {
                                dayId: row.find('.cd_AntagonistDailyDose2').text(),
                                hmg: $('#hmgDrugName2').val(),
                                antagonist: $('#antagonistDrugName3').val(),
                                rightFollicles: $('#rightFollicles3').val(),
                                leftFollicles: $('#leftFollicles3').val(),
                                endometrium: $('#endometrium3').val(),
                                e2: $('#e2II').val(),
                                p4: $('#p4II').val(),
                                advice: $('#advice3').val(),
                                repeatDosage: $('#repeatDosage3').is(':checked')
                            };

                            row.find('td:nth-child(3)').text(updatedData.hmg);
                            row.find('td:nth-child(4)').text(updatedData.antagonist);
                            row.find('td:nth-child(5)').text(updatedData.rightFollicles);
                            row.find('td:nth-child(6)').text(updatedData.leftFollicles);
                            row.find('td:nth-child(7)').text(updatedData.endometrium);
                            row.find('td:nth-child(8)').text(updatedData.e2);
                            row.find('td:nth-child(9)').text(updatedData.p4);
                            row.find('td:nth-child(10)').text(updatedData.advice);

                            console.log("Data prepared for saving:", updatedData);
                            console.log(updatedData.dayId);

                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor'); // Optionally update UI
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);
                                    alert("Error updating data. Please try again.");
                                }
                            });

                            // Close the modal
                            $('#myModal3').modal('hide');
                        });

                        // Function to fetch and populate data in the table rows
                        function fetchDataAndPopulate2() {

                            $('#AntagonistDailyDose2 .table2 tbody tr').each(function () {
                                var dayId = $(this).find('.cd_AntagonistDailyDose2').text().trim();
                                var that = $(this);


                                // Make AJAX call to fetch data
                                $.ajax({
                                    url: '/embrology/stimulation-data',
                                    type: 'GET',
                                    data: { dayId: dayId },
                                    success: function (response) {

                                        var matchedData
                                        // Assuming response is an array of arrays, and we need the first item of the first array
                                        if(response.data){
                                            matchedData = response.find(arr => arr.length > 0 && arr[0].dayId === dayId);
                                        }

                                        if (matchedData && matchedData.length > 0) {
                                            matchedData = matchedData[0]; // Take the first matching data object
                                            that.find('.hmg_AntagonistDailyDose2').text(matchedData.hmg || '');
                                            that.find('.gnrh_AntagonistDailyDose2').text(matchedData.antagonist || '');
                                            that.find('.right_AntagonistDailyDose2').text(matchedData.rightFollicles || '');
                                            that.find('.left_AntagonistDailyDose2').text(matchedData.leftFollicles || '');
                                            that.find('.endo_AntagonistDailyDose2').text(matchedData.endometrium || '');
                                            that.find('.e2_AntagonistDailyDose2').text(matchedData.e2 || '');
                                            that.find('.p4_AntagonistDailyDose2').text(matchedData.p4 || '');
                                            that.find('.advice_AntagonistDailyDose2').text(matchedData.advice || '');

                                            that.removeClass('dullcolor');
                                            that.find('.fa-circle-check').remove();
                                        }
                                    },
                                    error: function (error) {
                                        console.error(`Error fetching data for day ID ${dayId}:`, error);
                                        alert("Error fetching data. Please try again.");
                                    }
                                });
                            });
                        }

                        // Call the function on page load
                        fetchDataAndPopulate2();
                    });
                </script>




                <script>
                    $(document).ready(function () {
                        // Event listener for saving data when the check icon is clicked
                        $('.LongAgonist').on('click', '.fa-circle-check', function () {
                            const row = $(this).closest('tr');
                            const updatedData = {
                                dayId: row.find('.cd_LongAgonist').text(),
                                antagonist: row.find('.gnrh_LongAgonist').text(),
                                rFsh: row.find('.rfsh_LongAgonist').text(),
                                hmg: row.find('.hmg_LongAgonist').text(),
                                rightFollicles: row.find('.right_LongAgonist').text(),
                                leftFollicles: row.find('.left_LongAgonist').text(),
                                endometrium: row.find('.endo_LongAgonist').text(),
                                e2: row.find('.e2_LongAgonist').text(),
                                p4: row.find('.p4_LongAgonist').text(),
                                advice: row.find('.advice_LongAgonist').text()
                            };
                            console.log(updatedData.dayId);

                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor');
                                    $(this).remove(); // Optionally remove or hide the check icon
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);

                                }
                            });
                        });

                        // Event listener for showing modal with prefilled data
                        $('#LongAgonist').on('click', '.fa-pen', function () {
                            const row = $(this).closest('tr');
                            console.log("Pen icon clicked, row data will be fetched for modal.");

                            // Prefill the modal's fields with the row's data
                            $('#hmgDrugName').val(row.find('.hmg_LongAgonist').text().trim());
                            $('#rFshDrugName2').val(row.find('.rfsh_LongAgonist').text().trim());
                            $('#antagonistDrugName2').val(row.find('.gnrh_LongAgonist').text().trim());
                            $('#rightFollicles2').val(row.find('.right_LongAgonist').text().trim());
                            $('#leftFollicles2').val(row.find('.left_LongAgonist').text().trim());
                            $('#endometrium2').val(row.find('.endo_LongAgonist').text().trim());
                            $('#e2I').val(row.find('.e2_LongAgonist').text().trim());
                            $('#p4I').val(row.find('.p4_LongAgonist').text().trim());
                            $('#advice2').val(row.find('.advice_LongAgonist').text().trim());

                            // Optionally check if any repeat dosage checkbox needs to be checked
                            $('#repeatDosage2').prop('checked', row.find('.repeatDosageCheckbox').is(':checked'));
                            $('#addStimulation2').data('row', row);
                            console.log("Row data stored for saving:", $('#addStimulation2').data('row'));

                            // Show the modal
                            $('#myModal2').modal('show');
                        });

                        // Event listener for saving data when the save button in the modal is clicked
                        $('#addStimulation2').on('click', function () {
                            const row = $(this).data('row');
                            console.log(row);
                            const updatedData = {
                                dayId: row.find('.cd_LongAgonist').text(),
                                hmg: $('#hmgDrugName').val(),
                                rFsh: $('#rFshDrugName2').val(),
                                antagonist: $('#antagonistDrugName2').val(),
                                rightFollicles: $('#rightFollicles2').data('id'),
                                leftFollicles: $('#leftFollicles2').data('id'),
                                endometrium: $('#endometrium2').val(),
                                e2: $('#e2I').val(),
                                p4: $('#p4I').val(),
                                advice: $('#advice2').val(),
                                repeatDosage: $('#repeatDosage2').is(':checked')
                            };

                            row.find('td:nth-child(3)').text(updatedData.antagonist);
                            row.find('td:nth-child(4)').text(updatedData.rFsh);
                            row.find('td:nth-child(5)').text(updatedData.hmg);
                            row.find('td:nth-child(6)').text(updatedData.rightFollicles);
                            row.find('td:nth-child(7)').text(updatedData.leftFollicles);
                            row.find('td:nth-child(8)').text(updatedData.endometrium);
                            row.find('td:nth-child(9)').text(updatedData.e2);
                            row.find('td:nth-child(10)').text(updatedData.p4);
                            row.find('td:nth-child(11)').text(updatedData.advice);
                            


                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor'); // Optionally update UI
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);

                                }
                            });

                            // Close the modal
                            $('#myModal2').modal('hide');
                        });

                        // Function to fetch and populate data in the table rows
                        function fetchDataAndPopulate2() {

                            $('#LongAgonist .table2 tbody tr').each(function () {
                                var dayId = $(this).find('.cd_LongAgonist').text().trim();
                                var that = $(this);

                                // Make AJAX call to fetch data
                                $.ajax({
                                    url: '/embrology/stimulation-data',
                                    type: 'GET',
                                    data: {dayId: dayId },
                                    success: function (response) {
                                        var matchedData
                                        // Assuming response is an array of arrays, and we need the first item of the first array
                                        if(response.data){
                                            matchedData = response.find(arr => arr.length > 0 && arr[0].dayId === dayId);
                                        }

                                        if (matchedData && matchedData.length > 0) {
                                            matchedData = matchedData[0]; // Take the first matching data object
                                            that.find('.gnrh_LongAgonist').text(matchedData.antagonist || '');
                                            that.find('.rfsh_LongAgonist').text(matchedData.rFsh || '');
                                            that.find('.hmg_LongAgonist').text(matchedData.hmg || '');
                                            that.find('.right_LongAgonist').text(matchedData.rightFollicles || '');
                                            that.find('.left_LongAgonist').text(matchedData.leftFollicles || '');
                                            that.find('.endo_LongAgonist').text(matchedData.endometrium || '');
                                            that.find('.e2_LongAgonist').text(matchedData.e2 || '');
                                            that.find('.p4_LongAgonist').text(matchedData.p4 || '');
                                            that.find('.advice_LongAgonist').text(matchedData.advice || '');

                                            that.removeClass('dullcolor');
                                            that.find('.fa-circle-check').remove();
                                        }
                                    },
                                    error: function (error) {
                                        console.error(`Error fetching data for day ID ${dayId}:`, error);
                                        alert("Error fetching data. Please try again.");
                                    }
                                });
                            });
                        }

                        // Call the function on page load
                        fetchDataAndPopulate2();
                    });
                </script>
                <script>
                    $(document).ready(function () {
                        // Event listener for saving data when the check icon is clicked
                        $('#ShortAgonist').on('click', '.fa-circle-check', function () {
                            const row = $(this).closest('tr');
                            const updatedData = {
                                dayId: row.find('.cd_ShortAgonist').text(),
                                antagonist: row.find('.gnrh_ShortAgonist').text(),
                                rFsh: row.find('.rfsh_ShortAgonist').text(),
                                hmg: row.find('.hmg_ShortAgonist').text(),
                                rightFollicles: row.find('.right_ShortAgonist').text(),
                                leftFollicles: row.find('.left_ShortAgonist').text(),
                                endometrium: row.find('.endo_ShortAgonist').text(),
                                e2: row.find('.e2_ShortAgonist').text(),
                                p4: row.find('.p4_ShortAgonist').text(),
                                advice: row.find('.advice_ShortAgonist').text()
                            };

                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor');
                                    $(this).remove(); // Optionally remove or hide the check icon
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);

                                }
                            });
                        });

                        // Event listener for showing modal with prefilled data
                        $('#ShortAgonist').on('click', '.fa-pen', function () {
                            const row = $(this).closest('tr');
                            console.log("Pen icon clicked, row data will be fetched for modal.");

                            // Prefill the modal's fields with the row's data
                            $('#hmgDrugName').val(row.find('.hmg_ShortAgonist').text().trim());
                            $('#rFshDrugName2').val(row.find('.rfsh_ShortAgonist').text().trim());
                            $('#antagonistDrugName2').val(row.find('.gnrh_ShortAgonist').text().trim());
                            $('#rightFollicles2').val(row.find('.right_ShortAgonist').text().trim());
                            $('#leftFollicles2').val(row.find('.left_ShortAgonist').text().trim());
                            $('#endometrium2').val(row.find('.endo_ShortAgonist').text().trim());
                            $('#e2I').val(row.find('.e2_ShortAgonist').text().trim());
                            $('#p4I').val(row.find('.p4_ShortAgonist').text().trim());
                            $('#advice2').val(row.find('.advice_ShortAgonist').text().trim());

                            // Optionally check if any repeat dosage checkbox needs to be checked
                            $('#repeatDosage2').prop('checked', row.find('.repeatDosageCheckbox').is(':checked'));
                            $('#addStimulation2').data('row', row);
                            console.log("Row data stored for saving:", $('#addStimulation2').data('row'));

                            // Show the modal
                            $('#myModal2').modal('show');
                        });

                        // Event listener for saving data when the save button in the modal is clicked
                        $('#addStimulation2').on('click', function () {
                            const row = $(this).data('row');
                            console.log(row);
                            const updatedData = {
                                dayId: row.find('.cd_ShortAgonist').text(),
                                hmg: $('#hmgDrugName').val(),
                                rFsh: $('#rFshDrugName2').val(),
                                antagonist: $('#antagonistDrugName2').val(),
                                rightFollicles: $('#rightFollicles2').data('id'),
                                leftFollicles: $('#leftFollicles2').data('id'),
                                endometrium: $('#endometrium2').val(),
                                e2: $('#e2I').val(),
                                p4: $('#p4I').val(),
                                advice: $('#advice2').val(),
                                repeatDosage: $('#repeatDosage2').is(':checked')
                            };

                            row.find('td:nth-child(3)').text(updatedData.antagonist);
                            row.find('td:nth-child(4)').text(updatedData.rFsh);
                            row.find('td:nth-child(5)').text(updatedData.hmg);
                            row.find('td:nth-child(6)').text(updatedData.rightFollicles);
                            row.find('td:nth-child(7)').text(updatedData.leftFollicles);
                            row.find('td:nth-child(8)').text(updatedData.endometrium);
                            row.find('td:nth-child(9)').text(updatedData.e2);
                            row.find('td:nth-child(10)').text(updatedData.p4);
                            row.find('td:nth-child(11)').text(updatedData.advice);

                            $.ajax({
                                url: '/embrology/save-stimulation-data',
                                type: 'POST',
                                contentType: 'application/json',
                                data: JSON.stringify({
                                    StimulationRows: [updatedData],
                                    dayId: updatedData.dayId
                                }),
                                success: function (response) {
                                    console.log('Data saved successfully:', response);
                                    alert("Data updated successfully!");
                                    row.removeClass('dullcolor'); // Optionally update UI
                                },
                                error: function (error) {
                                    console.error('Error saving data:', error);

                                }
                            });

                            // Close the modal
                            $('#myModal2').modal('hide');
                        });

                        // Function to fetch and populate data in the table rows
                        function fetchDataAndPopulate2() {

                            $('#ShortAgonist .table2 tbody tr').each(function () {
                                var dayId = $(this).find('.cd_ShortAgonist').text().trim();
                                var that = $(this);

                                // Make AJAX call to fetch data
                                $.ajax({
                                    url: '/embrology/stimulation-data',
                                    type: 'GET',
                                    data: {dayId: dayId },
                                    success: function (response) {
                                        var matchedData
                                        // Assuming response is an array of arrays, and we need the first item of the first array
                                        if(response.data){
                                            matchedData = response.find(arr => arr.length > 0 && arr[0].dayId === dayId);
                                        }

                                        if (matchedData && matchedData.length > 0) {
                                            matchedData = matchedData[0]; // Take the first matching data object
                                            that.find('.gnrh_ShortAgonist').text(matchedData.antagonist || '');
                                            that.find('.rfsh_ShortAgonist').text(matchedData.rFsh || '');
                                            that.find('.hmg_ShortAgonist').text(matchedData.hmg || '');
                                            that.find('.right_ShortAgonist').text(matchedData.rightFollicles || '');
                                            that.find('.left_ShortAgonist').text(matchedData.leftFollicles || '');
                                            that.find('.endo_ShortAgonist').text(matchedData.endometrium || '');
                                            that.find('.e2_ShortAgonist').text(matchedData.e2 || '');
                                            that.find('.p4_ShortAgonist').text(matchedData.p4 || '');
                                            that.find('.advice_ShortAgonist').text(matchedData.advice || '');

                                            that.removeClass('dullcolor');
                                            that.find('.fa-circle-check').remove();
                                        }
                                    },
                                    error: function (error) {
                                        console.error(`Error fetching data for day ID ${dayId}:`, error);
                                        alert("Error fetching data. Please try again.");
                                    }
                                });
                            });
                        }

                        // Call the function on page load
                        fetchDataAndPopulate2();
                    });
                </script>