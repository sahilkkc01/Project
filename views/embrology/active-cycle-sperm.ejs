<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>LifeLinkr</title>
    <%- include('../header'); -%>
        <!-- main content start -->
        <div class="main-content">

            <div class="row content-top-gap2">
                <div class="col-lg-12">
                    <nav class="navbar navbar-expand-lg navbar-light bg-white">
                        <a class="navbar-brand text-center mr-5" href="#">
                            <span class="dash-icon"><i class="fas fa-tachometer-alt"></i></span>
                            Dashboard
                        </a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav">
                                <li class="nav-item active text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="far fa-user"></i></span>
                                        Master
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-exchange-alt"></i></span>
                                        Transaction
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-hand-holding-medical"></i></span>
                                        Patient 360
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-receipt"></i></span>
                                        Outside Reciept
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-file-invoice"></i></span>
                                        Outpatient Department
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-chart-line"></i></span>
                                        Analytics
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="far fa-clock"></i></span>
                                        Waiting List
                                    </a>
                                </li>
                                <li class="nav-item text-center mr-5">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-wrench"></i></span>
                                        Adminstration
                                    </a>
                                </li>
                                <li class="nav-item text-center">
                                    <a class="nav-link" href="#">
                                        <span class="dash-icon"><i class="fas fa-spinner"></i></span>
                                        Additional
                                    </a>
                                </li>

                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
            <!-- content -->
            <div class="container-fluid">

                <div class="chart">
                    <div class="row">

                        <div class="col-lg-12 pl-lg-0 mt-2 ml-2">
                            <h4 class="primary"></h4>
                        </div>
                        <div class="col-lg-12 pl-lg-2 chart-grid">
                            <form>
                                <div class="card card_border">
                                    <div class="">
                                        <!--Past your code here starts-->

                                        <div class="card">

                                            <div class="card-body">

                                                <div class="form-row pt-1 pb-0">

                                                    <div class="col-lg-2 col-md-4 col-sm-12">
                                                        <div class="form-group">
                                                            <label id="couple2_id" class="input__label">Couple No.: IVF/00003/24
                                                                <br>

                                                                Referred By: Self
                                                            </label>

                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-md-4 col-sm-12">
                                                        <div class="form-row">
                                                            <div class="col-2">
                                                                <i class="fa-solid fa-user-large"
                                                                    style="font-size:42px;color:#11cdf0;"></i>
                                                            </div>

                                                            <div class="col-10">
                                                                <label id="women3_id" class="input__label" id="name">Geeta Pandey, MRN:
                                                                    OHPL/R/24/1588
                                                                    <br>
                                                                    Age 76 Y, BM 24 D, Female, Ph 9867806857
                                                                    <br>
                                                                    Ht 167:00 rom, WI 65:00 kg. TIMI 73.31, A+
                                                                </label>
                                                            </div>
                                                        </div>

                                                    </div>

                                                    <div class="col-lg-4 col-md-4 col-sm-12">
                                                        <div class="form-row">
                                                            <div class="col-2">
                                                                <i class="fa-solid fa-user-large"
                                                                    style="font-size:42px;color:#11cdf0;"></i>
                                                            </div>

                                                            <div class="col-9">
                                                                <label id="man3_id" class="input__label">Akash Pandey, MRN
                                                                    OHIL/R/24/1589
                                                                    <br>
                                                                    Age: 29 Y, 8 M, 24 D, Male, Ith: 9879869/86
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="col-lg-2 col-md-4 col-sm-12">
                                                        <div class="form-check-label text-right">

                                                            <div class="radio mr-0">
                                                                <label class="form-check-label pt-1"><input
                                                                        class="form-check-input mt-1" type="checkbox">
                                                                    Do not share</label>
                                                            </div>

                                                        </div>
                                                    </div>

                                                </div>

                                            </div>

                                        </div>

                                        <!--Past your code here ends-->


                                    </div>
                                </div>

                                <div class="form-group mt-1 mb-3 text-right">

                                    <button type="button"
                                        class="btn-primary btn-style btn-change btn mt-2 mr-2"><strong><i
                                                class="fas fa-search"></i>
                                            Search</strong>
                                    </button>
                                    <button type="button"
                                        class="btn-secondary btn-style btn-change btn mt-2 mr-2"><strong><i
                                                class="fas fa-arrows-rotate"></i>
                                            Reset</strong>
                                    </button>
                                    <button type="button" class="btn-secondary btn-style btn-change btn mt-2"><strong><i
                                                class="fa-solid fa-expand"></i>

                                            Enlarge</strong>
                                    </button>
                                </div>
                                <!-- second section  -->


                                <div class="col-lg-12 pl-lg-0 pt-lg-0 mt-2 ">
                                    <!-- Nav Tabs are here once have a look--->
                                    <h4 class="primary">Active Cycle </h4>
                                </div>

                                <div class="card">

                                    <div class="card-body">

                                        <div class="form-row pt-1 pb-0">

                                            <div class="col-lg-3 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label class="input__label">Treatment: IVF (ICSI), Self Ovum
                                                        (Fresh), Partner Sperm
                                                    </label>

                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label class="input__label">Antagonist Daily Dose - 1
                                                    </label>

                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label class="input__label">Status: ET Completed
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label class="input__label">Day 67 of Cycle
                                                    </label>

                                                </div>
                                            </div>

                                        </div>

                                    </div>

                                </div>
                                <!-- third Section  -->

                                <div class="col-lg-12 pl-lg-0 pt-lg-2 mt-2 ">
                                    <!-- Nav Tabs are here once have a look--->
                                    <h4 class="primary">Sperm </h4>
                                </div>
                                <div class="card">
                                    <div class="col-xl-12 p-heading">
                                        <h6 class="p-text">AVAILABLE SAMPLES</h6>
                                    </div>

                                    <div class="card-body">


                                        <div class="form-row">
                                            <div class="col-12 mb-0 pl-0  ">
                                                <div class="form-group">
                                                    <div class="col col-12 pr-xl-2">

                                                        <div class="slidx">
                                                            <div class="table-responsive">

                                                                <table class="table2" id="semenSimplTable">
                                                                    <thead>
                                                                        <tr>
                                                                            <th contenteditable="true" width="10%">
                                                                                Sample Id</th>
                                                                            <th contenteditable="true">Collected On</th>
                                                                            <th contenteditable="true">Sexual
                                                                                Abstinenced(Days)
                                                                            </th>
                                                                            <th contenteditable="true" width="15%">
                                                                                Status
                                                                            </th>
                                                                            <th contenteditable="true">Washing Details
                                                                            </th>
                                                                            <th contenteditable="true">Fresh/Frozen</th>
                                                                            <th contenteditable="true">Storage Location
                                                                            </th>
                                                                            <th contenteditable="true">.........</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="semenSimplBody">


                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                        <div id="paginationControls"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card">


                            </form>


                        </div>

                        <div class="form-group mt-1 mb-4 text-right">
                            <button id="issue" type="button" data-bs-toggle="modal" data-bs-target="#issue
                            " class="btn-secondary btn-style btn-change btn mt-2 mr-2"><strong><i class=""></i>
                                    Issue semen Sample</strong>
                            </button>
                            <button type="button" class="btn-secondary btn-style btn-change btn mt-2"
                                data-bs-toggle="modal" data-bs-target="#collectSemenSamplModal"><strong><i
                                        class="fas fa-plus"></i>

                                    New Sample</strong>
                            </button>
                        </div>

                        <!-- fourth section -->


                        <div class="card">
                            <div class="col-xl-12  p-heading">
                                <h6 class="p-text">ISSUED SEMEN SAMPLES</h6>
                            </div>

                            <div class="card-body ">


                                <div class="form-row">
                                    <div class="col-12 mb-0 pl-0  ">
                                        <div class="form-group">
                                            <div class="col col-12 pr-xl-2">

                                                <div class="slidx">
                                                    <div class="table-responsive">

                                                        <table class="table2">
                                                            <thead>
                                                                <tr>
                                                                    <th contenteditable="true" width="10%">
                                                                        Sample Id</th>
                                                                    <th contenteditable="true">Sperm Source</th>
                                                                    <th contenteditable="true">Collected On</th>
                                                                    <th contenteditable="true" width="15%">Fresh/Frozen
                                                                    </th>
                                                                    <th contenteditable="true">Washing Details</th>
                                                                    <th contenteditable="true">Storage Location</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="issuedBody">
                                                                <!-- <tr>
                                                                <td contenteditable="true">SEM/0007/25</td>
                                                                <td contenteditable="true"><strong><i
                                                                            class="fa-solid fa-person"
                                                                            style="font-size:25px;color:#11cdf0;"></i></i></strong>
                                                                </td>
                                                                </td>
                                                                <td contenteditable="true">01/06/2024</td>
                                                                <td contenteditable="true">Fresh</td>
                                                                <td contenteditable="true"><strong><i
                                                                            class="fa-solid fa-file-lines"
                                                                            style="font-size:20px;color:#11cdf0;"></i></i></strong>
                                                                </td>
                                                                <td contenteditable="true"></td>

                                                            </tr>
                                                            <tr>
                                                                <td contenteditable="true">SEM/0008/25</td>
                                                                <td contenteditable="true"><strong><i
                                                                            class="fa-solid fa-person"
                                                                            style="font-size:25px;color:#11cdf0;"></i></i></strong>
                                                                </td>
                                                                <td contenteditable="true">02/06/2024</td>
                                                                <td contenteditable="true">Fresh</td>
                                                                <td contenteditable="true"><strong><i
                                                                            class="fa-solid fa-file-lines"
                                                                            style="font-size:20px;color:#11cdf0;"></i></i></strong>
                                                                </td>
                                                                <td contenteditable="true"></td> -->


                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- The WASH SEMEN SAMPLE Modal -->
                        <div class="modal" id="washSemenModal">
                            <div class="modal-dialog  modal-xl">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                                class="fa-solid fa-circle-xmark"></i></a>
                                    </div>

                                    <!-- Modal body -->
                                    <div class="modal-body">
                                        <form id="washSemenSampleForm">
                                            <div id="errorDiv1"></div>
                                            <div class="card card_border">
                                                <div class="">
                                                    <!--Past your code here starts-->

                                                    <div class="card">

                                                        <div class="col-xl-12 p-heading">
                                                            <h6 class="p-text">WASH SEMEN SAMPLE</h6>
                                                        </div>

                                                        <div class="card-body pb-1">



                                                            <div class="form-row">
                                                                <div class="col-md-6">
                                                                    <div class="col-lg-12 col-md-12 col-sm-6 mb-2">
                                                                        <div class="form-group">

                                                                            <label class="input__label"
                                                                                id="freshLabelId"></label>

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6 mb-1">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Sample Id :
                                                                            </label>
                                                                            <input class="input__label" type="text"
                                                                                name="sample_id" id="sampleLabelId" />


                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6 mb-1">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Collected on :
                                                                            </label>
                                                                            <label class="input__label"
                                                                                id="collectedOnLabelId"></label>

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6 mb-1">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Patient:
                                                                                <br>
                                                                            </label>
                                                                            <input type="text" class="input__label"
                                                                                name="patient_id" id="patientLabelId">

                                                                        </div>
                                                                    </div>



                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Volume</label>
                                                                            <label class="input__label"></label>
                                                                            <input id="volume" name="volume" type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label
                                                                                class="input__label">Concentration</label>
                                                                            <input id="sperm_concentration"
                                                                                name="concentration" type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Total
                                                                                Sperm</label>
                                                                            <input id="total_sperm_count"
                                                                                name="total_sperm" type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required"
                                                                                disabled>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Rapid
                                                                                Progressive(%)</label>
                                                                            <input id="rapid" name="rapid_progressive"
                                                                                type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Slow
                                                                                Progressive(%)</label>
                                                                            <input id="slow" name="slow_progressive"
                                                                                type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label
                                                                                class="input__label">Non-Progressive(%)</label>
                                                                            <input id="Non-Progressive"
                                                                                name="non_progressive" type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label
                                                                                class="input__label">Immotile(%)</label>
                                                                            <input id="immobile" name="immobile"
                                                                                type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required"
                                                                                disabled>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group mt-2">
                                                                            <label class="input__label">Total motile
                                                                                Prog</label>
                                                                            <input id="motile" name="total_motile_prog"
                                                                                type="text"
                                                                                class="form-control input-style"
                                                                                placeholder=""
                                                                                data-validation="required"
                                                                                data-error-message="Service Code is required"
                                                                                disabled>
                                                                        </div>
                                                                    </div>
                                                                </div>


                                                                <div class="col-md-6">

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-check-label">
                                                                            <div class="radio my-2"><label
                                                                                    class="form-check-label pt-0"><input
                                                                                        id="capacitated"
                                                                                        class="form-check-input mt-1"
                                                                                        type="checkbox"
                                                                                        name="capacitated">
                                                                                    <strong>Capacitated</strong></label>
                                                                            </div>
                                                                        </div>
                                                                    </div>


                                                                    <div class="col-lg-12 col-md-12 col-sm-6 mb-1">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Sample Id :
                                                                            </label>
                                                                            <input class="input__label" type="text"
                                                                                name="sample_id" id="sampleLabelId2"
                                                                                disabled="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6 mb-1">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Collected on :
                                                                            </label>
                                                                            <label class="input__label"
                                                                                id="collectedOnLabelId">2024-08-28</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6 mb-1">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Patient:
                                                                                <br>
                                                                            </label>
                                                                            <input type="text" class="input__label"
                                                                                name="patient_id" id="patientLabelId2"
                                                                                disabled="">
                                                                        </div>
                                                                    </div>



                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Volume</label>
                                                                            <label class="input__label"></label>
                                                                            <input id="volume2" name="volume"
                                                                                type="text"
                                                                                class="form-control input-style"
                                                                                placeholder="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label
                                                                                class="input__label">Concentration</label>
                                                                            <input id="sperm_concentration2"
                                                                                name="concentration" type="text"
                                                                                class="form-control input-style"
                                                                                placeholder="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Total
                                                                                Sperm</label>
                                                                            <input name="total_sperm" type="text"
                                                                                id="total_sperm"
                                                                                class="form-control input-style"
                                                                                placeholder="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Rapid
                                                                                Progressive(%)</label>
                                                                            <input name="rapid_progressive" type="text"
                                                                                id="rapid_progressive"
                                                                                class="form-control input-style"
                                                                                placeholder="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label class="input__label">Slow
                                                                                Progressive(%)</label>
                                                                            <input name="slow_progressive"
                                                                                id="slow_progressive" type="text"
                                                                                class="form-control input-style"
                                                                                placeholder="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label
                                                                                class="input__label">Non-Progressive(%)</label>
                                                                            <input name="non_progressive" type="text"
                                                                                id="non_progressive"
                                                                                class="form-control input-style"
                                                                                placeholder="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group">
                                                                            <label
                                                                                class="input__label">Immobile(%)</label>
                                                                            <input name="immobile" type="text"
                                                                                class="form-control input-style"
                                                                                id="immobile2" placeholder="">
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-12 col-md-12 col-sm-6">
                                                                        <div class="form-group mt-2">
                                                                            <label class="input__label">Total motile
                                                                                Prog</label>
                                                                            <input name="total_motile_prog" type="text"
                                                                                id="Total_motile_Prog"
                                                                                class="form-control input-style"
                                                                                placeholder="">
                                                                        </div>
                                                                    </div>
                                                                </div>


                                                            </div>

                                                            <div class="col-lg-12 pl-lg-0 mt-3 ml-0">
                                                                <h5 class="primary">Morphology</h5>
                                                            </div>
                                                            <div class="form-row">

                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Normal in %</label>
                                                                        <input id="normal" name="normal_in" type="text"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Abnormal in
                                                                            %</label>
                                                                        <input id="abnormal" name="abnormal_in"
                                                                            type="text" class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required"
                                                                            disabled>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Head Defects In
                                                                            %</label>
                                                                        <input id="head" name="head_defects" type="text"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Mid-Piece Defects in
                                                                            %</label>
                                                                        <input id="mid" name="mid_piece_defects"
                                                                            type="text" class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Tail Defects In
                                                                            %</label>
                                                                        <input id="tail" name="tail_defects" type="text"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Excess Residual
                                                                            Cytoplasm
                                                                            %</label>
                                                                        <input id="Cytoplasm"
                                                                            name="excess_residual_cytoplasm" type="text"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Teratoz
                                                                            Index</label>
                                                                        <input id="index" name="teratoz_index"
                                                                            type="text" class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required"
                                                                            disabled>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Normal Prog.
                                                                            motile</label>
                                                                        <input id="normal_prog_motile"
                                                                            name="normal_prog_motile" type="text"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required"
                                                                            disabled>
                                                                    </div>
                                                                </div>

                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Semen
                                                                            Appearance</label>
                                                                        <select name="semen_appearance"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">Select</option>
                                                                            <option value="clear">Clear</option>
                                                                            <option value="Not clear">Not </option>
                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Homogenize</label>
                                                                        <select name="homogenize"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">select</option>
                                                                            <option value="yes">Yes</option>
                                                                            <option value="no">No</option>
                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Complete
                                                                            Sample</label>
                                                                        <select name="complete_sample"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">Select</option>
                                                                            <option value="yes">Yes</option>
                                                                            <option value="no">No</option>
                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                            <div class="col-lg-12 pl-lg-0 mt-3 ml-0">
                                                                <h5 class="primary">Diagnosis based on Semen Sample
                                                                    volume:
                                                                    Hypospermia</h5>
                                                            </div>

                                                            <div class="form-row">

                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Diagnosis</label>
                                                                        <select name="diagnosis" id="diagnosis"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value=""></option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label"></label>
                                                                        <select name="degree_of_diagnosis"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">Select</option>
                                                                            <option value="Degree of Diagnosis">Degree
                                                                                of Diagnosis
                                                                            </option>
                                                                            <option value="Mild">Mild</option>
                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label"></label>
                                                                        <input name="time" type="time"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Vitality Test in
                                                                            %</label>
                                                                        <input name="vitality_test_in" type="text"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label"></label>
                                                                        <select name="vitality_test_method"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">Select</option>
                                                                            <option
                                                                                value="Hypo-osmotic Swelling Test (HOST)">
                                                                                Hypo-osm</option>
                                                                            <option value="Method of Vitality Test">
                                                                                Method of
                                                                                Vitality Test</option>
                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label"></label>
                                                                        <select name="viscosity"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">Select</option>
                                                                            <option value="Viscosity">Viscosity</option>

                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Washing
                                                                            Technique</label>
                                                                        <select name="washing_technique"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">Select</option>
                                                                            <option value="Washing Technique">Washing
                                                                                Technique
                                                                            </option>
                                                                            <option value="Swim Up">Swim Up</option>
                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Washing Done
                                                                            By</label>
                                                                        <select name="washing_done_by"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option value="">Select</option>
                                                                            <option value="Andrologist">Andrologist
                                                                            </option>
                                                                            <option value="Lab Technician">Lab
                                                                                Technician</option>
                                                                                   
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-lg-12 pl-lg-0 mt-3 ml-0">
                                                                <h5 class="primary"></h5>
                                                            </div>



                                                            <div class="card mt-3" style="display: none;" id="hbaCard">

                                                                <div class="col-xl-12 p-heading ">
                                                                    <h6 class="p-text ">HBA</h6>
                                                                </div>

                                                                <div class="card-body pb-2 pt-2  ">



                                                                    <div class="form-row">

                                                                        <div class="col-lg-12 col-md-6 col-sm-12 mb-1">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Sperm
                                                                                    Hyaluronan Binding
                                                                                    Assay(HBA): Reference Value % >=
                                                                                    80</label>
                                                                                <label class="input__label"></label>

                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-row">

                                                                        <div
                                                                            class="col-lg-4 col-md-6 col-sm-12 pl-lg-2 pb-lg-2 ">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Bound Motile
                                                                                    Sperm:</label>
                                                                                <input name="bound_motile_sperm"
                                                                                    type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-4 col-md-6 col-sm-12 pl-lg-2 pb-lg-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Non Bound
                                                                                    Motile
                                                                                    Sperm:</label>
                                                                                <input name="non_bound_motile_sperm"
                                                                                    type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-4 col-md-6 col-sm-12 pl-lg-2 pb-lg-2">
                                                                            <div class="form-group">
                                                                                <label
                                                                                    class="input__label">Total:</label>
                                                                                <input name="total_hba" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>

                                                                        </div>

                                                                        <div
                                                                            class="col-lg-4 col-md-6 col-sm-12 pl-lg-2 ">
                                                                            <div class="form-group">
                                                                                <label class="input__label">HBA Positive
                                                                                    Sperm %
                                                                                    :</label>
                                                                                <input name="hba_positive_sperm_percent"
                                                                                    type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-4 col-md-6 col-sm-12 pl-lg-2 ">
                                                                            <div class="form-group">
                                                                                <label class="input__label">HBA Negative
                                                                                    Sperm %
                                                                                    :</label>
                                                                                <input name="hba_negative_sperm_percent"
                                                                                    type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-4 col-md-6 col-sm-12 pl-lg-2 ">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Total %
                                                                                    :</label>
                                                                                <input name="total_percent" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </div>

                                                            </div>

                                                            <div class="card mt-3" style="display: none;" id="dfiCard">

                                                                <div class="col-xl-12 p-heading ">
                                                                    <h6 class="p-text ">DFI</h6>
                                                                </div>

                                                                <div class="card-body pb-2 pt-2">

                                                                    <div class="form-row">

                                                                        <div class="col-lg-12 col-md-6 col-sm-12 mb-1">
                                                                            <div class="form-group">
                                                                                <label class="input__label">DNA
                                                                                    Fragmentation Index
                                                                                    (DFI): Reference Value %
                                                                                    <=25 </label>
                                                                                        <label
                                                                                            class="input__label"></label>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-row">

                                                                        <div
                                                                            class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 pb-lg-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Large
                                                                                    Halo:</label>
                                                                                <input name="large_halo" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 pb-lg-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Medium
                                                                                    Halo:</label>
                                                                                <input name="medium_halo" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 pb-lg-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Small
                                                                                    Halo:</label>
                                                                                <input name="small_halo" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-3 col-md-6 col-sm-12 pl-lg-2 pb-lg-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">No
                                                                                    Halo:</label>
                                                                                <input name="no_halo" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-3 col-md-6 col-sm-12 pl-lg-2">
                                                                            <div class="form-group">
                                                                                <label
                                                                                    class="input__label">Total:</label>
                                                                                <input name="dfi_total" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-3 col-md-6 col-sm-12 pl-lg-2">
                                                                            <div class="form-group">
                                                                                <label
                                                                                    class="input__label">Fragmented:</label>
                                                                                <input name="fragmented" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-3 col-md-6 col-sm-12 pl-lg-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Non
                                                                                    Fragmented:</label>
                                                                                <input name="non_fragmented" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-2 col-md-6 col-sm-12 pl-lg-2">
                                                                            <div class="form-group">
                                                                                <label
                                                                                    class="input__label">Total:</label>
                                                                                <input name="dfi_total_2" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="col-lg-1 col-md-6 col-sm-12 pl-lg-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">DFI
                                                                                    %:</label>
                                                                                <input name="dfi_percent" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""
                                                                                    data-validation="required"
                                                                                    data-error-message="Service Code is required">
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </div>

                                                            </div>


                                                            <div class="form-row mb-3">

                                                                <div class="col-lg-6 col-md-6 col-sm-12 pl-lg-2 mt-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">General
                                                                            Remarks</label>
                                                                        <textarea name="general_remarks"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required"></textarea>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-6 col-md-6 col-sm-12 pl-lg-2 mt-1">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Private
                                                                            Remarks</label>
                                                                        <textarea name="private_remarks"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required"></textarea>
                                                                    </div>
                                                                </div>


                                                                <div class="col-lg-12 col-md-12 col-sm-12 mb-0  mt-0">
                                                                    <div class="form-check-label">
                                                                        <div class="radio pt-2">

                                                                            <label
                                                                                class="form-check-label pt-1 pr-4"><input
                                                                                    id="manual_calculation"
                                                                                    class="form-check-input mt-1"
                                                                                    type="checkbox"
                                                                                    name="manual_calculation">
                                                                                Manual Calculation</label>


                                                                            <label
                                                                                class="form-check-label pt-1 pr-4 pl-4"><input
                                                                                    class="form-check-input mt-1"
                                                                                    id="macs_done" type="checkbox"
                                                                                    name="macs_done">
                                                                                MACS Done</label>


                                                                            <label
                                                                                class="form-check-label pt-1 pr-4 pl-4"><input
                                                                                    onclick="getDfiModel('hba','hbaCard')"
                                                                                    id="hba"
                                                                                    class="form-check-input mt-1"
                                                                                    type="checkbox" name="hba">
                                                                                HBA</label>


                                                                            <label
                                                                                class="form-check-label pt-1 pr-4 pl-4"><input
                                                                                    onclick="getDfiModel('dfi','dfiCard')"
                                                                                    id="dfi"
                                                                                    class="form-check-input mt-1"
                                                                                    type="checkbox" name="dfi">
                                                                                DFI</label>

                                                                            <label
                                                                                class="form-check-label pt-1 pr-4 pl-4"><input
                                                                                    id="picsi"
                                                                                    class="form-check-input mt-1"
                                                                                    type="checkbox" name="picsi">
                                                                                PICSI</label>

                                                                        </div>
                                                                    </div>

                                                                </div>

                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div id="loadingDiv"></div>
                                                    <!--Past your code here ends-->
                                                </div>
                                            </div>
                                            <div class="form-group mt-1 mb-3 text-right">
                                                <button id="print2" type="button"
                                                    class="btn-secondary btn-style btn mt-3 mr-2"><strong><i
                                                            class="fa-solid fa-print"></i>
                                                        Print</strong></button>

                                                <button type="button" class="btn-danger btn-style btn mt-3 mr-2"
                                                    data-bs-dismiss="modal"><strong><i class="fas fa-times"></i>
                                                        Cancel</strong></button>

                                                <button id="washSemenSampleSubmit" type="submit"
                                                    class="btn-primary btn-style btn mt-3"><strong><i
                                                            class="far fa-save"></i>
                                                        Save</strong></button>
                                            </div>
                                        </form>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- The DISCARD SEMEN SAMPLE Modal -->
                        <div class="modal" id="discardSemenSampleModal">
                            <div class="modal-dialog modal-xl">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                                class="fa-solid fa-circle-xmark"></i></a>
                                    </div>

                                    <!-- Modal body -->
                                    <div class="modal-body">
                                        <form id="discardSemenSample">
                                            <div class="card card_border">
                                                <div class="">
                                                    <!--Past your code here starts-->

                                                    <div class="card">

                                                        <div class="col-xl-12 p-heading">
                                                            <h6 class="p-text">DISCARD SEMEN SAMPLE</h6>
                                                        </div>

                                                        <div class="card-body pt-2 pb-2">

                                                            <div class="form-row">

                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Sample Id:
                                                                        </label>
                                                                        <input type="text" name="sample_id"
                                                                            class="input__label" id="SampleId">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Patient:
                                                                        </label>
                                                                        <input type="number" class="input__label"
                                                                            name="patient_id" id="PatientDaitle">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Volume:

                                                                        </label>
                                                                        <label class="input__label"
                                                                            id="volumeId"></label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Storage
                                                                            Location:
                                                                        </label>
                                                                        <label class="input__label"
                                                                            id="StorageLocation"></label>
                                                                    </div>
                                                                </div>

                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Date</label>
                                                                        <input name="discard_date" type="date"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Time</label>
                                                                        <input name="discard_time" type="time"
                                                                            class="form-control input-style"
                                                                            placeholder="" data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                    </div>
                                                                </div>

                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Discarded By</label>
                                                                        <select name="discarded_by"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option></option>
                                                                            <option value="Andrologist">Andrologist
                                                                            </option>
                                                                            <option value="Embryologist">Embryologist
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                </div>

                                                                <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Reason For
                                                                            Discard</label>
                                                                        <select name="reason_for_discard"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Service Code is required">
                                                                            <option></option>
                                                                            <option value="DILUTED">DILUTED</option>
                                                                            <option value="Not in used">Not in used
                                                                            </option>
                                                                            <option value="Over the Due Periods">Over
                                                                                the Due
                                                                                Periods</option>
                                                                            <option value="SMALL QUANTITY">SMALL
                                                                                QUANTITY</option>
                                                                            <option value="SPOILED">SPOILED</option>
                                                                        </select>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                    </div>

                                                    <!--Past your code here ends-->
                                                </div>
                                            </div>
                                            <div class="form-group mt-1 mb-3 text-right">

                                                <button type="button" class="btn-danger btn-style btn mt-3 mr-2"
                                                    data-bs-dismiss="modal"><strong><i class="fas fa-times"></i>
                                                        Cancel</strong></button>

                                                <button type="submit"
                                                    class="btn-primary btn-style btn mt-3"><strong><i
                                                            class="far fa-save"></i>
                                                        Save</strong></button>

                                            </div>
                                        </form>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- The COLLECT SEMEN SAMPLE  Modal -->
                        <div class="modal" id="collectSemenSamplModal">
                            <div class="modal-dialog modal-xl">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                                class="fa-solid fa-circle-xmark"></i></a>
                                    </div>

                                    <!-- Modal body -->
                                    <div class="modal-body">
                                        <form id="semenSemplform">
                                            <div id="errorDiv1"></div>
                                            <div class="card card_border">
                                                <div class="">
                                                    <!--Past your code here starts-->

                                                    <div class="card">

                                                        <div class="col-xl-12 p-heading">
                                                            <h6 class="p-text" id="txt1">COLLECT SEMEN SAMPLE FOR AKASH
                                                                PANDEY,
                                                                OHPL/R/24/1589
                                                            </h6>
                                                        </div>

                                                        <div class="card-body pt-2">
                                                            <div class="form-row">
                                                                <div class="col-lg-2 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Date of
                                                                            Collect</label>
                                                                        <input name="date_of_collect" type="date"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Date of Collect is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-2 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Time</label>
                                                                        <input name="time_of_collect" type="time"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Time of Collect is required">
                                                                    </div>
                                                                </div>

                                                                <div class="col-lg-3 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Sexual Abstinence
                                                                            (days)</label>
                                                                        <input name="sexual_abstinence_days" type="text"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Sexual Abstinence (days) is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-1 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">PH</label>
                                                                        <input name="ph_value" type="text"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="PH value is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Collected
                                                                            Method</label>
                                                                        <select name="collected_method"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Collected Method is required">
                                                                            <option value="">Select</option>
                                                                            <option value="Manual">Manual</option>
                                                                            <option value="Electroejaculation">
                                                                                Electroejaculation
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-3 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Received By</label>
                                                                        <select name="received_by"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Received By is required">
                                                                            <option value="">Select</option>
                                                                            <option value="Lab Technician">Lab
                                                                                Technician</option>
                                                                            <option value="Technician">Technician
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                </div>

                                                                <div class="col-lg-2 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Received On</label>
                                                                        <input name="received_on" type="date"
                                                                            class="form-control input-style date-fieldMax"
                                                                            data-validation="required"
                                                                            data-error-message="Received On is required">
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-2 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">Time</label>
                                                                        <input name="time_of_receiving" type="time"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Time of Receiving is required">
                                                                    </div>
                                                                </div>

                                                                <div class="col-lg-3 col-md-6 col-sm-12">
                                                                    <div class="form-group">
                                                                        <label class="input__label">No. of
                                                                            Labels</label>
                                                                        <select id="label1" name="no_of_labels"
                                                                            class="form-control input-style"
                                                                            data-validation="required"
                                                                            data-error-message="Number of Labels is required">
                                                                            <option value="">Select</option>
                                                                            <option value="1">1</option>
                                                                            <option value="2">2</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="loadingDiv"></div>
                                                    <!--Past your code here ends-->
                                                </div>
                                            </div>
                                            <div class="form-group mt-1 mb-3 text-right">
                                                <button id="print1" type="button"
                                                    class="btn-secondary btn-style btn mt-3 mr-2">
                                                    <strong><i class="fa-solid fa-print"></i> Print</strong>
                                                </button>

                                                <button type="button" class="btn-danger btn-style btn mt-3 mr-2"
                                                    data-bs-dismiss="modal">
                                                    <strong><i class="fas fa-times"></i> Cancel</strong>
                                                </button>

                                                <button type="submit"
                                                    class="btn-primary btn-style btn mt-3">
                                                    <strong><i class="far fa-save"></i> Save</strong>
                                                </button>
                                            </div>
                                        </form>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- issue-semen-sample -->
                        <div class="modal container-fluid" id="issueModal">
                            <div class="modal-dialog  modal-xl">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                                class="fa-solid fa-circle-xmark"></i></a>
                                    </div>
                                    <div class="modal-body chart">
                                        <div class="row">
                                            <div class="col-lg-12 pl-lg-0 mt-2 ml-2">
                                                <h4 class="primary"></h4>
                                            </div>
                                            <div class="col-lg-12 pl-lg-2 chart-grid">
                                                <form>
                                                    <div id="errorDiv1"></div>
                                                    <div class="card card_border">
                                                        <!-- Past your code here starts -->
                                                        <div class="card">
                                                            <div class="col-xl-12 p-heading">
                                                                <h6 class="p-text">ISSUE SEMEN SAMPLE OF AKASH
                                                                    PANDEY, OHPL/R/24/1589</h6>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="form-row">
                                                                    <div class="col-12 mb-0 pl-0">
                                                                        <div class="form-group">
                                                                            <div class="col col-12 pr-xl-0 pl-lg-1">
                                                                                <div class="slidx">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table2">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th
                                                                                                        contenteditable="true">
                                                                                                        <input
                                                                                                            class="form-check-input mt-1"
                                                                                                            type="checkbox"
                                                                                                            id="gridCheck1">
                                                                                                        Sample Id
                                                                                                    </th>
                                                                                                    <th
                                                                                                        contenteditable="true">
                                                                                                        Sperm Source
                                                                                                    </th>
                                                                                                    <th
                                                                                                        contenteditable="true">
                                                                                                        Collected On
                                                                                                    </th>
                                                                                                    <th contenteditable="true"
                                                                                                        width="15%">
                                                                                                        Fresh/Frozen
                                                                                                    </th>
                                                                                                    <th
                                                                                                        contenteditable="true">
                                                                                                        Analysis
                                                                                                        Details</th>
                                                                                                    <th
                                                                                                        contenteditable="true">
                                                                                                        Storage
                                                                                                        Location
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody id="issueBody">
                                                                                                <!-- <tr>
                                                                                        <td contenteditable="true">
                                                                                            <input
                                                                                                class="form-check-input mt-1"
                                                                                                type="checkbox"
                                                                                                id="gridCheck1">
                                                                                            SEM/0017/25
                                                                                        </td>
                                                                                        <td contenteditable="true">
                                                                                            <strong><i
                                                                                                    class="fa-solid fa-person"
                                                                                                    style="font-size:25px;color:#11cdf0;"></i></strong>
                                                                                        </td>
                                                                                        <td contenteditable="true">
                                                                                            05/08/2024
                                                                                        </td>
                                                                                        <td contenteditable="true">
                                                                                            Fresh</td>
                                                                                        <td contenteditable="true">
                                                                                            <strong><i
                                                                                                    class="fa-solid fa-file-lines"
                                                                                                    style="font-size:20px;color:#11cdf0;"></i></strong>
                                                                                        </td>
                                                                                        <td contenteditable="true">
                                                                                        </td>
                                                                                    </tr> -->
                                                                                                <tr>
                                                                                                    <td
                                                                                                        contenteditable="true">
                                                                                                    </td>
                                                                                                    <td
                                                                                                        contenteditable="true">
                                                                                                    </td>
                                                                                                    <td
                                                                                                        contenteditable="true">
                                                                                                    </td>
                                                                                                    <td
                                                                                                        contenteditable="true">
                                                                                                    </td>
                                                                                                    <td
                                                                                                        contenteditable="true">
                                                                                                    </td>
                                                                                                    <td
                                                                                                        contenteditable="true">
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- Past your code here ends -->
                                                    </div>
                                                    <div id="loadingDiv"></div>
                                                    <div class="form-group mt-1 mb-3 text-right">
                                                        <!-- <button type="button" class="btn-success btn-style btn mt-3 mr-2"><strong><i class="fa-regular fa-pen-to-square"></i> Modify</strong></button> -->
                                                        <!-- <button type="button" class="btn-secondary btn-style btn mt-3 mr-2"><strong><i class="fa-solid fa-print"></i> Print</strong></button> -->
                                                        <button class="btn-danger btn-style btn mt-3 mr-2" data-bs-dismiss="modal"><strong><i class="fas fa-times"></i>
                                                                Cancel</strong></button>
                                                        <button" type="button"
                                                            id="issueBtn"
                                                            class="btn-secondary btn-style btn mt-3"><strong><i
                                                                    class="far fa-issue"></i>
                                                                Issue</strong></button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- freeze semen sample -->
                        <div class="modal container-fluid" id="freezeModal">
                            <div class="modal-dialog  modal-xl">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                                class="fa-solid fa-circle-xmark"></i></a>
                                    </div>
                                    <div class="modal-body chart">
                                        <div class="row">

                                            <div class="col-lg-12 pl-lg-0 mt-2 ml-2">
                                                <h4 class="primary"></h4>
                                            </div>
                                            <div class="col-lg-12 pl-lg-2 chart-grid">
                                                <form id="freezeForm">
                                                    <div id="errorDiv1"></div>
                                                    <div class="card card_border">
                                                        <div class="">
                                                            <!--Past your code here starts-->

                                                            <div class="card">

                                                                <div class="col-xl-12 p-heading">
                                                                    <h6 class="p-text" id="freezeHeader">FREEZE SEMEN SAMPLE
                                                                    </h6>
                                                                </div>

                                                                <div class="card-body pt-2 pb-2">

                                                                    <!-- <div class="col-lg-12 pt-1 pb-1 pl-lg-0 pr-lg-0 ">
                                                                <h5 class="primary">Medications</h5>
                                                            </div> -->


                                                                    <div class="form-row">

                                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-1">
                                                                            <div class="form-group">
                                                                                <label id="freezeName" class="input__label"><strong>Patient:
                                                                                    </strong> Akash
                                                                                    Pandey, MRN: OHPL/R/24/1589</label>
                                                                            </div>
                                                                        </div>


                                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-1">
                                                                            <div class="form-group">
                                                                                <label class="input__label" id="collectedOnFreeze"><strong>Collected
                                                                                        on: </strong>
                                                                                    01/06/2024 </label>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                    <div class="form-row">
                                                                        <div class="col-12  mt-2 mb-1">
                                                                            <div class="form-group">
                                                                                <div class="col col-12 pr-xl-0 pl-xl-0">

                                                                                    <div class="slidx">

                                                                                        <div class="table-responsive">


                                                                                            <table class="table2">
                                                                                                <thead>
                                                                                                    <tr>
                                                                                                        <th
                                                                                                            contenteditable="true">
                                                                                                            Sample Id
                                                                                                        </th>
                                                                                                        <th
                                                                                                            contenteditable="true">
                                                                                                            Volume(ml)
                                                                                                        </th>
                                                                                                        <th
                                                                                                            contenteditable="true">
                                                                                                            Tank</th>
                                                                                                        <th
                                                                                                            contenteditable="true">
                                                                                                            Canister
                                                                                                        </th>
                                                                                                        <th
                                                                                                            contenteditable="true">
                                                                                                            Colour</th>




                                                                                                    </tr>
                                                                                                </thead>
                                                                                                <tbody>
                                                                                                    <tr>
                                                                                                        <td contenteditable="true"
                                                                                                            id="sample_id_2">
                                                                                                            SEM/0007/25
                                                                                                        </td>
                                                                                                        <td contenteditable="true"
                                                                                                            id="sperm_volume">
                                                                                                            1
                                                                                                        </td>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                            <select
                                                                                                                name="tank"
                                                                                                                data-validation="required"
                                                                                                                data-error-message="tank is required"
                                                                                                                class="form-control input-style">
                                                                                                                <option>
                                                                                                                </option>
                                                                                                                <option>
                                                                                                                    J1
                                                                                                                </option>
                                                                                                            </select>
                                                                                                        </td>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                            <select
                                                                                                                name="canister"
                                                                                                                data-validation="required"
                                                                                                                data-error-message="canister is required"
                                                                                                                class="form-control input-style">
                                                                                                                <option>
                                                                                                                </option>
                                                                                                                <option>
                                                                                                                    1
                                                                                                                </option>
                                                                                                                <option>
                                                                                                                    2
                                                                                                                </option>
                                                                                                            </select>
                                                                                                        </td>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                            <select
                                                                                                                name="color"
                                                                                                                data-validation="required"
                                                                                                                data-error-message="color is required"
                                                                                                                class="form-control input-style">
                                                                                                                <option>
                                                                                                                </option>
                                                                                                                <option>
                                                                                                                    RED
                                                                                                                </option>
                                                                                                                <option>
                                                                                                                    BLUE
                                                                                                                </option>
                                                                                                                <option>
                                                                                                                    YELLOW
                                                                                                                </option>
                                                                                                            </select>
                                                                                                        </td>


                                                                                                    </tr>
                                                                                                    <tr>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                        </td>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                        </td>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                        </td>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                        </td>
                                                                                                        <td
                                                                                                            contenteditable="true">
                                                                                                        </td>


                                                                                                    </tr>




                                                                                                </tbody>
                                                                                            </table>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>


                                                                    </div>

                                                                    <div class="form-row mt-2 mb-2">

                                                                        <div class="col-lg-6 col-md-6 mb-2 col-sm-12 pl-0">
                                                                            <label class="input__label pl-1">Freezing
                                                                                in</label>
                                                                            <div class="form-check-label">
                                                                                <div class="radio">
                                                                                    <label
                                                                                        class="form-check-label pr-4 pt-1">
                                                                                        <input id="vialsOption"
                                                                                            class="form-check-input mt-1"
                                                                                            type="radio"
                                                                                            name="freeze_in" value=""
                                                                                            data-validation="required"
                                                                                            data-error-message="freeze in is required">
                                                                                        Vials
                                                                                    </label>
                                                                                    <label
                                                                                        class="form-check-label pr-4 pl-4 pt-1">
                                                                                        <input id="strawOption"
                                                                                            class="form-check-input mt-1"
                                                                                            type="radio"
                                                                                            name="freeze_in"
                                                                                            data-validation="required"
                                                                                            data-error-message="freeze in is required"
                                                                                            value=""> Straw
                                                                                    </label>
                                                                                </div>

                                                                            </div>
                                                                        </div>

                                                                        <div class="col-lg-6 col-md-6 mb-2 col-sm-12 pl-0">
                                                                            <label class="input__label pl-1">Storage
                                                                                Duration
                                                                                Type</label>
                                                                                <div class="form-check-label">
                                                                                    <div class="radio">
                                                                                        <div class="row">
                                                                                            <!-- Short Term Option -->
                                                                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                                                                <label class="form-check-label w-100 pt-1">
                                                                                                    <input class="form-check-input mt-1" id="short" type="radio" name="term_duration" data-validation="required" data-error-message="Duration is required" value="">
                                                                                                    Short Term (6 months)
                                                                                                </label>
                                                                                            </div>
                                                                                
                                                                                            <!-- Mid Term Option -->
                                                                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                                                                <label class="form-check-label w-100 pt-1">
                                                                                                    <input class="form-check-input mt-1" id="mid2" type="radio" name="term_duration" data-validation="required" data-error-message="Duration is required" value="">
                                                                                                    Mid Term (1 Year)
                                                                                                </label>
                                                                                            </div>
                                                                                
                                                                                            <!-- Long Term Option -->
                                                                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                                                                <label class="form-check-label w-100 pt-1">
                                                                                                    <input class="form-check-input mt-1" type="radio" id="long" name="term_duration" data-validation="required" data-error-message="Duration is required" value="">
                                                                                                    Long Term (2 years)
                                                                                                </label>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                

                                                                        </div>


                                                                    </div>




                                                                    <div id="vials" class="card mb-2 mt-2"
                                                                        style="display: none;">

                                                                        <div class="col-xl-12 p-heading">
                                                                            <h6 class="p-text">VIALS</h6>
                                                                        </div>

                                                                        <div class="form-row card-body pt-2 pb-1">


                                                                            <div
                                                                                class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                                <div class="form-group">
                                                                                    <label class="input__label">Vial
                                                                                        Holder</label>
                                                                                    <input name="vial_holder"
                                                                                        type="text"
                                                                                        data-validation="required"
                                                                                        data-error-message="vial holder is required"
                                                                                        class="form-control input-style"
                                                                                        placeholder="">
                                                                                </div>
                                                                            </div>

                                                                            <div
                                                                                class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                                <div class="form-group">
                                                                                    <label class="input__label">Vial
                                                                                        Position</label>
                                                                                    <select name="vial_position"
                                                                                        data-validation="required"
                                                                                        data-error-message="vial position is required"
                                                                                        class="form-control input-style">
                                                                                        <option></option>
                                                                                        <option>1</option>
                                                                                        <option>2</option>
                                                                                        <option>3</option>
                                                                                        <option>4</option>
                                                                                        <option>5</option>

                                                                                    </select>
                                                                                </div>
                                                                            </div>



                                                                        </div>
                                                                    </div>
                                                                    <div id="straw" class="card mb-2 mt-2"
                                                                        style="display: none;">

                                                                        <div class="col-xl-12 p-heading">
                                                                            <h6 class="p-text">STRAW</h6>
                                                                        </div>

                                                                        <div class="form-row card-body pt-2 pb-1">

                                                                            <div
                                                                                class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                                <div class="form-group">
                                                                                    <label
                                                                                        class="input__label">Goblet</label>
                                                                                    <select
                                                                                        class="form-control input-style">
                                                                                        <option></option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>

                                                                            <div
                                                                                class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                                <div class="form-group">
                                                                                    <label
                                                                                        class="input__label">Visogoblet</label>
                                                                                    <select
                                                                                        class="form-control input-style">
                                                                                        <option></option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>

                                                                            <div
                                                                                class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                                <div class="form-group">
                                                                                    <label
                                                                                        class="input__label">Straw</label>
                                                                                    <select
                                                                                        class="form-control input-style">
                                                                                        <option></option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>



                                                                        </div>
                                                                    </div>


                                                                    <div class="form-row">

                                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Freezing
                                                                                    Date</label>
                                                                                <input id="freezingDate1" name="date"
                                                                                    type="date"
                                                                                    class="form-control input-style"
                                                                                    data-validation="required"
                                                                                    data-error-message="Date of freezing is required"
                                                                                    placeholder="">
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Freezing
                                                                                    Time</label>
                                                                                <input data-validation="required"
                                                                                    data-error-message="Time of freezing is required"
                                                                                    id="freezingTime" name="time"
                                                                                    type="time"
                                                                                    class="form-control input-style"
                                                                                    placeholder="">
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Due Date of
                                                                                    Discard/Renewal</label>
                                                                                <input id="freezingDate2"
                                                                                    name="due_date" type="date"
                                                                                    class="form-control input-style"
                                                                                    data-validation="required"
                                                                                    data-error-message="Date of Renewal is required"
                                                                                    placeholder="">
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Actual Date
                                                                                    of
                                                                                    Renewal</label>
                                                                                <input id="freezingDate3"
                                                                                    name="actual_date_renewal"
                                                                                    type="date"
                                                                                    data-validation="required"
                                                                                    data-error-message="Actual Date of Renewal is required"
                                                                                    class="form-control input-style"
                                                                                    placeholder="">
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-lg-4 col-md-4 col-sm-12 mb-2">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Done
                                                                                    By</label>
                                                                                <select name="done_by"
                                                                                    data-validation="required"
                                                                                    data-error-message="Done by is required"
                                                                                    class="form-control input-style">
                                                                                    <option></option>
                                                                                    <option>Andrologist</option>
                                                                                    <option>Embryologist</option>


                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    </div>






                                                                </div>

                                                            </div>



                                                            <!--Past your code here ends-->
                                                        </div>
                                                    </div>
                                                    <div id="loadingDiv"></div>
                                                    <div class="form-group mt-1 mb-3 text-right">



                                                        <!-- <button type="button" class="btn-success btn-style btn mt-3 mr-2"><strong><i
                                                            class="fa-regular fa-pen-to-square"></i> Modify</strong></button> -->

                                                        <!-- <button type="button" class="btn-secondary btn-style btn mt-3 mr-2"><strong><i
                                                            class="fa-solid fa-print"></i> Print</strong></button> -->

                                                        <button type="button" class="btn-danger btn-style btn mt-3 mr-2"
                                                            data-bs-dismiss="modal"><strong><i class="fas fa-times"></i>
                                                                Cancel</strong></button>

                                                        <button type="submit" onclick=""
                                                            id="freezeFormSubmit"
                                                            class="btn-primary btn-style btn mt-3"><strong><i
                                                                    class="far fa-save"></i>
                                                                Save</strong></button>

                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- The COLLECT SPLITE SAMPLE  Modal -->
                        <div class="modal" id="spliteSample">
                            <div class="modal-dialog  modal-xl">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <a href="#" class="btn-close" data-bs-dismiss="modal"><i
                                                class="fa-solid fa-circle-xmark"></i></a>
                                    </div>

                                    <!-- Modal body -->
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-lg-12 pl-lg-2 chart-grid">
                                                <form id="splitForm">
                                                    <div class="card card_border">
                                                        <div class="">
                                                            <!--Past your code here starts-->

                                                            <div class="card">

                                                                <div class="col-xl-12 p-heading">
                                                                    <h6 class="p-text">SPLIT SEMEN SAMPLE</h6>
                                                                </div>

                                                                <div class="card-body pt-2 mb-0">



                                                                    <div class="form-row">

                                                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                                                            <div class="form-group">
                                                                                <label class="input__label">Split Sample
                                                                                    In</label>
                                                                                <label class="input__label">
                                                                                <input id="splitSample"
                                                                                    name="description" type="text"
                                                                                    class="form-control input-style"
                                                                                    placeholder=""></label>
                                                                            </div>
                                                                            <div>
                                                                                <label class="input__label" id="restVolume">rest volume:</label>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                                                            <table class="table2">
                                                                                <tbody id="splitBody">

                                                                                </tbody>
                                                                            </table>
                                                                        </div>

                                                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                                                            <div
                                                                                class="form-group mt-1 mb-3 text-right">

                                                                                <button type="button"
                                                                                    class="btn-danger btn-style btn mt-3 mr-2"
                                                                                    data-bs-dismiss="modal"><strong><i
                                                                                            class="fas fa-times"></i>
                                                                                        Cancel</strong></button>

                                                                                <button
                                                                                    onclick=""
                                                                                    type="button" id="splitSubmit"
                                                                                    class="btn-primary btn-style btn mt-3"><strong><i
                                                                                            class="far fa-save"></i>
                                                                                        Save</strong></button>

                                                                            </div>
                                                                        </div>


                                                                    </div>
                                                                </div>
                                                            </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>


                        <!--footer section start-->
                        <%- include('../footer') -%>

                            <script src="../javascripts/validation2.js"></script>
                            <script src="../javascripts/myAjax2.js"></script>

                            <script>
                                function fetchSemenSample() {
                                    axios.get('/embrology/get-semen-sample')
                                        .then(response => {
                                            console.log(response.data);
                                            let data = response.data;
                                            let tableRows = '';
                                            let html2 = '';

                                            data.forEach((item) => {
                                                let html;
                                                if (item.status != 'issued') {
                                                    tableRows += `
                                                <tr class="sperms-tr">
                                                    <td contenteditable="true">${item.id}</td>
                                                    <td contenteditable="true">${item.received_on.split('T')[0]}</td>
                                                    <td contenteditable="true">${item.sexual_abstinence_days}</td>
                                                    <td contenteditable="true" id='status'>${item.status}</td>
                                                    <td contenteditable="true"><strong><i
                                                        class="fa-solid fa-file-lines" onclick=washSemen('${item.id}','${item.received_on}','Fresh','${item.patient_id}')
                                                        style="font-size:20px;color:#11cdf0;"></i></i></strong>
                                                    </td>
                                                    <td contenteditable="true">${item.stage}</td>
                                                    <td contenteditable="true">${item.Storage}</td>
                                                    `
                                                    if (`${item.status}` == "collected") {

                                                        html2 = `
                                                        <td contenteditable="true" class="sperms-td-threedot">
                                                        <div class="dropdown">
                                                            <a href="#" id="dropdownMenuButton" class="dropdown-toggle"  data-bs-toggle="dropdown" aria-expanded="false"><i  class="fas fa-ellipsis-v"></i></a>
                                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                                <li><a class="dropdown-item" href="#" onclick="washSemen('${item.id}','${item.received_on}','Fresh','${item.patient_id}')">WASH SAMPLE</a></li>
                                                                <li><a class="dropdown-item" href="#" onclick="getMoreOption('${item.id}','${item.patient_id}')">DISCARD SAMPLE</a></li>
                                                            </ul>
                                                        </div> </td> </tr>`
                                                    } else if (`${item.status}` == 'Discarded') {
                                                        html2 = `<td contenteditable="true"></td></tr>`
                                                    }else if(`${item.status}`=='split'){
                                                        html2 = `<td contenteditable="true"></td></tr>`
                                                    } else if (`${item.status}` == 'Washed') {
                                                        html2 = `
                                                        <td contenteditable="true" class="sperms-td-threedot">
                                                        <div class="dropdown">
                                                            <a href="#" id="dropdownMenuButton" class="dropdown-toggle"  data-bs-toggle="dropdown" aria-expanded="false"><i  class="fas fa-ellipsis-v"></i></a>
                                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                                <li><a class="dropdown-item" href="#" onclick="splitSample('${item.id}','${item.received_on}','Fresh','${item.patient_id}')">SPLIT SAMPLE</a></li>
                                                                <li><a class="dropdown-item" href="#" onclick="freezeSemen('${item.id}')">FREEZE SAMPLE</a></li>
                                                                <li><a class="dropdown-item" href="#" onclick="getMoreOption('${item.id}','${item.patient_id}')">DISCARD SAMPLE</a></li>
                                                            </ul>
                                                        </div> </td> </tr>`
                                                    } else if (`${item.status}` == 'splitSample') {
                                                        html2 = `
                                                        <td contenteditable="true" class="sperms-td-threedot">
                                                        <div class="dropdown">
                                                            <a href="#" id="dropdownMenuButton" class="dropdown-toggle"  data-bs-toggle="dropdown" aria-expanded="false"><i  class="fas fa-ellipsis-v"></i></a>
                                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                                <li><a class="dropdown-item" href="#" onclick="freezeSemen()">FREEZE SAMPLE</a></li>
                                                                <li><a class="dropdown-item" href="#" onclick="getMoreOption('${item.id}','${item.patient_id}')">DISCARD SAMPLE</a></li>
                                                            </ul>
                                                        </div> </td> </tr>`
                                                    } else if (`${item.status}` == 'frozen') {
                                                        html2 = `
                                                        <td contenteditable="true" class="sperms-td-threedot">
                                                        <div class="dropdown">
                                                            <a href="#" id="dropdownMenuButton" class="dropdown-toggle"  data-bs-toggle="dropdown" aria-expanded="false"><i  class="fas fa-ellipsis-v"></i></a>
                                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                                <li><a class="dropdown-item" href="#" onclick="thawUpdate('${item.id}')">THAW SAMPLE</a></li>
                                                                <li><a class="dropdown-item" href="#" onclick="getMoreOption('${item.id}','${item.patient_id}')">DISCARD SAMPLE</a></li>
                                                            </ul>
                                                        </div> </td> </tr>`
                                                    }
                                                    tableRows = tableRows + html2
                                                }
                                            });
                                            $('#semenSimplBody').html(tableRows);
                                            // pagi_search('#searchBox', '#semenSimplTable', '#paginationControls');
                                        })
                                        .catch(error => {
                                            console.error('Error fetching data:', error);
                                        });
                                }
                                fetchSemenSample()

                                

                                function washSemen(Id, CollectedOn, Fresh, pId) {
                                    $('#sampleLabelId').val(Id).prop('disabled', true);
                                    $('#sampleLabelId2').val(Id).prop('disabled', true);
                                    $('#patientLabelId').val(pId).prop('disabled', true);
                                    $('#patientLabelId2').val(pId).prop('disabled', true);
                                    $('#collectedOnLabelId').text(CollectedOn.split('T')[0])
                                    $('#freshLabelId').text(Fresh)
                                    axios.get('/embrology/washData', {
                                        params: {
                                            id: Id
                                        }
                                    }).then(res => {
                                        console.log(res.data)
                                        // Example JSON object similar to your data
                                        // Example data object
                                        const data = res.data;
                                        console.log(res.data);

                                        // Set values to HTML elements based on name attributes
                                        if (res.data) {
                                            $('input[name="volume"]').val(data.volume);
                                            $('input[name="concentration"]').val(data.concentration);
                                            $('input[name="abnormal_in"]').val(data.abnormal_in);
                                            $('input[name="bound_motile_sperm"]').val(data.bound_motile_sperm);
                                            $('input[name="capacitated"]').prop('checked', data.capacitated);
                                            $('input[name="dfi"]').prop('checked', data.dfi);
                                            $('input[name="dfi_percent"]').val(data.dfi_percent);
                                            $('select[name="diagnosis"]').val(data.diagnosis);
                                            $('select[name="time"]').val(data.time);
                                            $('select[name="degree_of_diagnosis"]').val(data.degree_of_diagnosis);
                                            $('input[name="excess_residual_cytoplasm"]').val(data.excess_residual_cytoplasm);
                                            $('input[name="fragmented"]').val(data.fragmented);
                                            $('input[name="hba"]').prop('checked', data.hba);
                                            $('input[name="hba_negative_sperm_percent"]').val(data.hba_negative_sperm_percent);
                                            $('input[name="hba_positive_sperm_percent"]').val(data.hba_positive_sperm_percent);
                                            $('input[name="head_defects"]').val(data.head_defects);
                                            $('input[name="immobile"]').val(data.immobile);
                                            $('input[name="large_halo"]').val(data.large_halo);
                                            $('input[name="medium_halo"]').val(data.medium_halo);
                                            $('input[name="mid_piece_defects"]').val(data.mid_piece_defects);
                                            $('input[name="no_halo"]').val(data.no_halo);
                                            $('input[name="non_bound_motile_sperm"]').val(data.non_bound_motile_sperm);
                                            $('input[name="non_fragmented"]').val(data.non_fragmented);
                                            $('input[name="non_progressive"]').val(data.non_progressive);
                                            $('input[name="normal_in"]').val(data.normal_in);
                                            $('input[name="motile"]').val(data.normal_prog_motile);
                                            $('input[name="picsi"]').prop('checked', data.picsi);
                                            $('input[name="private_remarks"]').val(data.private_remarks);
                                            $('input[name="rapid_progressive"]').val(data.rapid_progressive);
                                            $('input[name="sample_id"]').val(data.sample_id);
                                            $('select[name="semen_appearance"]').val(data.semen_appearance);
                                            $('select[name="homogenize"]').val(data.homogenize);
                                            $('select[name="complete_sample"]').val(data.complete_sample);
                                            $('input[name="slow_progressive"]').val(data.slow_progressive);
                                            $('input[name="small_halo"]').val(data.small_halo);
                                            $('input[name="tail_defects"]').val(data.tail_defects);
                                            $('input[name="teratoz_index"]').val(data.teratoz_index);
                                            $('input[name="total"]').val(data.total);
                                            $('input[name="total_hba"]').val(data.total_hba);
                                            $('input[name="total_motile_prog"]').val(data.total_motile_prog);
                                            $('input[name="total_percent"]').val(data.total_percent);
                                            $('input[name="total_sperm"]').val(data.total_sperm);
                                            $('select[name="viscosity"]').val(data.viscosity);
                                            $('input[name="vitality_test_in"]').val(data.vitality_test_in);
                                            $('select[name="vitality_test_method"]').val(data.vitality_test_method);
                                            $('select[name="washing_done_by"]').val(data.washing_done_by);
                                            $('select[name="washing_technique"]').val(data.washing_technique);
                                        }else{
                                            // Clear input values
                                            $('input[name="volume"]').val('');
                                            $('input[name="concentration"]').val('');
                                            $('input[name="abnormal_in"]').val('');
                                            $('input[name="bound_motile_sperm"]').val('');
                                            $('input[name="dfi_percent"]').val('');
                                            $('input[name="excess_residual_cytoplasm"]').val('');
                                            $('input[name="fragmented"]').val('');
                                            $('input[name="hba_negative_sperm_percent"]').val('');
                                            $('input[name="hba_positive_sperm_percent"]').val('');
                                            $('input[name="head_defects"]').val('');
                                            $('input[name="immobile"]').val('');
                                            $('input[name="large_halo"]').val('');
                                            $('input[name="medium_halo"]').val('');
                                            $('input[name="mid_piece_defects"]').val('');
                                            $('input[name="no_halo"]').val('');
                                            $('input[name="non_bound_motile_sperm"]').val('');
                                            $('input[name="non_fragmented"]').val('');
                                            $('input[name="non_progressive"]').val('');
                                            $('input[name="normal_in"]').val('');
                                            $('input[name="motile"]').val('');
                                            $('input[name="private_remarks"]').val('');
                                            $('input[name="rapid_progressive"]').val('');
                                            $('input[name="slow_progressive"]').val('');
                                            $('input[name="small_halo"]').val('');
                                            $('input[name="tail_defects"]').val('');
                                            $('input[name="teratoz_index"]').val('');
                                            $('input[name="total"]').val('');
                                            $('input[name="total_hba"]').val('');
                                            $('input[name="total_motile_prog"]').val('');
                                            $('input[name="total_percent"]').val('');
                                            $('input[name="total_sperm"]').val('');
                                            $('input[name="vitality_test_in"]').val('');

                                            // Clear checkboxes
                                            $('input[name="capacitated"]').prop('checked', false);
                                            $('input[name="dfi"]').prop('checked', false);
                                            $('input[name="hba"]').prop('checked', false);
                                            $('input[name="picsi"]').prop('checked', false);

                                            // Clear select values
                                            $('select[name="diagnosis"]').val('');
                                            $('select[name="time"]').val('');
                                            $('select[name="degree_of_diagnosis"]').val('');
                                            $('select[name="semen_appearance"]').val('');
                                            $('select[name="homogenize"]').val('');
                                            $('select[name="complete_sample"]').val('');
                                            $('select[name="viscosity"]').val('');
                                            $('select[name="vitality_test_method"]').val('');
                                            $('select[name="washing_done_by"]').val('');
                                            $('select[name="washing_technique"]').val('');

                                        }


                                    })
                                    $("#washSemenModal").modal('show')
                                }
                                function splitSample(Id, CollectedOn, Fresh, pId) {
                                    // Show the modal
                                    $("#spliteSample").modal('show');

                                    // Set the ID in the modal and disable it
                                    $('#sampleLabelId3').val(Id).prop('disabled', true);

                                    // Clear the existing rows in the split body
                                    $('#splitBody').empty();

                                    axios.post('/embrology/volume',{id:Id}).then(res=>{
                                        $('#restVolume').html(`<strong>volume:</strong> ${res.data.volume}`)
                                    })

                                    // Attach event listener for input changes on the splitSample input field
                                    $('#splitSample').off('input').on('input', function () {
                                        let count = parseInt($(this).val(), 10) || 0; // Ensure a number or default to 0
                                        let tableRow = `<tr>
                                                                                        <td><strong>Sample Part</strong>
                                                                                        </td>
                                                                                        <td><strong>Volume (ml)</strong>
                                                                                        </td>
                                                                                    </tr>`;

                                        // Generate rows based on the count
                                        for (let i = 1; i <= count; i++) {
                                            tableRow += `
                                                                <tr>
                                                                    <td id='sample'>${Id}-${i}</td>
                                                                    <td><input data-validation="required"
                                                                                data-error-message="Service Code is required" type="text" name='${i}' class="form-control input-style" ></td>
                                                                </tr>`;
                                        }

                                        // Append the generated rows to the table body
                                        $('#splitBody').html(tableRow); // Use .html() to replace content and avoid duplicates
                                    });
                                }
                                function freezeSemen(Id) {
                                    $('#freezeModal').modal('show');
                                    $('#sample_id_2').text(Id)
                                    axios.post('/embrology/volume', { id: Id }).then(res => {
                                        $('#sperm_volume').text(res.data.volume);
                                    }).catch(err => console.log('error', err))
                                    axios.get('/embrology/semenData', {
                                        params: {
                                            id: Id
                                        }
                                    }).then(res=>{
                                        console.log(res.data)
                                        $('#collectedOnFreeze').html(`<strong>Collected
                                                                                        on: </strong>
                                                                                    ${res.data.date_of_collect.split('T')[0]} `)
                                    }).catch(err=>
                                        console.log(err)
                                    )
                                }

                                function closeBtn(id) {
                                    console.log('hi')
                                    $(id).modal('hide');
                                    fetchSemenSample();
                                }
                                function closeBtnIssue(id) {
                                    $(id).modal('hide');
                                    fetchSemenSample();
                                    fetchIssueData();
                                }

                            </script>
                            <script>
                                $('#splitSubmit').on('click', () => {
                                    const freezeFormData = validateForm('#splitForm');
                                    console.log('hi')
                                    const {
                                        isValid: splitFormDetails,
                                        errorMessage: splitFormError,
                                        formData
                                    } = freezeFormData;

                                    let idString = $('#sample').text();
                                    let Id = idString.split('-')[0];

                                    formData['sampleId'] = Id;
                                    console.log(formData);
                                    axios.post('/embrology/volume', { id: Id }).then(res => {
                                        let temp = 0;
                                        for (let i = 1; i <= formData.description; i++) {
                                            temp += parseInt(formData[i]);

                                        }
                                        if (temp == res.data.volume) {
                                            if (splitFormDetails) {
                                                const loadingDiv = "#loadingDiv";
                                                const errorDiv1 = '#errorDiv1'
                                                myAjax(formData, errorDiv1, '/embrology/split-update', loadingDiv)
                                                alert('form submitted')
                                                closeBtn('#spliteSample')
                                            } else {
                                                alert(splitFormError)
                                            }
                                        } else {
                                            alert('total volume is not splited')
                                        }
                                    }).catch(err => console.log('error', err))
                                })

                                $('#freezeFormSubmit').on('click', () => {
                                    const freezeFormData = validateForm('#freezeForm');
                                    console.log('hi')
                                    const {
                                        isValid: freezeFormDetails,
                                        errorMessage: freezeFormError,
                                        formData
                                    } = freezeFormData;
                                    formData['sample_id'] = $('#sample_id_2').text();
                                    console.log(formData);
                                    if (freezeFormDetails) {
                                        const loadingDiv = "#loadingDiv";
                                        const errorDiv1 = '#errorDiv1'
                                        myAjax(formData, errorDiv1, '/embrology/save', loadingDiv)
                                        alert('form submitted')
                                        // add if statement here
                                        closeBtn('#freezeModal')
                                        
                                    } else {
                                        alert(freezeFormError)
                                    }
                                })
                            </script>
                            <script>

                                $('#volume2 ,#sperm_concentration2,#total_sperm,#rapid_progressive,#slow_progressive,#non_progressive,#immobile2,#Total_motile_Prog').prop('disabled', true)

                                $('#capacitated').on('change', () => {
                                    let check = $('#capacitated').is(':checked');
                                    console.log(check)
                                    if (check) {
                                        $('#volume2 ,#sperm_concentration2,#total_sperm,#rapid_progressive,#slow_progressive,#non_progressive,#immobile2,#Total_motile_Prog').prop('disabled', false)
                                    } else {
                                        $('#volume2 ,#sperm_concentration2,#total_sperm,#rapid_progressive,#slow_progressive,#non_progressive,#immobile2,#Total_motile_Prog').prop('disabled', true)
                                    }
                                })

                                $("#washSemenSampleSubmit").on("click", function (event) {
                                    event.preventDefault();
                                    submitFormsRule();
                                });
                                const submitFormsRule = () => {
                                    event.preventDefault();

                                    const dataObj = {
                                        volume2: $('#volume2').val(),
                                        sperm_concentration2: $('#sperm_concentration2').val(),
                                        total_sperm: $('#total_sperm').val(),
                                        rapid_progressive: $('#rapid_progressive').val(),
                                        slow_progressive: $('#slow_progressive').val(),
                                        non_progressive: $('#non_progressive').val(),
                                        immobile2: $('#immobile2').val(),
                                        Total_motile_Prog: $('#Total_motile_Prog').val()
                                    };
                                    console.log(dataObj)

                                    const washSemenSampleFormDetails = validateForm("#washSemenSampleForm");
                                    const {
                                        isValid: washSemenSampleFormValid,
                                        errorMessage: washSemenSampleFormError,
                                        formData
                                    } = washSemenSampleFormDetails;

                                    setCheckedValue('capacitated', 'capacitated', formData)
                                    setCheckedValue('manual_calculation', 'manual_calculation', formData)
                                    setCheckedValue('macs_done', 'macs_done', formData)
                                    setCheckedValue('hba', 'hba', formData)
                                    setCheckedValue('dfi', 'dfi', formData)
                                    setCheckedValue('picsi', 'picsi', formData)

                                    function setCheckedValue(id, fiels, formData) {
                                        const data = $('#' + id).is(':checked')
                                        if (data) {
                                            formData[fiels] = true;
                                        } else {
                                            formData[fiels] = false
                                        }
                                    }


                                    formData['capacitatedData'] = dataObj;

                                    console.log('formData', formData);

                                    if (washSemenSampleFormValid) {
                                        const url = "/embrology/wash-semen-sample";
                                        const loadingDiv = "#loadingDiv";
                                        const errorDiv1 = '#errorDiv1'
                                        myAjax(formData, errorDiv1, url, loadingDiv);
                                        location.reload();
                                        closeBtn('#washSemenModal')
                                    } else {
                                        alert(washSemenSampleFormError);
                                    }
                                };

                            </script>
                            <script>
                                function getDfiModel(Id, CardId) {
                                    const dfiChecked = $('#' + Id).is(':checked');
                                    if (dfiChecked) {

                                        const div = document.getElementById(CardId);
                                        div.style.display = 'block';
                                    } else {

                                        const div = document.getElementById(CardId);
                                        div.style.display = 'none';
                                    }
                                }

                            </script>

                            <script>

                                function getMoreOption(Id, patient_id) {

                                    $('#SampleId').val(Id).prop('disabled', true);
                                    $('#PatientDaitle').val(patient_id).prop('disabled', true);
                                    axios.post('/embrology/volume',{id:Id}).then(res=>{
                                        console.log(res.data)
                                        $('#volumeId').text(res.data.volume)
                                        $('#StorageLocation').text(res.data.storage.Storage)
                                    })
                                    
                                    $("#discardSemenSampleModal").modal('show')

                                }
                                function thawUpdate(Id){
                                    axios.post('/embrology/thaw-update',{id:Id}).then(res=>{
                                        console.log(res.data)
                                        location.reload();
                                    })
                                }

                                $("#discardSemenSample").on("submit", function (event) {
                                    event.preventDefault();
                                    submitDiscaredSemen();
                                });
                                const submitDiscaredSemen = () => {
                                    event.preventDefault();

                                    const discardSemenSampleFormDetails = validateForm("#discardSemenSample");
                                    const {
                                        isValid: discardSemenSampleFormValid,
                                        errorMessage: discardSemenSampleFormError,
                                        formData
                                    } = discardSemenSampleFormDetails;

                                    console.log('form data', formData);

                                    if (discardSemenSampleFormValid) {
                                        const url = "/embrology/discard-semen-sample";
                                        const loadingDiv = "#loadingDiv";
                                        const errorDiv1 = '#errorDiv1'
                                        myAjax(formData, errorDiv1, url, loadingDiv);
                                        closeBtn('#discardSemenSampleModal')
                                    } else {
                                        alert(discardSemenSampleFormError);
                                    }
                                };
                            </script>

                            <script>

                                $("#semenSemplform").on("submit", function (event) {
                                    event.preventDefault();
                                    submitCollectSempla();
                                });
                                const submitCollectSempla = () => {

                                    event.preventDefault();

                                    const semenSemplformDetails = validateForm("#semenSemplform");
                                    const {
                                        isValid: semenSemplformValid,
                                        errorMessage: semenSemplformError,
                                        formData
                                    } = semenSemplformDetails;

                                    console.log(formData);

                                    if (semenSemplformValid) {
                                        const url = "/embrology/new-semen-sample";
                                        const loadingDiv = "#loadingDiv";
                                        const errorDiv1 = '#errorDiv1'
                                        myAjax(formData, errorDiv1, url, loadingDiv);
                                        closeBtn('#collectSemenSamplModal')
                                    } else {
                                        alert(semenSemplformError);
                                    }
                                };

                            </script>

                            <!-- basic functionality and Calculation -->
                            <script>
                                $('#normal').on('input', function () {
                                    let normalValue = parseFloat($('#normal').val()) || 0;
                                    let abnormalValue = parseInt(100 - normalValue);
                                    if (normalValue == 0) {
                                        $('#abnormal').val(100)
                                    }
                                    else if (normalValue === undefined || normalValue > 100 || normalValue < 0) {
                                        $('#abnormal').val('');
                                    } else {
                                        $('#abnormal').val(abnormalValue);
                                    }
                                    if (parseFloat($('#abnormal').val()) != undefined && parseFloat($('#motile').val()) != undefined) {
                                        let multi = parseFloat($('#normal').val())
                                        let mutlip = parseFloat($('#motile').val())
                                        $('#normal_prog_motile').val(((multi * mutlip) / 100).toFixed(2));
                                    }
                                });
                                $('#volume, #sperm_concentration').on('input', () => {
                                    let volume = parseFloat($('#volume').val())
                                    let concentration = parseFloat($('#sperm_concentration').val())
                                    if (volume !== undefined && concentration !== undefined) {
                                        $('#total_sperm_count').val(volume * concentration)
                                    }
                                })
                                $('#rapid, #slow').on('input', () => {
                                    let rapid = parseFloat($('#rapid').val())
                                    let slow = parseFloat($('#slow').val())
                                    if (rapid !== undefined && slow !== undefined) {
                                        let total = $('#total_sperm_count').val();
                                        rapid = (total * rapid) / 100;
                                        slow = (total * slow) / 100;
                                        $('#motile').val((rapid + slow).toFixed(2))
                                    }
                                    if (parseFloat($('#abnormal').val()) != undefined && parseFloat($('#motile').val()) != undefined) {
                                        let multi = parseFloat($('#normal').val())
                                        let multip = parseFloat($('#motile').val())
                                        $('#normal_prog_motile').val(((multi * multip) / 100).toFixed(2));
                                    }
                                })
                                $('#Non-Progressive').on('input', () => {
                                    let rapid = parseFloat($('#Non-Progressive').val());
                                    let motile = parseFloat($('#motile').val());
                                    if (rapid !== undefined) {
                                        let total = parseFloat($('#total_sperm_count').val());
                                        rapid = (total * rapid) / 100;
                                        $('#immobile').val(((total - rapid - motile) / total) * 100)
                                    }
                                })
                                $('#head,#mid,#tail,#Cytoplasm').on('input', () => {
                                    let head = parseFloat($('#head').val());
                                    let mid = parseFloat($('#mid').val());
                                    let tail = parseFloat($('#tail').val());
                                    let Cytoplasm = parseFloat($('#Cytoplasm').val());
                                    let sum = head + tail + mid + Cytoplasm
                                    if (Number.isNaN(sum)) {
                                        $('#index').val('')
                                    } else {
                                        let abnormal = parseFloat($('#abnormal').val());
                                        $('#index').val((sum / abnormal).toFixed(2))
                                    }
                                });
                            </script>
                            <script>
                                $(document).ready(function () {
                                    function populateDiagnosisDropdown() {
                                        const options = [
                                            { value: 'Oligozoospermia', text: 'Oligozoospermia' },
                                            { value: 'Asthenozoospermia', text: 'Asthenozoospermia' },
                                            { value: 'Teratozoospermia', text: 'Teratozoospermia' },
                                            { value: 'Oligoasthenoteratozoospermia', text: 'Oligoasthenoteratozoospermia' },
                                            { value: 'Azoospermia', text: 'Azoospermia' },
                                            { value: 'Hypospermia', text: 'Hypospermia' },
                                            { value: 'Hyperspermia', text: 'Hyperspermia' },
                                            { value: 'Polyzoospermia', text: 'Polyzoospermia' },
                                            { value: 'Globozoospermia', text: 'Globozoospermia' }
                                        ];

                                        let dropdownHtml = options.map(option =>
                                            `<option value="${option.value}">${option.text}</option>`
                                        ).join('');

                                        $('#diagnosis').html(dropdownHtml);
                                    }

                                    function updateDiagnosisSelection() {
                                        // Retrieve values from form fields
                                        let spermConcentration = parseFloat($('#sperm_concentration').val()) || 0;
                                        let totalSpermCount = parseFloat($('#total_sperm_count').val()) || 0;
                                        let rapidProgressive = parseFloat($('input[name="rapid_progressive"]').val()) || 0;
                                        let slowProgressive = parseFloat($('input[name="slow_progressive"]').val()) || 0;
                                        let totalMotileProg = parseFloat($('input[name="total_motile_prog"]').val()) || 0;
                                        let normalMorphology = parseFloat($('#normal').val()) || 0;
                                        let semenVolume = parseFloat($('input[name="volume"]').val()) || 0;

                                        let selectedDiagnosis = '';

                                        // Determine which option should be selected based on conditions
                                        if (spermConcentration === 0 || totalSpermCount === 0) {
                                            selectedDiagnosis = 'Azoospermia';
                                        } else if (spermConcentration < 15) {
                                            selectedDiagnosis = 'Oligozoospermia';
                                        } else if (totalSpermCount < 39) {
                                            selectedDiagnosis = 'Oligozoospermia';
                                        } else if (rapidProgressive + slowProgressive < 32) {
                                            selectedDiagnosis = 'Asthenozoospermia';
                                        } else if (totalMotileProg < 40) {
                                            selectedDiagnosis = 'Asthenozoospermia';
                                        } else if (normalMorphology < 4) {
                                            selectedDiagnosis = 'Teratozoospermia';
                                        } else if (spermConcentration < 15 && rapidProgressive + slowProgressive < 32 && totalMotileProg < 40 && normalMorphology < 4) {
                                            selectedDiagnosis = 'Oligoasthenoteratozoospermia';
                                        } else if (semenVolume < 1.5) {
                                            selectedDiagnosis = 'Hypospermia';
                                        } else if (semenVolume > 5.0) {
                                            selectedDiagnosis = 'Hyperspermia';
                                        } else if (spermConcentration > 100) {
                                            selectedDiagnosis = 'Polyzoospermia';
                                        } else if (normalMorphology >= 90) {
                                            selectedDiagnosis = 'Globozoospermia';
                                        }

                                        // Set the selected option
                                        $('#diagnosis').val(selectedDiagnosis);
                                    }

                                    // Populate the dropdown initially
                                    populateDiagnosisDropdown();

                                    // Attach event listeners to form fields for real-time updates
                                    $('#sperm_concentration, #total_sperm_count, #volume, input[name="rapid_progressive"], input[name="slow_progressive"], input[name="total_motile_prog"], #normal').on('input', updateDiagnosisSelection);

                                    // Initialize dropdown selection on page load
                                    updateDiagnosisSelection();
                                });
                            </script>
                            <script type="module">
                                import { printText } from '../javascripts/uploadPdf.js'
                                import { printreport_semen } from '../javascripts/printreport_semen.js'
                                for (let i = 1; i < 3; i++) {
                                    $('#print' + i).on('click', () => {
                                        let number = parseInt($('#label1').val());
                                        if (i == 2) {
                                            const data = {
                                                volume: document.getElementById("volume").value,
                                                concentration: document.getElementById("sperm_concentration").value,
                                                total_sperm: document.getElementById("total_sperm_count").value,
                                                rapid_progressive: document.getElementById("rapid").value,
                                                slow_progressive: document.getElementById("slow").value,
                                                non_progressive: document.getElementById("Non-Progressive").value,
                                                immotile: document.getElementById("immobile").value,
                                                total_motile_Prog: document.getElementById("motile").value,
                                                normal_in: document.getElementById("normal").value,
                                                abnormal_in: document.getElementById("abnormal").value,
                                                head_defects_in: document.getElementById("head").value,
                                                mid_piece_defects_in: document.getElementById("mid").value,
                                                tail_defects_in: document.getElementById("tail").value,
                                                normal_prog_motile: document.getElementById("normal_prog_motile").value,
                                            }
                                            console.log(data);
                                            printreport_semen(data);
                                        }
                                        let txt = $('#txt1').text();
                                        if (Number.isNaN(number)) {
                                            alert('please insert no. of label')
                                        } else {
                                            let now = new Date();
                                            let formattedDate = now.toLocaleDateString(); // Format: MM/DD/YYYY
                                            let formattedTime = now.toLocaleTimeString(); // Format: HH:MM:SS AM/PM

                                            // Create a text with the date and time
                                            let textWithDateTime = `${txt} - Printed on ${formattedDate} at ${formattedTime}`;
                                            printText(textWithDateTime, number)
                                        }
                                    })
                                }
                            </script>
                            <script>

                                $('input[name="freeze_in"]').on('change', function () {

                                    if ($('#vialsOption').is(':checked')) {
                                        $('input[name="freeze_in"]').val('vials')
                                        $('#vials').show()
                                        $('#straw').hide()
                                    } else if ($('#strawOption').is(':checked')) {
                                        $('input[name="freeze_in"]').val('straw')
                                        $('#vials').hide()
                                        $('#straw').show()
                                    }
                                });
                            </script>
                            <script>
                                const now = new Date();
                                const day = String(now.getDate()).padStart(2, '0');
                                const month = String(now.getMonth() + 1).padStart(2, '0');
                                const year = now.getFullYear();

                                const formattedDate = `${year}-${month}-${day}`;
                                const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false });
                                console.log(time)
                                $('#freezingTime').val(time)
                                console.log($('#freezingTime').val())
                                for (let i = 1; i < 4; i++) {
                                    $('#freezingDate' + i).val(formattedDate);
                                }
                                $('input[name="term_duration"]').on('change', function () {
                                    if (this.checked) {
                                        let newDate = new Date();

                                        if ($('#short').is(':checked')) {
                                            console.log('short');
                                            newDate.setMonth(newDate.getMonth() + 6);
                                        } else if ($('#mid2').is(':checked')) {
                                            console.log('mid');
                                            newDate.setFullYear(newDate.getFullYear() + 1);
                                        } else if ($('#long').is(':checked')) {
                                            console.log('long');
                                            newDate.setFullYear(newDate.getFullYear() + 2);
                                        }

                                        const newDay = String(newDate.getDate()).padStart(2, '0');
                                        const newMonth = String(newDate.getMonth() + 1).padStart(2, '0');
                                        const newYear = newDate.getFullYear();

                                        const newFormattedDate = `${newYear}-${newMonth}-${newDay}`;
                                        $('#freezingDate2').val(newFormattedDate);
                                        $('input[name="term_duration"]').val(newFormattedDate);
                                    }
                                });


                            </script>
                            <script type="module" src="">
                                import { dateValMax } from '../javascripts/lengthVal.js';

                                dateValMax();
                            </script>
                            <script>
                                $('#issue').on('click', () => {
                                    console.log('hi');
                                    $('#issueModal').modal('show');
                                    fetchIssueData();
                                })

                                function fetchIssueData() {
                                    axios.get('/embrology/get-issue-data')
                                        .then(res => {
                                            let data = res.data.data;
                                            console.log(data);
                                            let tableRows = '';

                                            data.forEach(ele => {
                                                console.log(ele);
                                                tableRows += `
                                                                <tr>
                                                                    <td contenteditable="true">
                                                                        <input
                                                                            class="form-check-input mt-1"
                                                                            type="checkbox"
                                                                            id="${ele.id}">${ele.id}
                                                                         
                                                                    </td>
                                                                    <td contenteditable="true">
                                                                        <strong><i
                                                                            class="fa-solid fa-person"
                                                                            style="font-size:25px;color:#11cdf0;"></i></strong>
                                                                    </td>
                                                                    <td contenteditable="true">
                                                                        ${ele.date_of_collect.split('T')[0]}
                                                                    </td>
                                                                    <td contenteditable="true">
                                                                    ${ele.stage}
                                                                    </td>
                                                                    <td contenteditable="true">
                                                                        <strong><i
                                                                            class="fa-solid fa-file-lines"
                                                                            style="font-size:20px;color:#11cdf0;"></i></strong>
                                                                    </td>
                                                                    <td contenteditable="true">
                                                                        ${ele.Storage}
                                                                    </td>
                                                                </tr>
                                                            `;
                                            });

                                            $('#issueBody').html(tableRows);
                                        })
                                        .catch(err => {
                                            console.log(err); // Corrected typo from 'conosle.log' to 'console.log'
                                        });
                                }

                                function getCheckedItemIds() {
                                    let checkedIds = [];
                                    $('#issueBody input[type="checkbox"]:checked').each(function () {
                                        let id = $(this).attr('id')
                                        checkedIds.push(id);
                                    });
                                    return checkedIds;
                                }

                                // Event listener for the issue button
                                $('#issueBtn').click(function () {
                                    let checkedIds = getCheckedItemIds();
                                    console.log('Checked IDs:', checkedIds);
                                    // You can now pass these IDs to another function or send them to the server
                                    const loadingDiv = "#loadingDiv";
                                    const errorDiv1 = '#errorDiv1';
                                    let data = { array: checkedIds }
                                    myAjax(data, errorDiv1, '/embrology/updateIssue', loadingDiv)
                                    fetchIssueData();
                                    location.reload();
                                });

                                function fetchIssuedData() {
                                    axios.get('/embrology/get-issued-data')
                                        .then(res => {
                                            let data = res.data.data;
                                            console.log(data);
                                            let tableRows = '';

                                            data.forEach(ele => {
                                                console.log(ele);
                                                tableRows += `
                                                                <tr>
                                                                <td contenteditable="true">${ele.id}</td>
                                                                <td contenteditable="true"><strong><i
                                                                            class="fa-solid fa-person"
                                                                            style="font-size:25px;color:#11cdf0;"></i></i></strong>
                                                                </td>
                                                                </td>
                                                                <td contenteditable="true">${ele.date_of_collect.split('T')[0]}</td>
                                                                <td contenteditable="true">${ele.stage}</td>
                                                                <td contenteditable="true"><strong><i
                                                                            class="fa-solid fa-file-lines"
                                                                            style="font-size:20px;color:#11cdf0;"></i></i></strong>
                                                                </td>
                                                                <td contenteditable="true">${ele.Storage}</td>

                                                            </tr>
                                                            `;
                                            });

                                            $('#issuedBody').html(tableRows);
                                        })
                                        .catch(err => {
                                            console.log(err); // Corrected typo from 'conosle.log' to 'console.log'
                                        });
                                }
                                fetchIssuedData();

                            </script>
                            <script>
                                $('#manual_calculation').on('click', () => {
                                    let check = $("#manual_calculation").is(":checked");
                                    if (check) {
                                        $('#total_sperm_count').prop('disabled', false)
                                        $('#immobile').prop('disabled', false)
                                        $('#motile').prop('disabled', false)
                                        $('#abnormal').prop('disabled', false)
                                        $('#index').prop('disabled', false)
                                        $('#normal_prog_motile').prop('disabled', false)
                                    } else {
                                        $('#total_sperm_count').prop('disabled', true)
                                        $('#immobile').prop('disabled', true)
                                        $('#motile').prop('disabled', true)
                                        $('#abnormal').prop('disabled', true)
                                        $('#index').prop('disabled', true)
                                        $('#normal_prog_motile').prop('disabled', true)
                                    }
                                })
                            </script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    axios
        .get("/embrology/patientAllDetails")
        .then((res) => {
        console.log(res.data);
        $('#freezeName').text(` ${res.data.firstName}, MRN: ${res.data.mr_no}`)
        $('#txt1').text(`COLLECT SEMEN SAMPLE FOR ${res.data.firstName}, ${res.data.mr_no}`)
        $("#couple2_id").html(`Couple No. ${res.data.coupleId}<br>
                Referred By: ${res.data.ReferralDetails}`);
        $("#women3_id")
.html(`${res.data.firstName} ${res.data.lastName}, MRN: ${res.data.mr_no}<br>
                                        Age: ${res.data.age_years} Y, ${res.data.age_months} M, ${res.data.age_days} D, ${res.data.Gender}, Ph: ${res.data.mobileNo}<br>
                                        Ht: ${res.data.height}cm, Wt: ${res.data.weight} kg, BMI: ${res.data.bmi}, ${res.data.bloodGroup}`);
                                        $("#man3_id")
.html(`${res.data.spouse_firstName}, MRN: ${res.data.mr_no}<br>
                                        Age: ${res.data.spouse_age_year} Y, ${res.data.spouse_age_month} M, ${res.data.spouse_age_day} D, ${res.data.spouse_gender}, Ph: ${res.data.spouse_mobile_1}`);
})
    
    .catch((err) => {
        console.log(err);
    });
    
</script>