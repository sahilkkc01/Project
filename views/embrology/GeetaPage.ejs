<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="stylesheet" href="geeta.css" />
    <link rel="stylesheet" href="assets/css/style-starter.css?v=0.2" />
    <link rel="stylesheet" href="style.css" />

    <!-- google fonts -->
    <link
      href="//fonts.googleapis.com/css?family=Montserrat:300,400,600,700,800,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />

    <title>LifeLinker</title>

    <%-include('../header')-%>
    <style>
      .custom-select-dropdown {
        position: relative;
        display: inline-block;
        width: 200px;
      }

      .dropdown-selected {
        background-color: #f1f1f1;
        padding: 8px;
        cursor: pointer;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      .dropdown-list {
        display: none;
        position: absolute;
        background-color: white;
        min-width: 200px;
        border: 1px solid #ccc;
        z-index: 1;
      }

      .dropdown-list label {
        display: block;
        padding: 8px;
        cursor: pointer;
      }

      .dropdown-list label:hover {
        background-color: #ddd;
      }

      /* Style for the text display */

      /* Style for the input field to match the text display */
      .noteInput {
        padding: 10px;
        font-size: 16px;
        color: #333;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: #f9f9f9;
        width: 100%;
        box-sizing: border-box;
        display: block;
      }

      /* Hide the border of the input field when not focused to mimic the text display */
      .noteInput:focus {
        outline: none;
        background-color: #fff;
        /* Slightly change the background on focus if desired */
      }

      /* Additional styling for the edit and delete buttons */
      .Edit-Btn {
        cursor: pointer;
        color: #555;
      }

      .Edit-Btn:hover {
        color: #333;
      }

      .deleteNote {
        cursor: pointer;
        color: #c00;
      }

      .deleteNote:hover {
        color: #a00;
      }

      /* Styling for the OnEditDiv to align with the rest of the content */
      .OnEditDiv {
        margin-top: 10px;
      }

      .Btns {
        margin-top: 5px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .disabled {
        cursor: not-allowed;
        opacity: 0.5;
      }

      @media screen and (max-width: 850px) {
        .date-and-btns {
          flex-direction: column;
        }
      }
    </style>


    <link rel="stylesheet" href="../stylesheets/style2.css?v=0.2" />
    <!-- //header-ends -->
    <!-- main content start -->
    <div class="main-content">
      <div class="row content-top-gap2">
        <div class="col-lg-12">
          <nav class="navbar navbar-expand-lg navbar-light bg-white mb-3">
            <a class="navbar-brand text-center mr-5" href="#">
              <span class="dash-icon"
                ><i class="fas fa-tachometer-alt"></i
              ></span>
              Dashboard
            </a>
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul
                class="navbar-nav d-flex align-items-center justify-content-center"
              >
                <li class="nav-item active text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"><i class="far fa-user"></i></span>
                    Master
                  </a>
                </li>
                <li class="nav-item text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"
                      ><i class="fas fa-exchange-alt"></i
                    ></span>
                    Transaction
                  </a>
                </li>
                <li class="nav-item text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"
                      ><i class="fas fa-hand-holding-medical"></i
                    ></span>
                    Patient 360
                  </a>
                </li>
                <li class="nav-item text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"
                      ><i class="fas fa-receipt"></i
                    ></span>
                    Outside Reciept
                  </a>
                </li>
                <li class="nav-item text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"
                      ><i class="fas fa-file-invoice"></i
                    ></span>
                    Outpatient Department
                  </a>
                </li>
                <li class="nav-item text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"
                      ><i class="fas fa-chart-line"></i
                    ></span>
                    Analytics
                  </a>
                </li>
                <li class="nav-item text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"><i class="far fa-clock"></i></span>
                    Waiting List
                  </a>
                </li>
                <li class="nav-item text-center mr-5">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"><i class="fas fa-wrench"></i></span>
                    Adminstration
                  </a>
                </li>
                <li class="nav-item text-center">
                  <a class="nav-link" href="#">
                    <span class="dash-icon"
                      ><i class="fas fa-spinner"></i
                    ></span>
                    Additional
                  </a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
      <div id="error" class="container-fluid">
        <form id="overviewForm" method="post">
          <!-- content -->
          <div class="">
            <div class="chart">
              <div class="row">
                <!-- <div class="col-lg-12 pl-lg-0 mt-2 ml-2">
                            <h4 class="primary">Overview</h4>
                        </div> -->
                <div class="col-lg-12 pl-lg-2 chart-grid">
                  <div class="card card_border">
                    <div>
                      <!--Past your code here starts-->

                      <div class="card">
                        <div class="card-body">
                          <!-- <div class="pl-xl-0">
                                                    <h6 class="primary">Company Details</h6>
                                                </div> -->
                          <div class="form-row">
                            <div class="col-xl-3 col-md-6 col-sm-12">
                              <div class="form-group">
                                <label class="input__label" id="headerCoupleNo">
                                  Couple No.IVF/00003/24<br />
                                  Referred By: Self</label
                                >
                              </div>
                            </div>
                            <div class="col-xl-3 col-md-6 col-sm-12 d-flex">
                              <div class="profile_icon">
                                <i class="fa-solid fa-user"></i>
                              </div>
                              <div class="form-group px-3">
                                <label class="input__label" id="patientHeader"
                                  >Geeta Pandey, MRN: OHPL/R/24/1588<br />
                                  Age: 26 Y, 8 M, 28 D, Female, Ph:
                                  9867896897<br />
                                  Ht: 167.00 cm, Wt: 65.00 kg, BMI: 23.31,
                                  A+</label
                                >
                              </div>
                            </div>
                            <div class="col-xl-3 col-md-6 col-sm-12 d-flex">
                              <div class="profile_icon">
                                <i class="fa-solid fa-user"></i>
                              </div>
                              <div class="form-group px-3">
                                <label class="input__label" id="spouseDetails">
                                  Akash Pandey, MRN: OHPL/R/24/1589<br />
                                  Age: 29 Y, 8 M, 28 D, Male, Ph:
                                  9879869786</label
                                >
                              </div>
                            </div>
                            <div class="col-xl-3 col-md-6 col-sm-12">
                              <div class="form-group">
                                <input type="checkbox" name="checkbox" id="" />
                                <label class="input__label">DO NOTSHARE</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--Past your code here ends-->
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-8">
              <div class="main-container">
                <div class="container-div Treatment-Advice-Container">
                  <div class="Head" onclick="dropToggle('#treatmentContent')">
                    <span><i class="fa-solid fa-angle-down"></i></span>
                    Treatment Advice
                  </div>

                  <div
                    class="Content"
                    style="display: none"
                    id="treatmentContent"
                  >
                    <div class="add-new-advice-btn-container">
                      <button
                        type="button"
                        class="btn-secondary btn-style btn mt-3 mr-2 Add-New-Advice"
                      >
                        <strong
                          ><i class="fa-solid fa-plus"></i> Add New
                          Advice</strong
                        >
                      </button>
                    </div>

                    <div class="add-new-advice-container" style="display: none">
                      <div class="row">
                        <div class="col-xl-12 my-2">
                          <div class="row">
                            <div class="col-xl-6 col-md-12 input-selects">
                              <label for="Treatment_Type_Select"
                                >Treatment Type*</label
                              >
                              <select
                                id="Treatment_Type_Select"
                                name="Treatment_Type_Select"
                                class="input-style"
                              >
                                <option value="OI-TI">OI-TI</option>
                                <option value="Ovum-Freezing">
                                  Ovum Freezing
                                </option>
                                <option value="IUI">IUI</option>
                                <option value="IVF">IVF</option>
                                <option value="FET">FET</option>
                              </select>
                            </div>

                            <div class="col-xl-6 col-md-12 Radio-Btns-IVF">
                              <div class="Checkbox_IVF" style="display: none">
                                <input type="checkbox" name="" id="" />
                                <label for=""
                                  >IVF with Intending couple(Surrogacy).
                                </label>
                              </div>

                              <div class="Oocyte_Source" style="display: none">
                                <h6 class="mr-4">Oocyte Source</h6>

                                <input type="radio" name="Oocyte_source" />
                                <label class="mr-3" for="Oocyte_source"
                                  >Self</label
                                >

                                <input type="radio" name="Oocyte_source" />
                                <label class="mr-3" for="Oocyte_sourcee"
                                  >Donar</label
                                >
                              </div>

                              <div class="Semen_Source" style="display: none">
                                <h6 class="mr-4">Semen Source</h6>

                                <input type="radio" name="Semen_Source" />
                                <label class="mr-3" for="Semen_Source"
                                  >Partner</label
                                >

                                <input type="radio" name="Semen_Source" />
                                <label class="mr-3" for="Semen_Source"
                                  >Donar</label
                                >

                                <input type="radio" name="Semen_Source" />
                                <label class="mr-3" for="Semen_Source"
                                  >Both</label
                                >
                              </div>

                              <div class="Embryo_Source" style="display: none">
                                <h6 class="mr-4">Embryo Source</h6>

                                <input type="radio" name="embryoSource" />
                                <label class="mr-3" for="embryoSource"
                                  >Self</label
                                >

                                <input type="radio" name="embryoSource" />
                                <label class="mr-3" for="embryoSource"
                                  >Donar</label
                                >
                              </div>
                            </div>
                          </div>
                        </div>

                        <div
                          class="col-xl-12 col-md-6 col-sm-12 input-remarks my-2"
                        >
                          <label for="Treatment-Type-Remarks-Input"
                            >Remarks</label
                          >
                          <input
                            type="text"
                            class="form-control input-style"
                            name="Remarks"
                            id="Remarks"
                          />
                        </div>

                        <div class="col-xl-12 date-input">
                          <div class="row">
                            <div
                              class="col-xl-12 date-and-btns d-flex align-items-center justify-content-between"
                            >
                              <!--? Calender  -->
                              <div class="col-xl-6 calender mr-4 my-2">
                                <label for="Date">Choose a date:</label>
                                <input
                                  type="date"
                                  id="Date"
                                  name="Date"
                                  class="input-style"
                                />
                              </div>

                              <!--? Btns  -->
                              <div
                                class="col-xl-6 btns d-flex justify-content-end"
                              >
                                <button
                                  type="button"
                                  id="treatmentAdd"
                                  class="btn-secondary btn-style btn mt-3 mr-2"
                                >
                                  <strong
                                    ><i class="fa-solid fa-plus"></i>Add</strong
                                  >
                                </button>
                                <button
                                  type="button"
                                  class="btn-danger btn-style btn mt-3 mr-2"
                                >
                                  <strong
                                    ><i class="fas fa-times"></i> Cancel</strong
                                  >
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!--? Treatments Info Divs  -->

                  <div class="Treatment-Info-Divs"></div>
                </div>
              </div>

              <!-- Chief complaints -->

              <!-- <div class="container-div Chief-Complaints-Container">
                        <div class="Head2">
                            <div class="Left-Heading" onclick="showComplaints('#ChiefComplaintContent')">
                                <span> <i class="fa-solid fa-angle-down"></i> </span> Chief Complaints
                            </div>
                            <div class="right-add-icon">
                                <span><i class="fa-solid fa-plus" id="chiefComplaintAdd"></i></span>
                            </div>
                        </div>
                        <div class="ChiefComplaint" id="ChiefComplaintContent" style="display: none;">
                            <div class="search-bar">
                                <input type="search" name="search" id="search" placeholder="Search for Chief Complaints">
                            </div>
                        </div>
                    </div> -->

              <!-- 
                    <div class="container-div Chief-Complaints-Container">
                        <div class="Head2">
                            <div class="Left-Heading" onclick="showComplaints('#ChiefComplaintContent')">
                                <span> <i class="fa-solid fa-angle-down"></i> </span> Chief Complaints
                            </div>
                            <div class="right-add-icon">
                                <span><i class="fa-solid fa-plus" id="chiefComplaintAdd"></i></span>
                            </div>
                        </div>
                        <div class="ChiefComplaint" id="ChiefComplaintContent" style="display: none;">
                            <div class="search-bar">
                                <input type="search" name="search" id="search" placeholder="Search for Chief Complaints" oninput="filterComplaints()">
                            </div>
                            <div id="complaintsList"></div>
                            <div id="loadingIndicator" style="display: none;">Loading...</div>
                        </div>
                    </div>
                     -->

              <!-- <div class="container-div Chief-Complaints-Container">
                        <div class="Head2">
                            <div class="Left-Heading" onclick="showComplaints('#ChiefComplaintContent')">
                                <span> <i class="fa-solid fa-angle-down"></i> </span> Chief Complaints
                            </div>
                            <div class="right-add-icon">
                                <span><i class="fa-solid fa-plus" id="chiefComplaintAdd"></i></span>
                            </div>
                        </div>
                        <div class="ChiefComplaint" id="ChiefComplaintContent" style="display: none;">
                            <div class="search-bar">
                                <input type="search" name="search" id="search" placeholder="Search for Chief Complaints" oninput="filterComplaints()">
                            </div>
                            <ul id="complaintsList"></ul>
                            <div id="loadingIndicator" style="display: none;">Loading...</div>
                        </div>
                    </div> -->

              <div class="container-div Chief-Complaints-Container">
                <div class="Head2">
                  <div
                    class="Left-Heading"
                    onclick="showComplaints('#ChiefComplaintContent')"
                  >
                    <span> <i class="fa-solid fa-angle-down"></i> </span>
                    <!-- Input field that holds the selected complaints -->
                    <input
                      type="text"
                      id="selectedComplaintsInput"
                      placeholder="Select Complaints"
                      readonly
                      style="
                        width: 200px;
                        border: none;
                        background-color: transparent;
                        cursor: pointer;
                      "
                    />
                  </div>
                  <div class="right-add-icon">
                    <span
                      ><i class="fa-solid fa-plus" id="chiefComplaintAdd"></i
                    ></span>
                  </div>
                </div>
                <div
                  class="ChiefComplaint"
                  id="ChiefComplaintContent"
                  style="display: none"
                >
                  <div class="search-bar">
                    <input
                      type="search"
                      name="search"
                      id="search"
                      placeholder="Search for Chief Complaints"
                      oninput="filterComplaints()"
                    />
                  </div>
                  <ul id="complaintsList"></ul>
                  <div id="loadingIndicator" style="display: none">
                    Loading...
                  </div>
                </div>
              </div>

              <!-- Chief complaints -->

              <div class="container-div Pre-Existing-Conditions-Container">
                <div class="Head2">
                  <div
                    class="Left-Heading"
                    onclick="dropToggle('#preExistingDivContent')"
                  >
                    <span><i class="fa-solid fa-angle-down"></i></span> Pre
                    Existing Conditions
                  </div>
                  <div class="right-add-icon">
                    <span
                      ><i class="fa-solid fa-plus" id="addCondition"></i
                    ></span>
                  </div>
                </div>
                <div
                  class="preExistingDiv"
                  id="preExistingDivContent"
                  style="display: none"
                >
                  <div class="search-bar">
                    <input
                      type="search"
                      name="search"
                      id="search"
                      placeholder="Search for Existing Conditions"
                    />
                  </div>
                  <div class="Conditions-Info-Divs">
                    <!-- Dynamically added conditions will appear here -->
                  </div>
                </div>
              </div>

              <!--
====================================
? => Allergies 
====================================
-->

              <div class="container-div Allergies-Container">
                <div class="Head2">
                  <div
                    class="Left-Heading"
                    onclick="dropToggle('#AllergiesContent')"
                  >
                    <span><i class="fa-solid fa-angle-down"></i> </span>
                    Allergies
                  </div>
                  <div class="right-add-icon">
                    <span
                      ><i class="fa-solid fa-plus" id="addAllergy"></i
                    ></span>
                  </div>
                </div>

                <div
                  class="Content-Div"
                  id="AllergiesContent"
                  style="display: none"
                >
                  <div class="radio-allergies-div">
                    <div class="allergies-radio-btn">
                      <input
                        type="radio"
                        name="allergies"
                        id="noKnownAllergies"
                      />
                      <label for="noKnownAllergies">No Known Allergies</label>
                    </div>
                    <div class="allergies-radio-btn">
                      <input type="radio" name="allergies" id="hasAllergies" />
                      <label for="hasAllergies">Allergies</label>
                    </div>
                  </div>
                  <div class="Allergies-Info-Divs">
                    <!-- Dynamically added allergies will appear here -->
                  </div>
                  <div class="search-bar">
                    <input
                      type="search"
                      name="search"
                      id="search"
                      placeholder="Search for Allergies"
                    />
                  </div>
                </div>
              </div>

              <!--
====================================
? => History 
====================================
-->

              <div class="container-div History-Container">
                <div class="Head">
                  <div
                    class="Left-Heading"
                    onclick="dropToggle('#historyContent')"
                  >
                    <span> <i class="fa-solid fa-angle-down"></i> </span>
                    History
                  </div>
                </div>

                <!-- Initial History Section -->
                <div id="historyContent">
                  <div id="dynamic-history-sections">
                    <div class="history-section">
                      <div class="row">
                        <div
                          class="col-xl-12 Select-Inputs-Top-History-Container d-flex px-3 gap-4"
                        >
                          <div class="col-xl-6 type-selects mr-4">
                            <label for="history-type">Type:</label>
                            <select
                              id="history-type"
                              name="Type"
                              class="form-input input-style history-type"
                            >
                              <option value="obstetrics">Obstetrics</option>
                              <option value="infertility">Infertility</option>
                              <option value="whu">WHU</option>
                            </select>
                          </div>
                          <div class="col-xl-6 chief-complaints-selects">
                            <label for="chief-complaints"
                              >Chief Complaints</label
                            >
                            <select
                              id="chief-complaints"
                              name="chief-complaints"
                              class="form-input input-style"
                            >
                              <option value="option1">
                                Primary(same partner)
                              </option>
                              <option value="option2">
                                Primary(different partner)
                              </option>
                              <option value="option3">
                                Secondary(same partner)
                              </option>
                              <option value="option4">
                                Secondary(different partner)
                              </option>
                              <option value="option5">
                                Fertility Preservation
                              </option>
                            </select>
                          </div>
                        </div>
                      </div>

                      <!-- Additional fields (Initially Hidden) -->
                      <div class="additional-fields mt-3">
                        <div class="row col-xl-12">
                          <div class="col-12 col-md-6 mb-3">
                            <div class="form-group">
                              <label for="complaints">Complaints:</label>
                              <input
                                type="text"
                                id="complaints"
                                name="complaints"
                                class="form-control form-input complaints input-style"
                                fdprocessedid="325j8"
                              />
                            </div>
                          </div>
                          <div class="col-12 col-md-6 mb-3">
                            <div class="form-group">
                              <label for="notes">Notes:</label>
                              <input
                                type="text"
                                id="notes"
                                name="notes"
                                class="form-control form-input notes input-style"
                                fdprocessedid="r6ykua"
                              />
                            </div>
                          </div>
                        </div>
                      </div>

                      <!--? General History (Initially Hidden) -->
                      <div class="General-History mt-3">
                        <div class="history-heading">
                          <div>General History</div>
                        </div>
                        <div class="Details-Div">
                          <div class="Details">
                            <div class="mini-heading">
                              <div>Vitals :</div>
                            </div>
                            <div class="Vitals d-flex">
                              <div class="row g-3 mt-3 col-xl-12">
                                <div class="mb-2 col-md-12 col-xl-4">
                                  <div class="height-inp">
                                    <label for="height" class="visually-hidden"
                                      >Height</label
                                    >
                                    <input
                                      type="number"
                                      name="height"
                                      id="height"
                                      placeholder="Height (cm)"
                                      class="form-control form-input input-style"
                                    />
                                  </div>
                                </div>
                                <div class="mb-2 col-md-12 col-xl-4">
                                  <div class="weight-inp">
                                    <label for="weight" class="visually-hidden"
                                      >Weight</label
                                    >
                                    <input
                                      type="number"
                                      name="weight"
                                      id="weight"
                                      placeholder="Weight (kg)"
                                      class="form-control form-input input-style"
                                    />
                                  </div>
                                </div>
                                <div class="mb-2 col-md-12 col-xl-4">
                                  <div
                                    class="BMI-Div d-flex gap-2 align-items-center"
                                  >
                                    <div>BMI:</div>
                                    <div class="Blood-Group-Div">
                                      <select
                                        id="Blood-Group"
                                        name="Blood-Group"
                                        class="form-control form-input input-style"
                                      >
                                        <option value="option1">A+</option>
                                        <!-- Add other options -->
                                      </select>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="row g-3 mt-3 col-xl-12">
                                <div class="mb-2 col-md-12 col-xl-4">
                                  <div class="pulse-inp">
                                    <label for="pulse" class="visually-hidden"
                                      >Pulse</label
                                    >
                                    <input
                                      type="number"
                                      name="pulse"
                                      id="pulse"
                                      placeholder="Pulse (bpm)"
                                      class="form-input form-control input-style"
                                    />
                                  </div>
                                </div>
                                <div class="mb-2 col-md-12 col-xl-4">
                                  <div
                                    class="BMI-Div d-flex flex-column flex-md-row gap-2"
                                  >
                                    <div class="me-1">BP (mmHg):</div>
                                    <div
                                      class="d-flex gap-1 flex-column flex-md-row"
                                    >
                                      <div class="Systolic-inp d-flex gap-1">
                                        <label
                                          for="Systolic"
                                          class="visually-hidden"
                                          >Systolic:
                                        </label>
                                        <input
                                          type="number"
                                          name="Systolic"
                                          id="Systolic"
                                          placeholder="Systolic"
                                          class="form-input form-control input-style mx-1"
                                          style="min-width: 80px"
                                        />
                                      </div>
                                      <div class="Diastolic-inp d-flex gap-1">
                                        <label
                                          for="Diastolic"
                                          class="visually-hidden"
                                          >Diastolic:
                                        </label>
                                        <input
                                          type="number"
                                          name="Diastolic"
                                          id="Diastolic"
                                          placeholder="Diastolic"
                                          class="form-input form-control input-style mx-1"
                                          style="min-width: 80px"
                                        />
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="container my-4">
                                <div class="row g-3">
                                  <div class="col-12 col-md-6 col-lg-3 mb-3">
                                    <div
                                      class="d-flex align-items-center gap-2"
                                    >
                                      <label for="GSave" class="form-label"
                                        >G</label
                                      >
                                      <input
                                        type="number"
                                        id="GSave"
                                        class="form-control input-style mx-1"
                                      />
                                    </div>
                                  </div>
                                  <div class="col-12 col-md-6 col-lg-3 mb-3">
                                    <div
                                      class="d-flex align-items-center gap-2"
                                    >
                                      <label for="PSave" class="form-label"
                                        >P</label
                                      >
                                      <input
                                        type="number"
                                        id="PSave"
                                        class="form-control input-style mx-1"
                                      />
                                    </div>
                                  </div>
                                  <div class="col-12 col-md-6 col-lg-3 mb-3">
                                    <div
                                      class="d-flex align-items-center gap-2"
                                    >
                                      <label for="ASave" class="form-label"
                                        >A</label
                                      >
                                      <input
                                        type="number"
                                        id="ASave"
                                        class="form-control input-style mx-1"
                                      />
                                    </div>
                                  </div>
                                  <div class="col-12 col-md-6 col-lg-3 mb-3">
                                    <div
                                      class="d-flex align-items-center gap-2"
                                    >
                                      <label for="LSave" class="form-label"
                                        >L</label
                                      >
                                      <input
                                        type="number"
                                        id="LSave"
                                        class="form-control input-style mx-1"
                                      />
                                    </div>
                                  </div>
                                  <div class="col-12">
                                    <table
                                      class="table table-bordered table-sm"
                                    >
                                      <thead>
                                        <tr>
                                          <th
                                            contenteditable="true"
                                            width="10%"
                                          ></th>
                                          <th contenteditable="true">Years</th>
                                          <th contenteditable="true">Months</th>
                                          <th
                                            contenteditable="true"
                                            width="15%"
                                          >
                                            Gender
                                          </th>
                                        </tr>
                                      </thead>
                                      <tbody id="historyBody">
                                        <!-- Table rows go here -->
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>

                              <div class="row g-3">
                                <div class="col-12">
                                  <div
                                    class="d-flex flex-column flex-md-row align-items-start gap-3"
                                  >
                                    <div class="flex-fill">
                                      <div class="mb-2">
                                        Duration of infertility:
                                      </div>
                                    </div>
                                    <div class="flex-fill">
                                      <label for="Years" class="form-label"
                                        >Years</label
                                      >
                                      <select
                                        id="Years"
                                        name="Years"
                                        class="form-select"
                                      >
                                        <option value="0">0</option>
                                        <!-- Add other options -->
                                      </select>
                                    </div>
                                    <div class="flex-fill">
                                      <label for="Months" class="form-label"
                                        >Months</label
                                      >
                                      <select
                                        id="Months"
                                        name="Months"
                                        class="form-select"
                                      >
                                        <option value="0">0</option>
                                        <!-- Add other options -->
                                      </select>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div></div>
                              OI/TI
                              <input
                                type="number"
                                id="OISave"
                                class="form-control input-style"
                              />
                              IVF
                              <input
                                type="number"
                                id="IvfSave"
                                class="form-control input-style"
                              />
                              IUI
                              <input
                                type="number"
                                id="IuiSave"
                                class="form-control input-style"
                              />
                              <div class="table-responsive">
                                <table class="table table-bordered">
                                  <thead>
                                    <tr>
                                      <th contenteditable="true" width="10%">
                                        S.No.
                                      </th>
                                      <th contenteditable="true">Treatment</th>
                                      <th contenteditable="true">
                                        Clinic/Doctor
                                      </th>
                                      <th contenteditable="true" width="15%">
                                        Date
                                      </th>
                                      <th contenteditable="true" width="15%">
                                        Result
                                      </th>
                                    </tr>
                                  </thead>
                                  <tbody id="IvfBody">
                                    <!-- Table rows go here -->
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                          <div class="comments-inp-div">
                            <div class="input-comment">
                              <label for="comments"></label>
                              <input
                                type="text"
                                name="comments"
                                id="comments"
                                placeholder="comments"
                                class="form-input form-control input-style"
                              />
                            </div>
                            <div class="below-text">
                              <span>Maximum of 2000 characters</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Other Histories (Initially Hidden) -->
                    <div id="other-histories">
                      <!-- Menstrual History -->
                      <div class="Menstrual-History">
                        <div class="history-heading">
                          <div>Menstrual History</div>
                        </div>
                        <div class="Menstrual-History-Div">
                          <div class="d-flex mx-2 my-1 px-2 gap-3">
                            <div class="LMP mr-5">
                              <div>LMP</div>
                            </div>
                            <div class="Calender">
                              <input
                                type="date"
                                id="appointmentDate"
                                name="appointmentDate"
                                class="form-input"
                              />
                            </div>
                          </div>
                          <div class="d-flex gap-3 mx-2 my-1 px-2 gap-3">
                            <div class="MH">
                              <div>M/H</div>
                            </div>
                            <div class="MH-Details-1">
                              <div class="MH-radio-btn">
                                <label for="Regular-Irregular">Regular</label>
                                <input
                                  type="radio"
                                  name="Regular-Irregular"
                                  id="Regular-Irregular"
                                />
                              </div>
                              <div class="MH-radio-btn">
                                <label for="Regular-Irregular">Irregular</label>
                                <input
                                  type="radio"
                                  name="Regular-Irregular"
                                  id="Regular-Irregular"
                                />
                              </div>
                            </div>
                            <div class="MH-Details-2">
                              <div class="MH-radio-btn">
                                <label for="Painless-Painfull">Painless</label>
                                <input
                                  type="radio"
                                  name="Painless-Painfull"
                                  id="Painless-Painfull"
                                />
                              </div>
                              <div class="MH-radio-btn">
                                <label for="Painless-Painfull">Painfull</label>
                                <input
                                  type="radio"
                                  name="Painless-Painfull"
                                  id="Painless-Painfull"
                                />
                              </div>
                            </div>
                            <div class="MH-Details-3">
                              <div class="Nflow-Heavy-Scanty-radio-btn">
                                <label for="Nflow-Heavy-Scanty">N flow</label>
                                <input
                                  type="radio"
                                  name="Nflow-Heavy-Scanty"
                                  id="Nflow-Heavy-Scanty"
                                />
                              </div>
                              <div class="Nflow-Heavy-Scanty-radio-btn">
                                <label for="Nflow-Heavy-Scanty">Heavy</label>
                                <input
                                  type="radio"
                                  name="Nflow-Heavy-Scanty"
                                  id="Nflow-Heavy-Scanty"
                                />
                              </div>
                              <div class="Nflow-Heavy-Scanty-radio-btn">
                                <label for="Nflow-Heavy-Scanty">Scanty</label>
                                <input
                                  type="radio"
                                  name="Nflow-Heavy-Scanty"
                                  id="Nflow-Heavy-Scanty"
                                />
                              </div>
                            </div>
                          </div>
                          <div class="comments-inp-div">
                            <div class="input-comment">
                              <label for="comments"></label>
                              <input
                                type="text"
                                name="comments"
                                id="comments"
                                placeholder="comments"
                                class="form-input form-control input-style"
                              />
                            </div>
                            <div class="below-text">
                              <span>Maximum of 2000 characters</span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <hr
                        style="
                          border: 1px solid #000;
                          width: 100%;
                          margin: 20px auto;
                        "
                      />

                      <!-- Family History -->
                      <div class="Family-History d-flex gap-3">
                        <div class="history-heading mr-5">
                          <div>Family History</div>
                        </div>
                        <div class="Family-History-Radio-Btns d-flex gap-4">
                          <div class="Family-History-Radio-Btn mr-4">
                            <input
                              type="radio"
                              name="Family-History-YES-NO"
                              id="Family-History-YES-NO"
                            />
                            <label for="Family-History-YES-NO">Yes</label>
                          </div>
                          <div class="Family-History-Radio-Btn">
                            <input
                              type="radio"
                              name="Family-History-YES-NO"
                              id="Family-History-YES-NO"
                            />
                            <label for="Family-History-YES-NO">No</label>
                          </div>
                        </div>
                      </div>

                      <hr
                        style="
                          border: 1px solid #000;
                          width: 100%;
                          margin: 20px auto;
                        "
                      />

                      <!-- Medical History -->
                      <div class="Medical-History mt-3">
                        <div class="history-heading mb-3">
                          <div>Medical History</div>
                        </div>
                        <div class="row g-3">
                          <div class="col-xl-2 col-md-4 col-sm-12">
                            <div class="Medical-History-Checkbox">
                              <label for="MH-Diabetes">Diabetes</label>
                              <input
                                type="checkbox"
                                name="MH-Checkbox"
                                id="MH-Diabetes"
                              />
                            </div>
                          </div>
                          <div class="col-xl-2 col-md-4 col-sm-12">
                            <div class="Medical-History-Checkbox">
                              <label for="MH-Hypertension">Hypertension</label>
                              <input
                                type="checkbox"
                                name="MH-Checkbox"
                                id="MH-Hypertension"
                              />
                            </div>
                          </div>
                          <div class="col-xl-2 col-md-4 col-sm-12">
                            <div class="Medical-History-Checkbox">
                              <label for="MH-Thyroid">Thyroid disorders</label>
                              <input
                                type="checkbox"
                                name="MH-Checkbox"
                                id="MH-Thyroid"
                              />
                            </div>
                          </div>
                          <div class="col-xl-2 col-md-4 col-sm-12">
                            <div class="Medical-History-Checkbox">
                              <label for="MH-Heart">Heart disease</label>
                              <input
                                type="checkbox"
                                name="MH-Checkbox"
                                id="MH-Heart"
                              />
                            </div>
                          </div>
                          <div class="col-xl-2 col-md-4 col-sm-12">
                            <div class="Medical-History-Checkbox">
                              <label for="MH-Asthma">Asthma</label>
                              <input
                                type="checkbox"
                                name="MH-Checkbox"
                                id="MH-Asthma"
                              />
                            </div>
                          </div>
                          <div class="col-xl-2 col-md-4 col-sm-12">
                            <div class="Medical-History-Checkbox">
                              <label for="MH-Tuberculosis">Tuberculosis</label>
                              <input
                                type="checkbox"
                                name="MH-Checkbox"
                                id="MH-Tuberculosis"
                              />
                            </div>
                          </div>
                          <div class="col-xl-2 col-md-4 col-sm-12">
                            <div class="Medical-History-Checkbox">
                              <label for="MH-Others">Others</label>
                              <input
                                type="checkbox"
                                name="MH-Checkbox"
                                id="MH-Others"
                              />
                            </div>
                          </div>
                        </div>
                        <div class="comments-inp-div mt-3">
                          <div class="input-comment mb-2">
                            <label for="comments" class="visually-hidden"
                              >Comments</label
                            >
                            <input
                              type="text"
                              name="comments"
                              id="comments"
                              placeholder="Comments"
                              class="form-input form-control input-style"
                            />
                          </div>
                          <div class="below-text">
                            <span>Maximum of 2000 characters</span>
                          </div>
                        </div>
                      </div>

                      <hr
                        style="
                          border: 1px solid #000;
                          width: 100%;
                          margin: 20px auto;
                        "
                      />

                      <!-- Obstetric History -->
                      <div class="Obstetric-History">
                        <div class="history-heading">
                          <div>Obstetric History</div>
                        </div>
                        <div class="d-flex gap-5 my-3 justify-content-between">
                          <div class="Para-Selects">
                            <label for="Para">Para</label>
                            <select id="Para" name="Para" class="form-input">
                              <option value="option1">1</option>
                              <!-- Add other options -->
                            </select>
                          </div>
                          <div class="Abortion-Selects">
                            <label for="Abortion">Abortion</label>
                            <select
                              id="Abortion"
                              name="Abortion"
                              class="form-input"
                            >
                              <option value="option1">1</option>
                              <!-- Add other options -->
                            </select>
                          </div>
                          <div class="Ecotopic-Selects">
                            <label for="Ecotopic">Ecotopic</label>
                            <select
                              id="Ecotopic"
                              name="Ecotopic"
                              class="form-input"
                            >
                              <option value="option1">1</option>
                              <!-- Add other options -->
                            </select>
                          </div>
                          <div class="Live-Birth-Selects">
                            <label for="Live-Birth">Live-Birth</label>
                            <select
                              id="Live-Birth"
                              name="Live-Birth"
                              class="form-input"
                            >
                              <option value="option1">1</option>
                              <!-- Add other options -->
                            </select>
                          </div>
                        </div>
                        <div class="my-3">
                          <div class="table-responsive">
                            <table class="table table-bordered">
                              <thead>
                                <tr>
                                  <th>Sl.No</th>
                                  <th>Year of Pregnancy</th>
                                  <th>Conception</th>
                                  <th>Abortion</th>
                                  <th>Delivery</th>
                                  <th>Birth Weight</th>
                                  <th>Gender</th>
                                  <th>Remarks</th>
                                  <th></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td>1</td>
                                  <td>
                                    <input
                                      type="number"
                                      name="PYears"
                                      id="PYears"
                                      class="form-input form-control input-style"
                                    />
                                  </td>
                                  <td>
                                    <select
                                      id="conception"
                                      name="conception"
                                      class="form-input form-control input-style"
                                    >
                                      <option value="option1">Natural</option>
                                      <option value="option2">Assisted</option>
                                    </select>
                                  </td>
                                  <td>
                                    <select
                                      id="Abortion"
                                      name="Abortion"
                                      class="form-input form-control input-style"
                                    >
                                      <option value="option1">Yes</option>
                                      <option value="option2">No</option>
                                    </select>
                                  </td>
                                  <td>
                                    <select
                                      id="Delivery"
                                      name="Delivery"
                                      class="form-input form-control input-style"
                                    >
                                      <option value="option1">Vaginal</option>
                                      <option value="option2">C-section</option>
                                    </select>
                                  </td>
                                  <td>
                                    <input
                                      type="text"
                                      name="BirthWeight"
                                      id="BirthWeight"
                                      class="form-input form-control input-style"
                                    />
                                  </td>
                                  <td>
                                    <input
                                      type="text"
                                      name="Gender"
                                      id="Gender"
                                      class="form-input form-control input-style"
                                    />
                                  </td>
                                  <td>
                                    <input
                                      type="text"
                                      name="Remarks"
                                      id="Remarks"
                                      placeholder="yes it is aborted"
                                      class="form-input form-control input-style"
                                    />
                                  </td>
                                  <td>
                                    <span class="delete-icon"
                                      ><i class="fa-solid fa-trash-can"></i
                                    ></span>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>

                        <div class="d-flex gap-3 my-2">
                          <div>Recurrent Pregnancy Loss:</div>
                          <input
                            type="checkbox"
                            name="RecurrentPregnancyLoss"
                            id="RecurrentPregnancyLoss"
                          />
                        </div>
                        <div class="comments-inp-div">
                          <div class="input-comment">
                            <label for="comments"></label>
                            <input
                              type="text"
                              name="comments"
                              id="comments"
                              placeholder="comments"
                              class="form-input form-control input-style"
                            />
                          </div>
                          <div class="below-text">
                            <span>Maximum of 2000 characters</span>
                          </div>
                        </div>
                      </div>

                      <hr
                        style="
                          border: 1px solid #000;
                          width: 100%;
                          margin: 20px auto;
                        "
                      />

                      <div class="Past-Infertility-Investigations-Div">
                        <div class="history-heading mb-1">
                          <div>Past Infertility Investigations</div>
                        </div>

                        <div class="table-responsive">
                          <table class="table table-bordered">
                            <thead>
                              <tr>
                                <th>Date</th>
                                <th>Place</th>
                                <th>Type</th>
                                <th>Remarks</th>
                                <th></th>
                                <th></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>
                                  <input
                                    type="date"
                                    id="appointmentDate"
                                    name="appointmentDate"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Place"
                                    id="Place"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Type"
                                    id="Type"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Remarks"
                                    id="Remarks"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>+</td>
                                <td><i class="fa-solid fa-trash-can"></i></td>
                              </tr>
                              <tr>
                                <td>
                                  <input
                                    type="date"
                                    id="appointmentDate"
                                    name="appointmentDate"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Place"
                                    id="Place"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Type"
                                    id="Type"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Remarks"
                                    id="Remarks"
                                    class="form-input form-control input-style"
                                  />
                                </td>
                                <td>+</td>
                                <td><i class="fa-solid fa-trash-can"></i></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                        <div class="comments-inp-div">
                          <div class="input-comment">
                            <label for="comments"></label>
                            <input
                              type="text"
                              name="comments"
                              id="comments"
                              placeholder="comments"
                              class="form-input"
                            />
                          </div>
                          <div class="below-text">
                            <span>Maximum of 2000 characters</span>
                          </div>
                        </div>
                      </div>

                      <hr
                        style="
                          border: 1px solid #000;
                          width: 100%;
                          margin: 20px auto;
                        "
                      />

                      <!-- Partner History -->
                      <div class="Partner-History">
                        <div class="history-heading mb-1">
                          <div>Partner History:</div>
                        </div>
                        <div class="head">Vitals</div>
                        <div class="d-flex">
                          <div class="Vitals">
                            <div class="row g-3 my-2">
                              <div class="col-12 col-md-4">
                                <div class="height-inp">
                                  <label for="height" class="visually-hidden"
                                    >Height</label
                                  >
                                  <input
                                    type="number"
                                    name="height"
                                    id="height"
                                    placeholder="Height (cm)"
                                    class="form-input form-control input-style"
                                  />
                                </div>
                              </div>
                              <div class="col-12 col-md-4">
                                <div class="weight-inp">
                                  <label for="weight" class="visually-hidden"
                                    >Weight</label
                                  >
                                  <input
                                    type="number"
                                    name="weight"
                                    id="weight"
                                    placeholder="Weight (kg)"
                                    class="form-input form-control input-style"
                                  />
                                </div>
                              </div>
                              <div class="col-12 col-md-4">
                                <div class="BMI-Div d-flex align-items-center">
                                  <div>BMI:</div>
                                  <div class="Blood-Group-Div ms-2">
                                    <label
                                      for="Blood-Group"
                                      class="visually-hidden"
                                      >Choose an option:</label
                                    >
                                    <select
                                      id="Blood-Group"
                                      name="Blood-Group"
                                      class="form-input form-control input-style"
                                    >
                                      <option value="option1">A+</option>
                                      <!-- Add other options -->
                                    </select>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="row g-3 my-2">
                              <div class="col-12 col-md-4">
                                <div class="pulse-inp">
                                  <label for="pulse" class="visually-hidden"
                                    >Pulse</label
                                  >
                                  <input
                                    type="number"
                                    name="pulse"
                                    id="pulse"
                                    placeholder="Pulse (bpm)"
                                    class="form-input form-control input-style"
                                  />
                                </div>
                              </div>
                              <div class="col-12 col-md-8">
                                <div
                                  class="d-flex flex-wrap align-items-center"
                                >
                                  <div class="me-3 mb-2">BP (mmHg):</div>
                                  <div class="d-flex gap-2 flex-wrap w-100">
                                    <div
                                      class="Systolic-inp w-100 w-md-auto mb-2"
                                    >
                                      <label
                                        for="Systolic"
                                        class="visually-hidden"
                                        >Systolic</label
                                      >
                                      <input
                                        type="number"
                                        name="Systolic"
                                        id="Systolic"
                                        placeholder="Systolic"
                                        class="form-input form-control input-style"
                                      />
                                    </div>
                                    <div class="Diastolic-inp w-100 w-md-auto">
                                      <label
                                        for="Diastolic"
                                        class="visually-hidden"
                                        >Diastolic</label
                                      >
                                      <input
                                        type="number"
                                        name="Diastolic"
                                        id="Diastolic"
                                        placeholder="Diastolic"
                                        class="form-input form-control input-style"
                                      />
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="comments-inp-div">
                          <div class="input-comment">
                            <label for="comments"></label>
                            <input
                              type="text"
                              name="comments"
                              id="comments"
                              placeholder="comments"
                              class="form-input form-control input-style"
                            />
                          </div>
                          <div class="below-text">
                            <span>Maximum of 2000 characters</span>
                          </div>
                        </div>
                      </div>

                      <hr
                        style="
                          border: 1px solid #000;
                          width: 100%;
                          margin: 20px auto;
                        "
                      />

                      <!-- Partner Past Infertility Investigations -->
                      <div class="Partner-Past-Infertility-Investigations">
                        <div class="history-heading mb-3">
                          <div>Partner Past Infertility Investigations</div>
                        </div>
                        <div class="table-responsive my-3">
                          <table class="table table-bordered">
                            <thead>
                              <tr>
                                <th>Date</th>
                                <th>Place</th>
                                <th>Type</th>
                                <th>Remarks</th>
                                <th></th>
                                <th></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>
                                  <input
                                    type="date"
                                    id="appointmentDate"
                                    name="appointmentDate"
                                    class="form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Place"
                                    id="Place"
                                    class="form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Type"
                                    id="Type"
                                    class="form-control input-style"
                                  />
                                </td>
                                <td>
                                  <input
                                    type="text"
                                    name="Remarks"
                                    id="Remarks"
                                    class="form-control input-style"
                                  />
                                </td>
                                <td>+</td>
                                <td><i class="fa-solid fa-trash-can"></i></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>

                      <hr
                        style="
                          border: 1px solid #000;
                          width: 100%;
                          margin: 20px auto;
                        "
                      />

                      <!-- Other Relevant History -->
                      <div class="Other-Relevent-History">
                        <div class="history-heading mb-3">
                          <div>Other Relevant History</div>
                        </div>
                        <div class="comments-inp-div">
                          <div class="input-comment">
                            <label for="comments"></label>
                            <input
                              type="text"
                              name="comments"
                              id="comments"
                              placeholder="comments"
                              class="form-input form-control input-style"
                            />
                          </div>
                          <div class="below-text">
                            <span>Maximum of 2000 characters</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Button to Add New History Section -->
                <div class="top-history-container">
                  <div class="add-new-btn-container">
                    <button
                      type="button"
                      class="btn-secondary btn-style btn mt-3 mr-2"
                      id="addNewHistory"
                    >
                      <strong><i class="fa-solid fa-plus"></i> Add New</strong>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Past Infertility Investigations -->

            <!--
====================================
? => Treatment History 
====================================
-->

            <div class="col-xl-8">
              <div class="container-div Treatment-History">
                <div class="Head">
                  <div class="Left-Heading">
                    <span
                      ><i
                        class="fa-solid fa-angle-down"
                        onclick="dropToggle('#treatmenthistoryContent')"
                      ></i
                    ></span>
                    Treatment History
                  </div>
                </div>

                <!-- Responsive table wrapper -->
                <div class="table-responsive" id="treatmenthistoryContent">
                  <table class="table table-bordered">
                    <thead>
                      <tr>
                        <th>Treatment Type</th>
                        <th>When</th>
                        <th>Where</th>
                        <th>Detail</th>
                        <th></th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr id="row1">
                        <td>
                          <select
                            id="treatmentType1"
                            name="exampleSelect"
                            class="form-select input-style"
                          >
                            <option value="IUI">IUI</option>
                            <option value="IVF">IVF</option>
                            <option value="ICSI">ICSI</option>
                            <option value="OITI">OITI</option>
                            <option value="ET">ET</option>
                            <option value="FET">FET</option>
                            <option value="DHL">DHL</option>
                            <option value="DH">DH</option>
                            <option value="LAH">LAH</option>
                            <option value="Laparotomy">Laparotomy</option>
                            <option value="Others">Others</option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="text"
                            id="when1"
                            name="when1"
                            class="form-control input-style"
                          />
                        </td>
                        <td>
                          <input
                            type="text"
                            id="where1"
                            name="where1"
                            class="form-control input-style"
                          />
                        </td>
                        <td>
                          <input
                            type="text"
                            id="detail1"
                            name="detail1"
                            class="form-control input-style"
                          />
                        </td>
                        <td>
                          <button
                            type="button"
                            class="btn btn-outline-primary"
                            onclick="clearRow('row1')"
                          >
                            +
                          </button>
                        </td>
                        <td>
                          <i
                            class="fa-solid fa-trash-can deleteTreatHist"
                            onclick="clearRow('row1')"
                          ></i>
                        </td>
                      </tr>
                      <tr id="row2">
                        <td>
                          <select
                            id="treatmentType2"
                            name="exampleSelect"
                            class="form-select input-style"
                          >
                            <option value="IUI">IUI</option>
                            <option value="IVF">IVF</option>
                            <option value="ICSI">ICSI</option>
                            <option value="OITI">OITI</option>
                            <option value="ET">ET</option>
                            <option value="FET">FET</option>
                            <option value="DHL">DHL</option>
                            <option value="DH">DH</option>
                            <option value="LAH">LAH</option>
                            <option value="Laparotomy">Laparotomy</option>
                            <option value="Others">Others</option>
                          </select>
                        </td>
                        <td>
                          <input
                            type="text"
                            id="when2"
                            name="when2"
                            class="form-control input-style"
                          />
                        </td>
                        <td>
                          <input
                            type="text"
                            id="where2"
                            name="where2"
                            class="form-control input-style"
                          />
                        </td>
                        <td>
                          <input
                            type="text"
                            id="detail2"
                            name="detail2"
                            class="form-control input-style"
                          />
                        </td>
                        <td>
                          <button
                            type="button"
                            class="btn btn-outline-primary"
                            onclick="clearRow('row2')"
                          >
                            +
                          </button>
                        </td>
                        <td>
                          <i
                            class="fa-solid fa-trash-can deleteTreatHist"
                            onclick="clearRow('row2')"
                          ></i>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <hr
                style="border: 1px solid #000; width: 100%; margin: 20px auto"
              />

              <!--
====================================
? => Examination  
====================================
-->

              <div class="container-div Examination">
                <div class="Head">
                  <div
                    class="Left-Heading"
                    onclick="dropToggle('#examination')"
                  >
                    <span><i class="fa-solid fa-angle-down"></i></span>
                    Examination
                  </div>
                </div>
                <div id="examination">
                  <div class="General-Examination">
                    <div class="Top-Header">
                      <div class="examination-heading">General Examination</div>
                      <div>
                        <button><a href="#">NAD</a></button>
                      </div>
                    </div>

                    <!--? General Examination  -->

                    <div class="container">
                      <div class="GE-Content">
                        <div class="row g-3 my-2">
                          <div class="col-md-4">
                            <label for="height" class="form-label"></label>
                            <input
                              type="number"
                              name="height"
                              id="height"
                              class="form-control input-style"
                              placeholder="height(cm)"
                            />
                          </div>

                          <div class="col-md-4">
                            <label for="weight" class="form-label"></label>
                            <input
                              type="number"
                              name="weight"
                              id="weight"
                              class="form-control input-style"
                              placeholder="weight(kg)"
                            />
                          </div>

                          <div class="col-md-4">
                            <div>BMI:</div>
                            <div>
                              <label for="BloodGroup" class="form-label"
                                >Choose an option:</label
                              >
                              <select
                                id="BloodGroup"
                                name="BloodGroup"
                                class="form-select input-style"
                              >
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                              </select>
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-2">
                          <div class="col-md-4">
                            <label for="temp" class="form-label"></label>
                            <input
                              type="number"
                              name="temp"
                              id="temp"
                              class="form-control input-style"
                              placeholder="Temp(deg F)"
                            />
                          </div>

                          <div class="col-md-4">
                            <label for="pulse" class="form-label"></label>
                            <input
                              type="number"
                              name="pulse"
                              id="pulse"
                              class="form-control input-style"
                              placeholder="pulse(bpm)"
                            />
                          </div>

                          <div class="col-md-4">
                            <div>BP (mmHg):</div>
                            <div class="row g-2">
                              <div class="col-6">
                                <label
                                  for="systolic"
                                  class="form-label"
                                ></label>
                                <input
                                  type="number"
                                  name="systolic"
                                  id="systolic"
                                  class="form-control input-style"
                                  placeholder="Systolic"
                                />
                              </div>
                              <div class="col-6">
                                <label
                                  for="diastolic"
                                  class="form-label"
                                ></label>
                                <input
                                  type="number"
                                  name="diastolic"
                                  id="diastolic"
                                  class="form-control input-style"
                                  placeholder="Diastolic"
                                />
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-4">
                          <div class="col-md-4 col-lg-2">
                            <label for="pallor" class="form-label"></label>
                            <input
                              type="text"
                              name="pallor"
                              id="pallor"
                              class="form-control input-style"
                              placeholder="Pallor"
                            />
                          </div>

                          <div class="col-md-4 col-lg-2">
                            <label for="icterus" class="form-label"></label>
                            <input
                              type="text"
                              name="icterus"
                              id="icterus"
                              class="form-control input-style"
                              placeholder="Icterus"
                            />
                          </div>

                          <div class="col-md-4 col-lg-2">
                            <label for="edema" class="form-label"></label>
                            <input
                              type="text"
                              name="edema"
                              id="edema"
                              class="form-control input-style"
                              placeholder="Edema"
                            />
                          </div>

                          <div class="col-md-4 col-lg-2">
                            <label for="obesity" class="form-label"></label>
                            <input
                              type="text"
                              name="obesity"
                              id="obesity"
                              class="form-control input-style"
                              placeholder="Obesity"
                            />
                          </div>

                          <div class="col-md-4 col-lg-2">
                            <label for="acne" class="form-label"></label>
                            <input
                              type="text"
                              name="acne"
                              id="acne"
                              class="form-control input-style"
                              placeholder="Acne"
                            />
                          </div>

                          <div class="col-md-4 col-lg-2">
                            <label for="thyroid" class="form-label"></label>
                            <input
                              type="text"
                              name="thyroid"
                              id="thyroid"
                              class="form-control input-style"
                              placeholder="Thyroid"
                            />
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-3">
                            <div>Hirsutism</div>
                          </div>

                          <div class="col-md-4">
                            <div class="radio-btns-hirsutism">
                              <input
                                type="radio"
                                name="hirsutism"
                                id="hirsutismYes"
                                value="yes"
                              />
                              <label for="hirsutismYes">Yes</label>
                              <input
                                type="radio"
                                name="hirsutism"
                                id="hirsutismNo"
                                value="no"
                              />
                              <label for="hirsutismNo">No</label>
                            </div>
                          </div>

                          <div class="col-md-5">
                            <input
                              type="text"
                              name="hirsutismNotes"
                              id="hirsutismNotes"
                              class="form-control input-style"
                              placeholder="Notes"
                            />
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-3">
                            <div>RS</div>
                          </div>

                          <div class="col-md-9">
                            <div class="radio-btns-RS">
                              <input
                                type="radio"
                                name="rs"
                                id="rsNAD"
                                value="NAD"
                              />
                              <label for="rsNAD">NAD</label>
                              <input
                                type="radio"
                                name="rs"
                                id="rsAbnormal"
                                value="Abnormal"
                              />
                              <label for="rsAbnormal">Abnormal</label>
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-3">
                            <div>CVS</div>
                          </div>

                          <div class="col-md-9">
                            <div class="radio-btns-CVS">
                              <input
                                type="radio"
                                name="cvs"
                                id="cvsNAD"
                                value="NAD"
                              />
                              <label for="cvsNAD">NAD</label>
                              <input
                                type="radio"
                                name="cvs"
                                id="cvsAbnormal"
                                value="Abnormal"
                              />
                              <label for="cvsAbnormal">Abnormal</label>
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-4">
                            <div>Breast Examination</div>
                          </div>

                          <div class="col-md-8">
                            <div class="radio-btns-Breast-Examination">
                              <input
                                type="radio"
                                name="breastExamination"
                                id="breastExaminationNAD"
                                value="NAD"
                              />
                              <label for="breastExaminationNAD">NAD</label>
                              <input
                                type="radio"
                                name="breastExamination"
                                id="breastExaminationAbnormal"
                                value="Abnormal"
                              />
                              <label for="breastExaminationAbnormal"
                                >Abnormal</label
                              >
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-3">
                            <div class="mr-4">Galactorrhoea</div>
                          </div>

                          <div class="col-md-4">
                            <div class="radio-btns-Galactorrhoea">
                              <input
                                type="radio"
                                name="galactorrhoea"
                                id="galactorrhoeaYes"
                                value="Yes"
                              />
                              <label for="galactorrhoeaYes">Yes</label>
                              <input
                                type="radio"
                                name="galactorrhoea"
                                id="galactorrhoeaNo"
                                value="No"
                              />
                              <label for="galactorrhoeaNo">No</label>
                            </div>
                          </div>

                          <div class="col-md-5">
                            <input
                              type="text"
                              name="galactorrhoeaNotes"
                              id="galactorrhoeaNotes"
                              class="form-control input-style"
                              placeholder="Notes"
                            />
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-4">
                            <div>Per Abdomen Examination</div>
                          </div>

                          <div class="col-md-8">
                            <div class="radio-btns-Abdomen">
                              <input
                                type="radio"
                                name="perAbdomenExamination"
                                id="perAbdomenExaminationNAD"
                                value="NAD"
                              />
                              <label for="perAbdomenExaminationNAD">NAD</label>
                              <input
                                type="radio"
                                name="perAbdomenExamination"
                                id="perAbdomenExaminationAbnormal"
                                value="Abnormal"
                              />
                              <label for="perAbdomenExaminationAbnormal"
                                >Abnormal</label
                              >
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-4">
                            <div>Per Speculum Examination</div>
                          </div>

                          <div class="col-md-8">
                            <div class="radio-btns-Per-Speculum-Examination">
                              <input
                                type="radio"
                                name="perSpeculumExamination"
                                id="perSpeculumExaminationNAD"
                                value="NAD"
                              />
                              <label for="perSpeculumExaminationNAD">NAD</label>
                              <input
                                type="radio"
                                name="perSpeculumExamination"
                                id="perSpeculumExaminationAbnormal"
                                value="Abnormal"
                              />
                              <label for="perSpeculumExaminationAbnormal"
                                >Abnormal</label
                              >
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-4">
                            <div>Per Vaginal Examination</div>
                          </div>

                          <div class="col-md-8">
                            <div class="radio-btns-Per-Vaginal-Examination">
                              <input
                                type="radio"
                                name="perVaginalExamination"
                                id="perVaginalExaminationNAD"
                                value="NAD"
                              />
                              <label for="perVaginalExaminationNAD">NAD</label>
                              <input
                                type="radio"
                                name="perVaginalExamination"
                                id="perVaginalExaminationAbnormal"
                                value="Abnormal"
                              />
                              <label for="perVaginalExaminationAbnormal"
                                >Abnormal</label
                              >
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-4">
                            <div class="mr-4">PAP Smear Taken</div>
                          </div>

                          <div class="col-md-8">
                            <div class="radio-btns-PAP">
                              <input
                                type="radio"
                                name="papSmearTaken"
                                id="papSmearTakenYes"
                                value="Yes"
                              />
                              <label for="papSmearTakenYes">Yes</label>
                              <input
                                type="radio"
                                name="papSmearTaken"
                                id="papSmearTakenNo"
                                value="No"
                              />
                              <label for="papSmearTakenNo">No</label>
                              <input
                                type="radio"
                                name="papSmearTaken"
                                id="papSmearTakenTakenPreviously"
                                value="Taken Previously"
                              />
                              <label for="papSmearTakenTakenPreviously"
                                >Taken Previously</label
                              >
                            </div>
                          </div>
                        </div>

                        <div class="row g-3 my-3 align-items-center">
                          <div class="col-md-4">
                            <label for="appointmentDate" class="form-label"
                              >Appointment Date</label
                            >
                          </div>

                          <div class="col-md-8">
                            <input
                              type="date"
                              id="appointmentDate"
                              name="appointmentDate"
                              class="form-control input-style"
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!--? USG Examination  -->

                  <div class="USG-Examination my-5">
                    <div class="Top-Header my-3">
                      <div class="examination-heading">USG Examination</div>
                      <div>Print</div>
                    </div>

                    <div class="container">
                      <div class="USG-Content">
                        <div class="row g-3 align-items-center">
                          <div class="col-12 col-md-2">
                            <div>USG</div>
                          </div>

                          <div class="col-12 col-md-5">
                            <div
                              class="radio-btns-USG d-flex gap-3 align-items-center"
                            >
                              <label for="usgTAS" class="mr-2">TAS</label>
                              <input
                                type="radio"
                                name="usg"
                                value="TAS"
                                id="usgTAS"
                                class="mr-2"
                              />
                              <label for="usgTVS" class="mr-2">TVS</label>
                              <input
                                type="radio"
                                name="usg"
                                value="TVS"
                                id="usgTVS"
                                class="mr-2"
                              />
                            </div>
                          </div>

                          <div class="col-12 col-md-5 mt-2">
                            <div class="Blank-inp-USG">
                              <input
                                type="text"
                                name="usgNotes"
                                id="usgNotes"
                                placeholder="Notes"
                                class="form-control input-style"
                              />
                            </div>
                          </div>
                        </div>

                        <div class="row my-3">
                          <div class="col-md-2 my-2">
                            <div>AFC</div>
                          </div>
                          <div class="col-md-6 d-flex justify-content-between">
                            <div class="radio-btns-USG">
                              <label for="afcRight">Right</label>
                              <select
                                id="afcRight"
                                name="afcRight"
                                class="form-select input-style"
                              >
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">>15</option>
                              </select>
                            </div>
                            <div class="radio-btns-USG">
                              <label for="afcLeft">Left</label>
                              <select
                                id="afcLeft"
                                name="afcLeft"
                                class="form-select input-style"
                              >
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">>15</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-4 mt-2">
                            <input
                              type="text"
                              name="afcNotes"
                              id="afcNotes"
                              placeholder="Notes"
                              class="form-control input-style"
                            />
                          </div>
                        </div>

                        <div class="d-flex my-3">
                          <div class="row gy-3 align-items-center">
                            <div class="col-12 col-md-auto">Uterus</div>

                            <div
                              class="col-12 col-md d-flex align-items-center my-2"
                            >
                              <div class="me-3">Size</div>
                              <div class="d-flex align-items-center">
                                <input
                                  type="number"
                                  name="uterusSize1"
                                  id="uterusSize1"
                                  class="form-control input-style me-1"
                                  placeholder="Size 1"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="uterusSize2"
                                  id="uterusSize2"
                                  class="form-control input-style mx-1"
                                  placeholder="Size 2"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="uterusSize3"
                                  id="uterusSize3"
                                  class="form-control input-style ms-1"
                                  placeholder="Size 3"
                                />
                                <span class="ms-2">cm</span>
                              </div>
                            </div>

                            <div class="col-12 col-md">
                              <label for="uterusPosition" class="form-label"
                                >Uterus Position</label
                              >
                              <select
                                id="uterusPosition"
                                name="uterusPosition"
                                class="form-select input-style"
                              >
                                <option value="Anteverted/Antiflexed">
                                  Anteverted/Antiflexed
                                </option>
                                <option value="Retroverted/Retroflexed">
                                  Retroverted/Retroflexed
                                </option>
                                <option value="Mid Position">
                                  Mid Position
                                </option>
                                <option value="Anteverted/Retroflexed">
                                  Anteverted/Retroflexed
                                </option>
                                <option value="Retroflexed/Anteverted">
                                  Retroflexed/Anteverted
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>

                        <div class="row justify-content-center my-3">
                          <div class="col-12 col-md-auto">
                            <select
                              id="uterusCondition"
                              name="uterusCondition"
                              class="form-select input-style"
                            >
                              <option value="Normal">Normal</option>
                              <option value="Abnormal">Abnormal</option>
                            </select>
                          </div>
                        </div>

                        <div class="row my-3 justify-content-center">
                          <div
                            class="col-12 col-md-auto d-flex align-items-center gap-2"
                          >
                            <div>Remarks</div>
                            <input
                              type="text"
                              name="uterusRemarks"
                              id="uterusRemarks"
                              class="form-control input-style"
                              placeholder="Remarks"
                            />
                          </div>
                        </div>

                        <div class="row my-3">
                          <div
                            class="col-12 col-md-auto d-flex align-items-center gap-3"
                          >
                            <div>Ovaries</div>
                          </div>

                          <div class="col-12 col-md-auto">
                            <label for="rightOvaryCondition" class="form-label"
                              >Right Ovary</label
                            >
                            <select
                              id="rightOvaryCondition"
                              name="rightOvaryCondition"
                              class="form-select input-style"
                            >
                              <option value="Normal">Normal</option>
                              <option value="Abnormal">Abnormal</option>
                            </select>
                          </div>

                          <div class="col-12 col-md-auto">
                            <label for="leftOvaryCondition" class="form-label"
                              >Left Ovary</label
                            >
                            <select
                              id="leftOvaryCondition"
                              name="leftOvaryCondition"
                              class="form-select input-style"
                            >
                              <option value="Atrophic">Atrophic</option>
                              <option value="Normal">Normal</option>
                              <option value="Absent">Absent</option>
                            </select>
                          </div>
                        </div>

                        <div class="row my-3">
                          <div class="col-12 col-md-6 d-flex gap-3">
                            <div
                              class="size d-flex flex-column flex-md-row align-items-center gap-2"
                            >
                              <div class="me-md-4">Size</div>
                              <div class="size_cm d-flex">
                                <input
                                  type="number"
                                  name="rightOvarySize1"
                                  id="rightOvarySize1"
                                  class="form-control input-style me-1"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="rightOvarySize2"
                                  id="rightOvarySize2"
                                  class="form-control input-style me-1"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="rightOvarySize3"
                                  id="rightOvarySize3"
                                  class="form-control input-style me-1"
                                />
                                <span>mm</span>
                              </div>
                            </div>
                          </div>

                          <div class="col-12 col-md-6 d-flex gap-3">
                            <div
                              class="size d-flex flex-column flex-md-row align-items-center gap-2"
                            >
                              <div class="me-md-4">Size</div>
                              <div class="size_cm d-flex">
                                <input
                                  type="number"
                                  name="leftOvarySize1"
                                  id="leftOvarySize1"
                                  class="form-control input-style me-1"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="leftOvarySize2"
                                  id="leftOvarySize2"
                                  class="form-control input-style me-1"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="leftOvarySize3"
                                  id="leftOvarySize3"
                                  class="form-control input-style me-1"
                                />
                                <span>mm</span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row my-3">
                          <div class="col-12 col-md-6 d-flex gap-3 mb-2">
                            <input
                              type="text"
                              name="notes1"
                              id="notes1"
                              placeholder="Notes"
                              class="form-control input-style"
                            />
                          </div>
                          <div class="col-12 col-md-6 d-flex gap-3 mb-2">
                            <input
                              type="text"
                              name="notes2"
                              id="notes2"
                              placeholder="Notes"
                              class="form-control input-style"
                            />
                          </div>
                        </div>

                        <div class="row my-4">
                          <div class="col-12">
                            <div class="d-flex flex-wrap gap-3">
                              <div class="flex-fill">
                                <div>Hydrosalpinx</div>
                              </div>
                              <div
                                class="d-flex gap-3 flex-wrap flex-column flex-md-row"
                              >
                                <div class="d-flex flex-column mr-3">
                                  <div>Right</div>
                                  <div class="d-flex gap-1">
                                    <label
                                      for="RHydrosalpinxYes"
                                      class="me-2 mr-1"
                                      >Yes</label
                                    >
                                    <input
                                      type="radio"
                                      name="RHydrosalpinx"
                                      value="Yes"
                                      id="RHydrosalpinxYes"
                                      class="mr-1"
                                    />
                                    <label
                                      for="RHydrosalpinxNo"
                                      class="ms-2 mr-1"
                                      >No</label
                                    >
                                    <input
                                      type="radio"
                                      name="RHydrosalpinx"
                                      value="No"
                                      id="RHydrosalpinxNo"
                                      class="mr-1"
                                    />
                                  </div>
                                </div>
                                <div class="d-flex flex-column gap-2">
                                  <div>Left</div>
                                  <div class="d-flex gap-1">
                                    <label
                                      for="LHydrosalpinxYes"
                                      class="me-2 mr-1"
                                      >Yes</label
                                    >
                                    <input
                                      type="radio"
                                      name="LHydrosalpinx"
                                      value="Yes"
                                      id="LHydrosalpinxYes"
                                      class="mr-1"
                                    />
                                    <label
                                      for="LHydrosalpinxNo"
                                      class="ms-2 mr-1"
                                      >No</label
                                    >
                                    <input
                                      type="radio"
                                      name="LHydrosalpinx"
                                      value="No"
                                      id="LHydrosalpinxNo"
                                      class="mr-1"
                                    />
                                  </div>
                                </div>
                              </div>
                              <div class="flex-fill mt-3 mt-md-0">
                                <input
                                  type="text"
                                  name="hydrosalpinxNotes"
                                  id="hydrosalpinxNotes"
                                  placeholder="Notes"
                                  class="form-control input-style"
                                />
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row g-3">
                          <div class="col-12 col-md-6">
                            <div class="d-flex flex-column gap-2">
                              <div>Size</div>
                              <div class="d-flex gap-1 align-items-center">
                                <input
                                  type="number"
                                  name="size1"
                                  id="size1"
                                  class="form-control input-style me-1"
                                  style="max-width: 80px"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="size2"
                                  id="size2"
                                  class="form-control input-style me-1"
                                  style="max-width: 80px"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="size3"
                                  id="size3"
                                  class="form-control input-style me-1"
                                  style="max-width: 80px"
                                />
                                <span>mm</span>
                              </div>
                            </div>
                          </div>

                          <div class="col-12 col-md-6">
                            <div class="d-flex flex-column gap-2">
                              <div>Size</div>
                              <div class="d-flex gap-1 align-items-center">
                                <input
                                  type="number"
                                  name="size4"
                                  id="size4"
                                  class="form-control input-style me-1"
                                  style="max-width: 80px"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="size5"
                                  id="size5"
                                  class="form-control input-style me-1"
                                  style="max-width: 80px"
                                />
                                <span>x</span>
                                <input
                                  type="number"
                                  name="size6"
                                  id="size6"
                                  class="form-control input-style me-1"
                                  style="max-width: 80px"
                                />
                                <span>mm</span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row g-3">
                          <div class="col-12 col-md-6 mt-4">
                            <input
                              type="text"
                              name="notes3"
                              id="notes3"
                              placeholder="Notes"
                              class="form-control input-style"
                            />
                          </div>
                          <div class="col-12 col-md-6 mt-4">
                            <input
                              type="text"
                              name="notes4"
                              id="notes4"
                              placeholder="Notes"
                              class="form-control input-style"
                            />
                          </div>
                        </div>

                        <div class="Adnexal row my-3">
                          <div class="col-12 col-md-2">Adnexal</div>
                          <div class="col-12 col-md-10 d-md-flex gap-3">
                            <div
                              class="d-flex flex-column flex-md-row gap-2 mr-2"
                            >
                              <label for="AdnexalRight">Right</label>
                              <select
                                id="AdnexalRight"
                                name="AdnexalRight"
                                class="input-style"
                              >
                                <option value="Para Ovarian Cyst">
                                  Para Ovarian Cyst
                                </option>
                                <option value="Hydrosalpinx">
                                  Hydrosalpinx
                                </option>
                                <option value="Others">Others</option>
                              </select>
                            </div>
                            <div
                              class="d-flex flex-column flex-md-row gap-2 mr-2"
                            >
                              <label for="AdnexalLeft">Left</label>
                              <select
                                id="AdnexalLeft"
                                name="AdnexalLeft"
                                class="input-style"
                              >
                                <option value="Para Ovarian Cyst">
                                  Para Ovarian Cyst
                                </option>
                                <option value="Hydrosalpinx">
                                  Hydrosalpinx
                                </option>
                                <option value="Others">Others</option>
                              </select>
                            </div>
                          </div>
                        </div>

                        <div class="Uterine_Cavity row my-3">
                          <div
                            class="col-12 col-md-4 d-flex align-items-center"
                          >
                            Uterine Cavity
                          </div>
                          <div class="col-12 col-md-8 d-flex gap-3 flex-wrap">
                            <div class="d-flex align-items-center">
                              <input
                                type="checkbox"
                                name="uterineCavity"
                                value="NAD"
                                id="uterineCavityNAD"
                                class="me-2"
                              />
                              <label for="uterineCavityNAD" class="mr-2"
                                >NAD</label
                              >
                            </div>
                            <div class="d-flex align-items-center">
                              <input
                                type="checkbox"
                                name="uterineCavity"
                                value="Abnormal"
                                id="uterineCavityAbnormal"
                                class="me-2"
                              />
                              <label for="uterineCavityAbnormal" class="mr-2"
                                >Abnormal</label
                              >
                            </div>
                          </div>
                        </div>

                        <div class="Endometrium row my-3">
                          <div
                            class="col-12 col-md-4 d-flex align-items-center"
                          >
                            Endometrium
                          </div>
                          <div
                            class="col-12 col-md-8 d-flex flex-wrap gap-3 align-items-center"
                          >
                            <div class="d-flex align-items-center me-3">
                              <input
                                type="checkbox"
                                name="endometrium"
                                value="Not Assessed"
                                id="endometriumNotAssessed"
                                class="me-2"
                              />
                              <label for="endometriumNotAssessed" class="mr-2"
                                >Not Assessed</label
                              >
                            </div>
                            <div class="d-flex align-items-center me-3">
                              <input
                                type="checkbox"
                                name="endometrium"
                                value="Normal"
                                id="endometriumNormal"
                                class="me-2"
                              />
                              <label for="endometriumNormal" class="mr-2"
                                >Normal</label
                              >
                            </div>
                            <div class="d-flex align-items-center">
                              <input
                                type="checkbox"
                                name="endometrium"
                                value="Abnormal"
                                id="endometriumAbnormal"
                                class="me-2"
                              />
                              <label for="endometriumAbnormal" class="mr-2"
                                >Abnormal</label
                              >
                            </div>
                          </div>
                        </div>

                        <div class="row my-3">
                          <div
                            class="col-12 col-md-6 d-flex align-items-center"
                          >
                            Endo Thickness
                          </div>
                          <div
                            class="col-12 col-md-6 d-flex align-items-center"
                          >
                            <div class="d-flex align-items-center">
                              <input
                                type="number"
                                name="endoThickness"
                                id="endoThickness"
                                class="form-control input-style me-2"
                              />
                              <span>mm</span>
                            </div>
                          </div>
                        </div>

                        <div class="comments-inp-div">
                          <div class="input-comment">
                            <label for="comments"></label>
                            <input
                              type="text"
                              name="comments"
                              id="comments"
                              placeholder="comments"
                              class="form-control input-style"
                            />
                          </div>
                          <div class="below-text">
                            <span>Maximum of 2000 characters</span>
                          </div>
                        </div>

                        <hr
                          style="
                            border: 1px solid #000;
                            width: 100%;
                            margin: 20px auto;
                          "
                        />

                        <div class="row my-3">
                          <div
                            class="col-md-6 d-flex gap-4 justify-content-between"
                          >
                            <div>Cervix</div>
                            <div class="radio-btns-cervix">
                              <label for="cervixNAD" class="mr-2">NAD</label>
                              <input
                                type="checkbox"
                                name="cervix"
                                value="NAD"
                                id="cervixNAD"
                              />
                              <label for="cervixAbnormal" class="mr-2"
                                >Abnormal</label
                              >
                              <input
                                type="checkbox"
                                name="cervix"
                                value="Abnormal"
                                id="cervixAbnormal"
                              />
                            </div>
                          </div>
                        </div>

                        <div class="row my-3">
                          <div
                            class="col-md-6 d-flex gap-4 justify-content-between"
                          >
                            <div>Vaginismus</div>
                            <div class="radio-btns-Vaginismus">
                              <label for="vaginismusYes">Yes</label>
                              <input
                                type="checkbox"
                                name="vaginismus"
                                value="Yes"
                                id="vaginismusYes"
                              />
                              <label for="vaginismusNo">No</label>
                              <input
                                type="checkbox"
                                name="vaginismus"
                                value="No"
                                id="vaginismusNo"
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <hr
                style="border: 1px solid #000; width: 100%; margin: 20px auto"
              />

              <!--
====================================
? => Diagnosis  
====================================
-->

              <div class="container-div Diagnosis">
                <div class="Head">
                  <div class="Left-Heading">
                    <span>
                      <i
                        class="fa-solid fa-angle-down"
                        onclick="dropToggle('#diagnosis')"
                      ></i>
                    </span>
                    Diagnosis
                  </div>
                </div>

                <div class="Diagnosis-content" id="diagnosis">
                  <!--* Male Factor -->
                  <div class="row my-3 gap-4">
                    <div class="col-md-3 col-sm-12">Male Factor</div>
                    <div class="col-md-6 col-sm-12">
                      <div
                        class="custom-select-dropdown"
                        id="maleFactorDropdown"
                      >
                        <div class="dropdown-selected">Select Male Factors</div>
                        <div class="dropdown-list">
                          <label
                            ><input
                              type="checkbox"
                              name="maleFactor"
                              value="Azoospermia"
                            />
                            Azoospermia</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="maleFactor"
                              value="Cryptozoospermia"
                            />
                            Cryptozoospermia</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="maleFactor"
                              value="Ejaculatory dysfunction"
                            />
                            Ejaculatory dysfunction</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="maleFactor"
                              value="Erectile Dysfunction"
                            />
                            Erectile Dysfunction</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="maleFactor"
                              value="Genetic factors"
                            />
                            Genetic factors</label
                          >
                        </div>
                      </div>
                    </div>
                    <div class="col-md-3 col-sm-12">
                      <input
                        type="text"
                        name="maleFactorOther"
                        id="maleFactorOther"
                        class="form-control input-style"
                        placeholder="Others"
                      />
                    </div>
                  </div>

                  <!--* Female Factor -->
                  <div class="row my-3 gap-4">
                    <div class="col-md-3 col-sm-12">Female Factor</div>
                    <div class="col-md-6 col-sm-12">
                      <div
                        class="custom-select-dropdown"
                        id="femaleFactorDropdown"
                      >
                        <div class="dropdown-selected">
                          Select Female Factors
                        </div>
                        <div class="dropdown-list">
                          <label
                            ><input
                              type="checkbox"
                              name="femaleFactor"
                              value="Low Reserve"
                            />
                            Low Reserve</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="femaleFactor"
                              value="Low Response"
                            />
                            Low Response</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="femaleFactor"
                              value="Endometriosis"
                            />
                            Endometriosis</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="femaleFactor"
                              value="Tubal Factor"
                            />
                            Tubal Factor</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="femaleFactor"
                              value="PCOS"
                            />
                            PCOS</label
                          >
                        </div>
                      </div>
                    </div>
                    <div class="col-md-3 col-sm-12">
                      <input
                        type="text"
                        name="femaleFactorOther"
                        id="femaleFactorOther"
                        class="form-control input-style"
                        placeholder="Others"
                      />
                    </div>
                  </div>

                  <!--* Karyotype Abnormality -->
                  <div class="row my-3 gap-4">
                    <div class="col-md-3 col-sm-12">Karyotype Abnormality</div>
                    <div class="col-md-6 col-sm-12">
                      <div
                        class="custom-select-dropdown"
                        id="karyotypeAbnormalityDropdown"
                      >
                        <div class="dropdown-selected">
                          Select Karyotype Abnormalities
                        </div>
                        <div class="dropdown-list">
                          <label
                            ><input
                              type="checkbox"
                              name="karyotypeAbnormality"
                              value="Inversion"
                            />
                            Inversion</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="karyotypeAbnormality"
                              value="Translocation"
                            />
                            Translocation</label
                          >
                          <label
                            ><input
                              type="checkbox"
                              name="karyotypeAbnormality"
                              value="Deletion"
                            />
                            Deletion</label
                          >
                        </div>
                      </div>
                    </div>
                    <div class="col-md-3 col-sm-12">
                      <input
                        type="text"
                        name="karyotypeOther"
                        id="karyotypeOther"
                        class="form-control input-style"
                        placeholder="Others"
                      />
                    </div>
                  </div>

                  <!--* Infertile -->
                  <div class="row my-3 gap-4">
                    <div class="col-md-3 col-sm-12">No. of years infertile</div>
                    <div class="col-md-9 col-sm-12">
                      <input
                        type="text"
                        name="yearsInfertile"
                        id="yearsInfertile"
                        class="form-control input-style"
                      />
                    </div>
                  </div>

                  <!--* Others -->
                  <div class="row my-3 gap-4">
                    <div class="col-md-3 col-sm-12">Others</div>
                    <div class="col-md-9 col-sm-12">
                      <input
                        type="text"
                        name="otherFactors"
                        id="otherFactors"
                        class="form-control input-style"
                      />
                    </div>
                  </div>
                </div>
              </div>

              <hr
                style="border: 1px solid #000; width: 100%; margin: 20px auto"
              />

              <!--
====================================
? => Doctor Notes  
====================================
-->

              <div class="container-div doctor-notes">
                <div
                  class="Head2 d-flex justify-content-between align-items-center mb-3"
                >
                  <div class="Left-Heading d-flex align-items-center">
                    <span><i class="fa-solid fa-angle-down"></i></span>
                    <span class="ms-2">Doctor Notes</span>
                  </div>

                  <div class="Right-Icons d-flex align-items-center">
                    <div class="form-check me-3">
                      <input
                        type="checkbox"
                        name="showAcrossVisits"
                        id="showAcrossVisits"
                        class="form-check-input"
                      />
                      <label for="showAcrossVisits" class="form-check-label"
                        >Show across visits</label
                      >
                    </div>
                    <span id="addNoteBtn" class="ms-2">
                      <i class="fa-solid fa-plus"></i>
                    </span>
                  </div>
                </div>

                <div class="Doctor-Notes-Content" id="doctorNotesContent">
                  <!-- Existing notes will be dynamically injected here -->
                </div>
              </div>

              <hr
                style="border: 1px solid #000; width: 100%; margin: 20px auto"
              />

              <!--
====================================
? => Service Advice  
====================================
-->

              <div class="container-div Service-Advice">
                <div
                  class="Head2 d-flex justify-content-between align-items-center"
                >
                  <div
                    class="Left-Heading d-flex align-items-center"
                    onclick="dropToggle('#serviceAdvice')"
                  >
                    <span><i class="fa-solid fa-angle-down"></i></span>
                    <span class="ms-2">Service Advice</span>
                  </div>

                  <div class="Right-Icons d-flex align-items-center">
                    <span id="addServiceAdvice" class="ms-2">
                      <i class="fa-solid fa-plus"></i>
                    </span>
                    <span id="saveServiceAdvice" class="ms-2">
                      <i class="fa-solid fa-save"></i>
                    </span>
                  </div>
                </div>

                <div id="serviceAdvice">
                  <div
                    class="Service-Advice-Content mb-3"
                    id="serviceAdviceContent"
                  >
                    <!-- Service Advice items will be dynamically inserted here -->
                  </div>

                  <div class="end">
                    <input
                      type="search"
                      name="search"
                      id="search"
                      class="form-control"
                      placeholder="Search For Service"
                    />
                  </div>
                </div>
              </div>

              <!--
====================================
? => Perscription  
====================================
-->

              <div class="container-div Prescription">
                <div class="Head2">
                  <div
                    class="Left-Heading"
                    onclick="dropToggle('#prescription')"
                  >
                    <span> <i class="fa-solid fa-angle-down"></i> </span>
                    Prescription
                  </div>
                  <div class="Right-Icons">
                    <span
                      ><i class="fa-solid fa-plus" id="prescriptionAdd"></i
                    ></span>
                    <span
                      ><i class="fa-solid fa-print" id="printPrescription"></i
                    ></span>
                  </div>
                </div>
                <div class="Prescription-Content" id="prescription">
                  <!-- Container for the table -->
                  <div class="container mt-3">
                    <!-- Table with overflow scrolling -->
                    <div class="table-responsive">
                      <table class="table table-bordered perscription-table">
                        <thead>
                          <tr>
                            <th>Drug</th>
                            <th>Molecule</th>
                            <th>Dose</th>
                            <th>Frequency</th>
                            <th>Days</th>
                          </tr>
                        </thead>
                        <tbody id="prescriptionTable">
                          <!-- Rows will be appended here dynamically -->
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="comments-inp-div">
                    <div class="input-comment">
                      <label for="comments"></label>
                      <input
                        type="text"
                        name="comments"
                        id="comments"
                        placeholder="comments"
                        class="form-control"
                      />
                    </div>
                  </div>
                </div>
              </div>

              <!--
====================================
? => Attachments  
====================================
-->

              <div class="container-div Attachments">
                <div class="Head">
                  <div class="Left-Heading" onclick="dropToggle('#attachment')">
                    <span> <i class="fa-solid fa-angle-down"></i> </span>
                    Attachments
                  </div>
                </div>

                <div class="Attachments-Content" id="attachment">
                  <div class="d-flex flex-column flex-md-row my-3 gap-4">
                    <div class="flex-fill mr-3">
                      <label for="Attachments" class="form-label">Select</label>
                      <select
                        id="Attachments"
                        name="Attachments"
                        class="form-select input-style w-100"
                      >
                        <option value="option1">
                          Patient Specific Attachments
                        </option>
                        <option value="option2">
                          Sorrogate Mother Certificates
                        </option>
                        <option value="option3">
                          Essentiality certificate from district medical board
                          for surrogacy
                        </option>
                        <option value="option4">Option 4</option>
                      </select>
                    </div>

                    <div class="uploadfile d-flex align-items-center mt-2">
                      <form id="uploadfile" class="d-flex gap-2">
                        <input
                          type="button"
                          id="qr"
                          name=""
                          style="display: none"
                          value="Qr code"
                          class="fa-qrcode btn btn-secondary mr-4"
                        />
                        <input
                          type="file"
                          id="uploads"
                          accept="image/*"
                          name="image"
                          class=""
                          style="display: none"
                        />
                        <input
                          type="button"
                          value="Upload"
                          id="uploadsBtn"
                          onclick="$('#uploads').click()"
                          accept="image/*"
                          name="image"
                          class="fa-qrcode btn btn-secondary mr-4"
                          style="display: none"
                        />
                        <input
                          type="button"
                          id="file"
                          value="Choose file"
                          class="btn btn-primary"
                        />
                      </form>
                    </div>
                  </div>

                  <div class="Attachments-Type-Inside-Div my-4">
                    <div class="table-responsive">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Attachment Type</th>
                            <th>File Name</th>
                            <th>Date</th>
                            <th>Time</th>
                            <!-- Empty column for possible actions or icons -->
                            <th></th>
                          </tr>
                        </thead>
                        <tbody id="menu" class="Attachment-Details">
                          <!-- Content dynamically added here -->
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>

              <!--
====================================
? => Procedure Advice  
====================================
-->

              <div class="container-div Procedure-Advice">
                <div class="Head2">
                  <div
                    class="Left-Heading"
                    onclick="dropToggle('#ProcedureAdvice')"
                  >
                    <span> <i class="fa-solid fa-angle-down"></i> </span>
                    Procedure Advice
                  </div>
                  <div class="right-add-icon">
                    <span
                      ><i class="fa-solid fa-plus" id="procedureAdd"></i
                    ></span>
                  </div>
                </div>
                <div id="ProcedureAdvice" style="display: none">
                  <div id="appendProcedure"></div>

                  <div class="Procedure-Advice-Content">
                    <div class="Search">
                      <input
                        type="search"
                        name="search"
                        id="search"
                        placeholder="Search For Procedure"
                      />
                    </div>
                  </div>
                </div>
              </div>

              <!-- ===================
                    qrcode pop up
                    ==================== -->

              <div class="modal" id="generateQr">
                <div class="modal-dialog modal-xl">
                  <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                      <a href="#" class="btn-close" data-bs-dismiss="modal"
                        ><i class="fa-solid fa-circle-xmark"></i
                      ></a>
                    </div>

                    <!-- Modal body -->
                    <div id="img" class="modal-body"></div>
                  </div>
                </div>
              </div>

              <!--
====================================
? => Folow Up  
====================================
-->

              <div class="container-div Follow-up">
                <div class="Head2">
                  <div class="Left-Heading" onclick="dropToggle('#followUp')">
                    <span><i class="fa-solid fa-angle-down"></i></span> Follow
                    Up
                  </div>

                  <div class="Right-Icons">
                    <input type="checkbox" name="" id="showVisitsCheckbox" />
                    <label for="showVisitsCheckbox">Show across visits</label>

                    <span
                      ><i class="fa-solid fa-plus" id="followupAdd"></i
                    ></span>
                  </div>
                </div>

                <div
                  class="Follow-Up-Content"
                  id="followUp"
                  style="display: none"
                >
                  <div
                    class="OnEditDiv px-4"
                    id="followupDiv"
                    style="display: none"
                  >
                    <div class="Input my-4">
                      <label for="">Follow Up Instructions</label>
                      <input
                        type="text"
                        name=""
                        id=""
                        placeholder="Maximum of 500 charactrers"
                        class="form-control input-style"
                      />
                    </div>

                    <div class="Bottom-Bar d-flex justify-content-between my-3">
                      <div class="Calender-Selects col-xl-6 pl-0 gap-3">
                        <div class="calender mr-4 mb-4">
                          <label for="appointmentDate">Next Follow Up</label>
                          <input
                            type="date"
                            id="appointmentDate"
                            name="appointmentDate"
                            class="form-control input-style"
                          />
                        </div>

                        <div class="selects">
                          <label for="exampleSelect">Requested By</label>
                          <select
                            id="requestedBy"
                            name="requestedBy"
                            class="form-control input-style"
                          >
                            <option value="Assistant Doctor">
                              Assistant Doctor
                            </option>
                            <option value="Dr Nisha Bhatnagar">
                              Dr Nisha Bhatnagar
                            </option>
                          </select>
                        </div>
                      </div>
                      <div class="Delete-Btn d-flex align-items-end">
                        <span><i class="fa-solid fa-trash-can"></i></span>
                      </div>
                    </div>
                  </div>

                  <div class="Follow-Up d-flex gap-3 justify-content-between">
                    <div class="Text">
                      Dynamic Follow Up Will Be Shown Here.
                    </div>

                    <div class="Edit-Btns d-flex">
                      <div class="Edit-Btn">
                        <i
                          class="fa-solid fa-pen-to-square mx-1"
                          id="editBtn"
                        ></i>
                      </div>
                      <div class="Edit-Btn">
                        <i class="fa-solid fa-trash-can mx-1"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <hr
                style="border: 1px solid #000; width: 100%; margin: 20px auto"
              />

              <!--
====================================
? => End 
====================================
-->

              <div class="container-div end my-5">
                <div class="row g-3 p-3">
                  <div class="col-12 col-md-6 d-flex flex-column">
                    <div class="mb-4">
                      <label for="recordedBy" class="form-label"
                        >Recorded By</label
                      >
                      <select
                        id="recordedBy"
                        name="recordedBy"
                        class="form-select"
                      >
                        <option value="Dr NISHA BHATNAGAR">
                          DR. NISHA BHATNAGAR
                        </option>
                        <option value="Assistant Doctor">
                          Assistant Doctor
                        </option>
                      </select>
                    </div>

                    <div>
                      <label for="recordedDate" class="form-label"
                        >Recorded Date</label
                      >
                      <input
                        type="date"
                        id="recordedDate"
                        name="recordedDate"
                        class="form-control"
                      />
                    </div>
                  </div>

                  <div
                    class="col-12 col-md-6 d-flex align-items-end justify-content-end"
                  >
                    <div class="d-flex gap-2 flex-wrap">
                      <button
                        type="button"
                        id="finalSubmit"
                        class="btn btn-primary btn-style mr-2"
                      >
                        <i class="far fa-save"></i> Save
                      </button>
                      <button type="button" class="btn btn-danger btn-style">
                        <i class="fas fa-times"></i> Cancel
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div id="loading"></div>

      <!--? Side Favourite Box  -->

      <div class="container fav-add-container">
        <div class="search-box">
          <!-- Icons -->
          <div class="d-flex justify-content-center">
            <button class="btn" type="button">
              <i
                class="fas fa-star"
                style="font-size: 20px; color: #1eafeb"
              ></i>
            </button>
          </div>
          <!-- Search Input -->
          <div class="mb-2 input-group">
            <input
              type="text"
              class="form-control"
              placeholder="Press ENTER to search"
            />
            <button class="btn btn-outline-secondary" type="button">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
        <div class="added-fav-list">
          <!-- Add Here Your Favourite  -->
        </div>
      </div>

      <!--footer section start-->
      <%- include('../footer') %>
      <script>
        const Add_New_Advice_Btn = document.querySelector(".Add-New-Advice");
        const add_new_advice_container = document.querySelector(
          ".add-new-advice-container"
        );
        const Treatment_Type_Select = document.querySelector(
          "#Treatment_Type_Select"
        );
        const Oocyte_Source = document.querySelector(".Oocyte_Source");
        const Semen_Source = document.querySelector(".Semen_Source");
        const Embryo_Source = document.querySelector(".Embryo_Source");
        const Checkbox_IVF = document.querySelector(".Checkbox_IVF");
        Add_New_Advice_Btn.addEventListener("click", () => {
          add_new_advice_container.style.display = "block";
        });

        Treatment_Type_Select.addEventListener("change", function () {
          const selectedOption = this.options[this.selectedIndex].value;
          // alert('Selected Treatment: ' + selectedOption);

          if (selectedOption === "IVF") {
            Oocyte_Source.style.display = "flex";
            Semen_Source.style.display = "flex";
            Checkbox_IVF.style.display = "flex";
            Embryo_Source.style.display = "none";
          } else if (selectedOption === "IUI") {
            Checkbox_IVF.style.display = "none";
            Oocyte_Source.style.display = "none";
            Embryo_Source.style.display = "none";
            Semen_Source.style.display = "flex";
          } else if (selectedOption === "FET") {
            Checkbox_IVF.style.display = "none";
            Oocyte_Source.style.display = "none";
            Semen_Source.style.display = "none";
            Embryo_Source.style.display = "flex";
          } else {
            Checkbox_IVF.style.display = "none";
            Oocyte_Source.style.display = "none";
            Semen_Source.style.display = "none";
            Embryo_Source.style.display = "none";
          }
        });
      </script>
      <script>
        $(document).ready(function () {
          const procedureTypes = [
            { id: 1, name: "ICSI" },
            { id: 2, name: "IVF" },
            { id: 3, name: "BOTH ICSI AND IVF" },
            // Add more procedure types as needed
          ];

          $("#procedureAdd").click(function () {
            $("#ProcedureAdvice").show();
            const newProcedureDiv = $("<div>", {
              class: "procedure-info-div col-12",
            });
            newProcedureDiv.html(`
                            <div class="row">
                                <div class="procedure-name col-md-12 col-xl-4 mb-3">
                                    <select class="procedure-type-select input-style">
                                        ${procedureTypes
                                          .map(
                                            (type) =>
                                              `<option value="${type.id}">${type.name}</option>`
                                          )
                                          .join("")}
                                    </select>
                                </div>
                                <div class="procedure-input col-md-12 col-xl-4 mb-3">
                                    <label for="procedure-detail">Details</label>
                                    <input type="text" name="procedure_detail" class="procedure-time-input input-style" placeholder="Enter details">
                                </div>
                                <div class="procedure-icons col-md-12 col-xl-4 mb-3" style="text-align: end;">
                                    <span class="procedure-delete-icon"><i class="fa-solid fa-trash-can mx-1"></i></span>
                                    <span class="procedure-favorite-icon"><i class="fa-regular fa-star mx-1" onclick='clicked()'></i></span>
                                </div>
                            </div>    
                            `);

            // Append to container
            $("#appendProcedure").append(newProcedureDiv);

            // Delete functionality
            newProcedureDiv.find(".procedure-delete-icon").click(function () {
              $(this).closest(".procedure-info-div").remove();
            });

            // Favorite functionality
            newProcedureDiv.find(".procedure-favorite-icon").click(function () {
              $(this).find("i").toggleClass("fa-regular fa-solid");
            });
          });

          $("#finalSubmit").click(function () {
            var proceduresData = [];
            $(".procedure-info-div").each(function () {
              var $div = $(this);
              proceduresData.push({
                procedureType: $div.find(".procedure-type-select").val(),
                details: $div.find(".procedure-time-input").val(),
                isFavorite: $div
                  .find(".procedure-favorite-icon i")
                  .hasClass("fa-solid"),
              });
            });

            console.log("Submitting procedure:", proceduresData); // Debug log

            // AJAX request to backend
            axios
              .post("/embrology/procedureSubmit", proceduresData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          });
        });
      </script>

      <script>
        $(document).ready(function () {
          const conditionTypes = [
            { id: 1, name: "Diabetes" },
            { id: 2, name: "Hypertension" },
            { id: 3, name: "Cardiovascular Diseases" },
            // Add more condition types as needed
          ];

          $("#addCondition").click(function () {
            $("#preExistingDivContent").show();
            const newConditionDiv = $("<div>", {
              class: "infertility-info-div",
            }); // Class aligned with Chief Complaints
            newConditionDiv.html(`
                                <div class="name">
                                    <select class="complaint-type-select"> <!-- Class aligned with Chief Complaints -->
                                        ${conditionTypes
                                          .map(
                                            (type) =>
                                              `<option value="${type.id}">${type.name}</option>`
                                          )
                                          .join("")}
                                    </select>
                                </div>
                                <div class="input">
                                    <label for="condition-detail">Details</label>
                                    <input type="text" name="condition_detail" class="infertility-time-input" placeholder="Enter details"> <!-- Class aligned with Chief Complaints -->
                                </div>
                                <div class="right-icons">
                                    <span class="delete-icon"><i class="fa-solid fa-trash-can mx-1"></i></span>
                                    <span class="favorite-icon"><i class="fa-regular fa-star  mx-1" onclick='clicked()'></i></span> <!-- Favorite icon added -->
                                </div>
                            `);

            // Append to container
            $(".Conditions-Info-Divs").append(newConditionDiv);

            // Delete functionality
            newConditionDiv.find(".delete-icon").click(function () {
              $(this).closest(".infertility-info-div").remove();
            });

            // Favorite functionality
            newConditionDiv.find(".favorite-icon").click(function () {
              $(this).find("i").toggleClass("fa-regular fa-solid");
            });
          });

          $("#finalSubmit").click(function () {
            var conditionsData = [];
            $(".infertility-info-div").each(function () {
              var $div = $(this);
              conditionsData.push({
                conditionType: $div.find(".complaint-type-select").val(),
                details: $div.find(".infertility-time-input").val(),
                isFavorite: $div.find(".favorite-icon i").hasClass("fa-solid"), // Checking if the star is solid (favorited)
              });
            });

            console.log("Submitting Conditions:", conditionsData); // Debug log

            // AJAX request to backend (Uncomment and configure as needed)
            axios
              .post("/embrology/conditionsSubmit", conditionsData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          });
        });
      </script>
      <script>
        $(document).ready(function () {
          // Initialize an array to store all treatment entries
          var treatments = [];

          $("#treatmentAdd").click(function () {
            var treatmentType = $("#Treatment_Type_Select").val();
            var oocyteSource = $('input[name="Oocyte_source"]:checked')
              .next("label")
              .text()
              .trim();
            var semenSource = $('input[name="Semen_Source"]:checked')
              .next("label")
              .text()
              .trim();
            var embryoSource = $('input[name="embryoSource"]:checked')
              .next("label")
              .text()
              .trim();
            var remarks = $("#Remarks").val();
            var date = $("#Date").val();

            // Constructing the treatment data object for the current entry
            var treatmentData = {
              treatmentType: treatmentType,
              oocyteSource: oocyteSource,
              semenSource: semenSource,
              embryoSource: embryoSource,
              remarks: remarks,
              date: date,
            };

            // Add the current treatment data to the treatments array
            treatments.push(treatmentData);

            // Append the new treatment div to the container dynamically
            var newTreatmentDiv = $("<div>", { class: "Treatment-div" });
            newTreatmentDiv.html(`
                                <div class="date treatment-info">${date}</div>
                                <div class="treatment treatment-info"><span class="bold-text">Treatment Type:</span> ${treatmentType}<br>Remarks: ${remarks}</div>
                                <div class="oocyte-source treatment-info"><span class="bold-text">Oocyte Source:</span> ${oocyteSource}</div>
                                <div class="semen-source treatment-info"><span class="bold-text">Semen Source:</span> ${semenSource}</div>
                                <div class="advised-by treatment-info"><span class="bold-text">Advised by:</span> Dr. Nisha Bhatnagar
                                    <span class="icons">
                                        <i class="fa-solid fa-trash-can mx-1 delete-icon"></i>
                                        <i class="fa-solid fa-lock mx-1 lock-icon"></i>
                                    </span>
                                </div>
                            `);

            $(".Treatment-Info-Divs").append(newTreatmentDiv);

            // Hide the advice input container
            $(".add-new-advice-container").hide();

            // Add delete functionality
            newTreatmentDiv.find(".delete-icon").click(function () {
              $(this).closest(".Treatment-div").remove();
              // Also remove from the treatments array
              var index = treatments.indexOf(treatmentData);
              if (index > -1) {
                treatments.splice(index, 1);
              }
            });

            // Optionally, handle the lock functionality
            newTreatmentDiv.find(".lock-icon").click(function () {
              $(this).toggleClass("locked");
            });

            console.log(treatments, "sfdf");

            $("#finalSubmit").click(function () {
              axios
                .post("/embrology/treatmentSubmit", treatments, {
                  headers: {
                    "Content-Type": "application/json",
                  },
                })
                .then(function (response) {
                  console.log("Success:", response.data);
                  $(".delete-icon").remove();
                  // Remove the delete icon after successful response
                  $(".delete-icon").remove();
                })
                .catch(function (error) {
                  console.error("Error:", error);
                });
            });
          });
        });
      </script>
      <script>
        $(document).ready(function () {
          const complaintTypes = [
            { id: 1, name: "Delayed Ejaculation" },
            { id: 2, name: "Inability To Ejaculate" },
            { id: 3, name: "Decreased Erection" },
            { id: 4, name: "Early Ejaculation" },
            { id: 5, name: "Anejaculation" },
            { id: 6, name: "Inability To Conceive" },
            { id: 7, name: "Decreased Size Of Penis" },
            { id: 8, name: "Anxious To Conceive" },
            { id: 9, name: "Primary Infertility" },
            { id: 10, name: "Secondary Infertility" },
            { id: 11, name: "Non-consumation Of Marriage" },
            { id: 12, name: "Dyspareunia" },
            { id: 13, name: "Menstrual Irregularities" },
            { id: 14, name: "Galactorrhea" },
            { id: 15, name: "Primary Amenorrhea" },
            { id: 16, name: "Secondary Amenorrhea" },
            { id: 17, name: "Fertility Evaluation" },
            { id: 18, name: "Dysmenorrheal" },
            { id: 19, name: "Hirsuitism/acne" },
            { id: 20, name: "Dysuria" },
            { id: 21, name: "Lower Abdominal Pain" },
            { id: 22, name: "Lump In Breast" },
            { id: 23, name: "White Discharge Pv" },
            { id: 24, name: "Post Menopausal Symptoms" },
            { id: 25, name: "Premarital Evaluation" },
            { id: 26, name: "Spermatorrhoea" },
            { id: 27, name: "Reduced Interest In Sexual Activity" },
            { id: 28, name: "Homosexual Thoughts" },
            { id: 29, name: "Premarital Sexual Health Check Up" },
            { id: 30, name: "Premarital Fertility Health Check Up" },
            { id: 31, name: "Pain In The Testis" },
            { id: 32, name: "Pain In The Penis" },
          ];

          $("#chiefComplaintAdd").click(function () {
            $("#ChiefComplaintContent").show();
            const newComplaintDiv = $("<div>", {
              class: "infertility-info-div",
            });
            newComplaintDiv.html(`
                                <div class="name">
                                    <select class="complaint-type-select">
                                        ${complaintTypes
                                          .map(
                                            (type) =>
                                              `<option value="${type.id}">${type.name}</option>`
                                          )
                                          .join("")}
                                    </select>
                                </div>
                                <div class="input">
                                    <label for="infertility-time">Since</label>
                                    <input type="text" name="infertility_time" class="infertility-time-input">
                                </div>
                                <div class="right-icons">
                                    <span class="delete-icon"><i class="fa-solid fa-trash-can mx-1"></i></span>
                                    <span class="favorite-icon"><i class="fa-regular fa-star  mx-1" onclick='clicked()'></i></span>
                                </div>
                            `);

            // Append to container
            $(".ChiefComplaint").prepend(newComplaintDiv);

            // Delete functionality
            newComplaintDiv.find(".delete-icon").click(function () {
              $(this).closest(".infertility-info-div").remove();
            });

            // Favorite functionality
            newComplaintDiv.find(".favorite-icon").click(function () {
              $(this).find("i").toggleClass("fa-regular fa-solid");
            });
          });

          $("#finalSubmit").click(function () {
            var complaintsData = [];
            $(".infertility-info-div").each(function () {
              var $div = $(this);
              complaintsData.push({
                type: $div.find(".complaint-type-select").val(),
                since: $div.find(".infertility-time-input").val(),
                isFavorite: $div.find(".favorite-icon i").hasClass("fa-solid"),
              });
            });

            console.log("Submitting Complaints:", complaintsData); // Debug log

            // AJAX request to backend
            axios
              .post("/embrology/complaintSubmit", complaintsData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          });
        });
      </script>
      <script>
        $(document).ready(function () {
          $("#followupAdd").click(function () {
            $("#followUp").show();
            var newFollowUpDiv = $("#followupDiv")
              .clone(true)
              .removeAttr("id")
              .show()
              .addClass("active-followup");
            $(".Follow-Up-Content").append(newFollowUpDiv);

            newFollowUpDiv
              .find('input[type="text"], input[type="date"]')
              .val("");
            newFollowUpDiv.find("select").prop("selectedIndex", 0);

            newFollowUpDiv.find(".Delete-Btn").click(function () {
              $(this).closest(".OnEditDiv").remove();
            });
          });

          $("#finalSubmit").click(function () {
            var followUpsData = [];
            $(".Follow-Up-Content .active-followup").each(function () {
              var $div = $(this);
              followUpsData.push({
                instructions: $div.find('input[type="text"]').val(),
                followUpDate: $div.find('input[type="date"]').val(),
                requestedBy: $div.find("select").val(),
              });
            });

            var submissionData = {
              followUps: followUpsData,
              recordedBy: $("#recordedBy").val(),
              // Captured once
              recordedDate: $("#recordedDate").val(),
            };

            console.log("Submitting Follow-Ups:", submissionData);

            axios
              .post("/embrology/followUpSubmit", submissionData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          });
        });
      </script>

      <script>
        $(document).ready(function () {
          $("#addAllergy").click(function () {
            $("#AllergiesContent").show();
            // Set the "Has Allergies" radio button to checked
            $("#hasAllergies").prop("checked", true);

            // Create and append the new allergy entry
            const newAllergyDiv = $("<div>", { class: "allergy-entry" });
            newAllergyDiv.html(`
            <div class="name">
                <input type="text" name="allergy_name" class="allergy-name-input" placeholder="Enter allergy">
            </div>
            <div class="severity">
                <label><input type="radio" name="severity_${Date.now()}" value="Low"> Low</label>
                <label><input type="radio" name="severity_${Date.now()}" value="Medium"> Medium</label>
                <label><input type="radio" name="severity_${Date.now()}" value="Severe"> Severe</label>
            </div>
            <div class="right-icons">
                <span class="delete-icon"><i class="fa-solid fa-trash-can mx-1"></i></span>
                <span class="favorite-icon"><i class="fa-regular fa-star  mx-1 favorite-checkbox" onclick = 'clicked()'></i></span>
            </div>
        `);

            // Append to container
            $(".Allergies-Info-Divs").append(newAllergyDiv);

            // Delete functionality
            newAllergyDiv.find(".delete-icon").click(function () {
              $(this).closest(".allergy-entry").remove();
            });

            // Favorite functionality
            newAllergyDiv.find(".favorite-icon").click(function () {
              $(this).find("i").toggleClass("fa-regular fa-solid");
            });
          });

          $("#finalSubmit").click(function () {
            var allergiesData = [];
            $(".allergy-entry").each(function () {
              var $div = $(this);
              allergiesData.push({
                allergyName: $div.find(".allergy-name-input").val(),
                severity: $div.find('input[type="radio"]:checked').val(),
                isFavorite: $div.find(".favorite-icon i").hasClass("fa-solid"),
              });
            });

            console.log("Submitting Allergies:", allergiesData); // Debug log

            // AJAX request to backend (Uncomment and configure as needed)
            axios
              .post("/embrology/allergySubmit", allergiesData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          });
        });
      </script>
      <script>
        $(document).ready(function () {
          // Handle Type change event
          $(document).on("change", ".history-type", function () {
            var selectedType = $(this).val();
            var $parent = $(this).closest(".history-section");

            // Hide all conditional sections initially
            $parent
              .find(".additional-fields, .General-History, #other-histories")
              .hide();

            if (selectedType === "infertility") {
              // Show additional fields and all history sections for "Infertility"
              $parent.find(".General-History, #other-histories").show();
            } else {
              // Only show Notes and Complaints fields for other types
              $parent.find(".additional-fields").show();
            }
          });

          // Handle adding new history entry
          $("#addNewHistory").click(function () {
            // Clone the initial history section and append it to the container
            var newHistorySection = $(".history-section:first").clone();

            // Reset the values in the cloned section
            newHistorySection.find("input, select").val("");
            newHistorySection
              .find(".additional-fields, .General-History, #other-histories")
              .show();

            // Remove any existing delete icon in the cloned section to avoid duplicates
            newHistorySection.find(".delete-icon").remove();

            // Append the new section to the container
            $("#dynamic-history-sections").append(newHistorySection);

            // Add delete functionality for the new section
            newHistorySection.append(
              '<span class="delete-icon"><i class="fa-solid fa-trash-can"></i> Delete</span>'
            );
            newHistorySection.find(".delete-icon").click(function () {
              $(this).closest(".history-section").remove();

              // If no more sections are left, automatically add a new one
              if ($(".history-section").length === 0) {
                addNewHistorySection();
              }
            });
          });

          // Initial delete functionality for the first section, ensuring it only has one delete icon
          $(".history-section").each(function () {
            $(this).find(".delete-icon").remove(); // Remove existing delete icon if any
            $(this).append(
              '<span class="delete-icon"><i class="fa-solid fa-trash-can"></i> Delete</span>'
            );
          });

          // Attach delete functionality to the initial section's delete button
          $(".history-section .delete-icon").click(function () {
            $(this).closest(".history-section").remove();

            // If no more sections are left, automatically add a new one
            if ($(".history-section").length === 0) {
              addNewHistorySection();
            }
          });

          // Handle form submission
          $("#finalSubmit").click(function () {
            var historyData = [];
            $(".history-section").each(function () {
              var $section = $(this);
              var type = $section.find(".history-type").val();
              if (type === "infertility") {
                var infertilityData = {
                  generalHistory: {
                    height: $section.find('input[name="height"]').val(),
                    weight: $section.find('input[name="weight"]').val(),
                    pulse: $section.find('input[name="pulse"]').val(),
                    systolic: $section.find('input[name="Systolic"]').val(),
                    diastolic: $section.find('input[name="Diastolic"]').val(),
                    durationYears: $section.find('select[name="Years"]').val(),
                    durationMonths: $section
                      .find('select[name="Months"]')
                      .val(),
                  },
                  familyHistory: {
                    yesNo: $section
                      .find('input[name="Family-History-YES-NO"]:checked')
                      .val(),
                  },
                  medicalHistory: {
                    diabetes: $section
                      .find('input[name="MH-Checkbox"][value="diabetes"]')
                      .is(":checked"),
                    hypertension: $section
                      .find('input[name="MH-Checkbox"][value="hypertension"]')
                      .is(":checked"),
                    thyroid: $section
                      .find('input[name="MH-Checkbox"][value="thyroid"]')
                      .is(":checked"),
                    heartDisease: $section
                      .find('input[name="MH-Checkbox"][value="heartDisease"]')
                      .is(":checked"),
                    asthma: $section
                      .find('input[name="MH-Checkbox"][value="asthma"]')
                      .is(":checked"),
                    tuberculosis: $section
                      .find('input[name="MH-Checkbox"][value="tuberculosis"]')
                      .is(":checked"),
                    others: $section
                      .find('input[name="MH-Checkbox"][value="others"]')
                      .is(":checked"),
                  },
                  obstetricHistory: {
                    para: $section.find('select[name="Para"]').val(),
                    abortion: $section.find('select[name="Abortion"]').val(),
                    ectopic: $section.find('select[name="Ecotopic"]').val(),
                    liveBirth: $section.find('select[name="Live-Birth"]').val(),
                    pregnancies: $section
                      .find('input[name="PYears"]')
                      .map(function () {
                        return {
                          year: $(this).val(),
                          conception: $(this)
                            .closest("tr")
                            .find('select[name="conception"]')
                            .val(),
                          abortion: $(this)
                            .closest("tr")
                            .find('select[name="Abortion"]')
                            .val(),
                          delivery: $(this)
                            .closest("tr")
                            .find('select[name="Delivery"]')
                            .val(),
                          birthWeight: $(this)
                            .closest("tr")
                            .find('input[name="BirthWeight"]')
                            .val(),
                          gender: $(this)
                            .closest("tr")
                            .find('input[name="Gender"]')
                            .val(),
                          remarks: $(this)
                            .closest("tr")
                            .find('input[name="Remarks"]')
                            .val(),
                        };
                      })
                      .get(),
                    recurrentPregnancyLoss: $section
                      .find('input[name="RecurrentPregnancyLoss"]')
                      .is(":checked"),
                  },
                  pastInfertilityInvestigations: $section
                    .find(".Past-Infertility-Investigations-Div tr")
                    .map(function () {
                      return {
                        date: $(this)
                          .find('input[name="appointmentDate"]')
                          .val(),
                        place: $(this).find('input[name="Place"]').val(),
                        type: $(this).find('input[name="Type"]').val(),
                        remarks: $(this).find('input[name="Remarks"]').val(),
                      };
                    })
                    .get(),
                  partnerHistory: {
                    height: $section.find('input[name="partner-height"]').val(),
                    weight: $section.find('input[name="partner-weight"]').val(),
                    pulse: $section.find('input[name="partner-pulse"]').val(),
                    systolic: $section
                      .find('input[name="partner-Systolic"]')
                      .val(),
                    diastolic: $section
                      .find('input[name="partner-Diastolic"]')
                      .val(),
                    bloodGroup: $section
                      .find('select[name="partner-Blood-Group"]')
                      .val(),
                  },
                  partnerPastInfertilityInvestigations: $section
                    .find(".Partner-Past-Infertility-Investigations tr")
                    .map(function () {
                      return {
                        date: $(this)
                          .find('input[name="appointmentDate"]')
                          .val(),
                        place: $(this).find('input[name="Place"]').val(),
                        type: $(this).find('input[name="Type"]').val(),
                        remarks: $(this).find('input[name="Remarks"]').val(),
                      };
                    })
                    .get(),
                  otherRelevantHistory: {
                    comments: $section
                      .find('input[name="other-relevant-comments"]')
                      .val(),
                  },
                };
                historyData.push({
                  type: type,
                  complaints: $section.find(".complaints").val(),
                  notes: $section.find(".notes").val(),
                  infertility: infertilityData,
                });
              } else {
                historyData.push({
                  type: type,
                  complaints: $section.find(".complaints").val(),
                  notes: $section.find(".notes").val(),
                });
              }
            });

            console.log("Submitting History Data:", historyData); // Debug log

            axios
              .post("/embrology/HistSubmit", historyData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          });
        });
      </script>
      <script>
        $(document).ready(function () {
          // Attach event listener to the final submit button
          $("#finalSubmit").on("click", function () {
            submitData();
          });

          // Attach event listener to the trash icons for clearing the rows
          $(".deleteTreatHist").on("click", function () {
            const rowId = $(this).closest("tr").attr("id");
            clearRow(rowId);
          });

          function submitData() {
            // Collect data from the first row
            const row1Data = {
              treatmentType: $("#treatmentType1").val(),
              when: $("#when1").val(),
              where: $("#where1").val(),
              detail: $("#detail1").val(),
            };

            // Collect data from the second row
            const row2Data = {
              treatmentType: $("#treatmentType2").val(),
              when: $("#when2").val(),
              where: $("#where2").val(),
              detail: $("#detail2").val(),
            };

            // Combine the data into a single object
            const data = {
              row1: row1Data,
              row2: row2Data,
            };
            console.log("data2:", data);

            // Send the data as JSON to the backend using axios
            axios
              .post("/embrology/treatmentHistSubmit", data, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          }
        });

        function clearRow(rowId) {
          // Clear the inputs in the specified row
          $(`#${rowId} select`).val("");
          $(`#${rowId} input`).val("");
        }
      </script>
      <script>
        $(document).ready(function () {
          // Attach event listener to the final submit button
          $("#finalSubmit").on("click", function () {
            submitData();
          });
        });

        function submitData() {
          // Gather data for General Examination
          const generalExamination = {
            height: $("#height").val(),
            weight: $("#weight").val(),
            bloodGroup: $("#BloodGroup").val(),
            temp: $("#temp").val(),
            pulse: $("#pulse").val(),
            systolic: $("#systolic").val(),
            diastolic: $("#diastolic").val(),
            pallor: $("#pallor").val(),
            icterus: $("#icterus").val(),
            edema: $("#edema").val(),
            obesity: $("#obesity").val(),
            acne: $("#acne").val(),
            thyroid: $("#thyroid").val(),
            hirsutism: $('input[name="hirsutism"]:checked').val(),
            hirsutismNotes: $("#hirsutismNotes").val(),
            rs: $('input[name="rs"]:checked').val(),
            cvs: $('input[name="cvs"]:checked').val(),
            breastExamination: $(
              'input[name="breastExamination"]:checked'
            ).val(),
            galactorrhoea: $('input[name="galactorrhoea"]:checked').val(),
            galactorrhoeaNotes: $("#galactorrhoeaNotes").val(),
            perAbdomenExamination: $(
              'input[name="perAbdomenExamination"]:checked'
            ).val(),
            perSpeculumExamination: $(
              'input[name="perSpeculumExamination"]:checked'
            ).val(),
            perVaginalExamination: $(
              'input[name="perVaginalExamination"]:checked'
            ).val(),
            papSmearTaken: $('input[name="papSmearTaken"]:checked').val(),
            appointmentDate: $("#appointmentDate").val(),
          };

          // Gather data for USG Examination
          const usgExamination = {
            usg: $('input[name="usg"]:checked').val(),
            usgNotes: $("#usgNotes").val(),
            afcRight: $("#afcRight").val(),
            afcLeft: $("#afcLeft").val(),
            afcNotes: $("#afcNotes").val(),
            uterusSize: {
              size1: $("#uterusSize1").val(),
              size2: $("#uterusSize2").val(),
              size3: $("#uterusSize3").val(),
            },
            uterusPosition: $("#uterusPosition").val(),
            uterusCondition: $("#uterusCondition").val(),
            uterusRemarks: $("#uterusRemarks").val(),
            rightOvaryCondition: $("#rightOvaryCondition").val(),
            leftOvaryCondition: $("#leftOvaryCondition").val(),
            rightOvarySize: {
              size1: $("#rightOvarySize1").val(),
              size2: $("#rightOvarySize2").val(),
              size3: $("#rightOvarySize3").val(),
            },
            leftOvarySize: {
              size1: $("#leftOvarySize1").val(),
              size2: $("#leftOvarySize2").val(),
              size3: $("#leftOvarySize3").val(),
            },
            notes1: $("#notes1").val(),
            notes2: $("#notes2").val(),
            hydrosalpinx: {
              right: $('input[name="RHydrosalpinx"]:checked').val(),
              left: $('input[name="LHydrosalpinx"]:checked').val(),
              notes: $("#hydrosalpinxNotes").val(),
            },
            adnexal: {
              right: $("#AdnexalRight").val(),
              left: $("#AdnexalLeft").val(),
            },
            uterineCavity: $('input[name="uterineCavity"]:checked').val(),
            endometrium: $('input[name="endometrium"]:checked').val(),
            endoThickness: $("#endoThickness").val(),
            cervix: $('input[name="cervix"]:checked').val(),
            vaginismus: $('input[name="vaginismus"]:checked').val(),
          };

          // Gather comments
          const comments = $("#comments").val();

          // Combine data into a single object
          const Examinationdata = {
            generalExamination: generalExamination,
            usgExamination: usgExamination,
            comments: comments,
          };

          console.log("Data to be sent:", Examinationdata);

          // Send the data as JSON to the backend using Axios
          axios
            .post("/embrology/examinationSubmit", Examinationdata, {
              headers: {
                "Content-Type": "application/json",
              },
            })
            .then(function (response) {
              console.log("Success:", response.data);
              $(".delete-icon").remove();
              $(".delete-icon").remove();
            })
            .catch(function (error) {
              console.error("Error:", error);
            });
        }
      </script>

      <script>
        $(document).ready(function () {
          // Handle the custom dropdown for Male Factor
          $("#maleFactorDropdown ").on("click", function (event) {
            event.stopPropagation(); // Prevent event from bubbling up to the document
            $(".dropdown-list")
              .not("#maleFactorDropdown .dropdown-list")
              .hide(); // Close other dropdowns
            $("#maleFactorDropdown .dropdown-list").toggle(); // Toggle this dropdown
          });

          $('#maleFactorDropdown input[name="maleFactor"]').on(
            "change",
            function (event) {
              updateDropdownSelection("maleFactor", "#maleFactorDropdown");
              event.stopPropagation(); // Prevent the dropdown from closing immediately after selection
            }
          );

          // Handle the custom dropdown for Female Factor
          $("#femaleFactorDropdown ").on("click", function (event) {
            event.stopPropagation();
            $(".dropdown-list")
              .not("#maleFactorDropdown .dropdown-list")
              .hide(); // Close other dropdowns
            $("#femaleFactorDropdown .dropdown-list").toggle();
          });

          $('#femaleFactorDropdown input[name="femaleFactor"]').on(
            "change",
            function (event) {
              updateDropdownSelection("femaleFactor", "#femaleFactorDropdown");
              event.stopPropagation(); // Prevent the dropdown from closing immediately after selection
            }
          );

          // Handle the custom dropdown for Karyotype Abnormality
          $("#karyotypeAbnormalityDropdown ").on("click", function (event) {
            event.stopPropagation();
            $(".dropdown-list")
              .not("#karyotypeAbnormalityDropdown .dropdown-list")
              .hide(); // Close other dropdowns
            $("#karyotypeAbnormalityDropdown .dropdown-list").toggle();
          });

          $(
            '#karyotypeAbnormalityDropdown input[name="karyotypeAbnormality"]'
          ).on("change", function (event) {
            updateDropdownSelection(
              "karyotypeAbnormality",
              "#karyotypeAbnormalityDropdown"
            );
            event.stopPropagation(); // Prevent the dropdown from closing immediately after selection
          });

          // Close dropdowns if the user clicks outside
          $(document).on("click", function () {
            $(".dropdown-list").hide();
          });

          // Attach event listener to the submit button
          $("#finalSubmit").on("click", function () {
            submitDiagnosisData();
          });

          function updateDropdownSelection(checkboxName, dropdownId) {
            const selectedValues = $(`input[name="${checkboxName}"]:checked`)
              .map(function () {
                return this.value;
              })
              .get();

            // Display the selected values as a comma-separated string in the dropdown
            $(dropdownId + " .dropdown-selected").text(
              selectedValues.join(", ")
            );
          }

          function submitDiagnosisData() {
            const diagnosisData = {
              maleFactor: $("#maleFactorDropdown .dropdown-selected").text(),
              maleFactorOther: $("#maleFactorOther").val(),
              femaleFactor: $(
                "#femaleFactorDropdown .dropdown-selected"
              ).text(),
              femaleFactorOther: $("#femaleFactorOther").val(),
              karyotypeAbnormality: $(
                "#karyotypeAbnormalityDropdown .dropdown-selected"
              ).text(),
              karyotypeOther: $("#karyotypeOther").val(),
              yearsInfertile: $("#yearsInfertile").val(),
              otherFactors: $("#otherFactors").val(),
            };

            console.log("Diagnosis Data to be sent:", diagnosisData);

            // Send the data as JSON to the backend using Axios
            axios
              .post("/embrology/diagnosisDataSubmit", diagnosisData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          }
        });
      </script>
      <script>
        $(document).ready(function () {
          // Add new note when the + button is clicked
          $("#addNoteBtn").on("click", function () {
            addNewNote();
          });

          // Function to add a new note
          function addNewNote(noteText = "", confidential = false) {
            const noteId = new Date().getTime(); // Unique ID for each note
            const newNoteHtml = `
                        <div class="Note d-flex my-3 justify-content-between" data-note-id="${noteId}">
                            <div class="Text">${noteText}</div>
                            <div class="Edit-Btn"><i class="fa-solid fa-pen-to-square"></i></div>
                        </div>
                        <div class="OnEditDiv " style="display: none;" data-edit-id="${noteId}">
                            <div class="Text">
                            <input type="text" class="noteInput Text" value="${noteText}">
                            </div>  
                            <div class="Btns">
                                <span class="deleteNote"><i class="fa-solid fa-trash-can"></i></span>
                                <input type="checkbox" name="confidential" class="confidentialCheckbox" ${
                                  confidential ? "checked" : ""
                                }>
                                <label for="confidential">Confidential</label>
                            </div>
                        </div>
                    `;

            $("#doctorNotesContent").append(newNoteHtml);
          }

          // Handle edit button click
          $(document).on("click", ".Edit-Btn", function () {
            const noteId = $(this).closest(".Note").data("note-id");
            const editDiv = $(`.OnEditDiv[data-edit-id="${noteId}"]`);
            editDiv.toggle(); // Show the edit div
            editDiv.find(".noteInput").focus(); // Focus on the input field
          });

          // Handle delete note
          $(document).on("click", ".deleteNote", function () {
            const noteId = $(this).closest(".OnEditDiv").data("edit-id");
            $(`.Note[data-note-id="${noteId}"]`).remove(); // Remove the note
            $(`.OnEditDiv[data-edit-id="${noteId}"]`).remove(); // Remove the edit div
          });

          // Handle the submit button or form submission
          $("#finalSubmit").on("click", function () {
            submitNotesData();
          });

          // Function to gather and submit the notes data
          function submitNotesData() {
            const notesData = [];

            $(".Note").each(function () {
              const noteId = $(this).data("note-id");
              const noteText = $(
                `.OnEditDiv[data-edit-id="${noteId}"] .noteInput`
              ).val();
              const confidential = $(
                `.OnEditDiv[data-edit-id="${noteId}"] .confidentialCheckbox`
              ).is(":checked");

              notesData.push({
                noteText: noteText,
                confidential: confidential,
              });
            });

            console.log("Notes Data to be sent:", notesData);

            // Send the data as JSON to the backend using Axios
            axios
              .post("/embrology/doctorNotesSubmit", notesData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          }
        });
      </script>
      <script>
        $(document).ready(function () {
          // Initialize a counter for service advice items
          let serviceAdviceCounter = 0;

          // Handle the add button click
          $("#addServiceAdvice").on("click", function () {
            $("#serviceAdvice").show();
            addServiceAdviceItem();
          });

          // Function to add a new service advice item
          function addServiceAdviceItem() {
            serviceAdviceCounter++;
            const newServiceAdviceHtml = `
            <div class="d-flex my-3 gap-4 justify-content-between service-advice-item" data-id="${serviceAdviceCounter}">
                <div class="dropdown">
                    <select name="service" class="service-dropdown">
                        <option value="Thyroid Profile T3 T4 TSH">Thyroid Profile T3 T4 TSH</option>
                        <option value="Anti HBs">Anti HBs</option>
                        <option value="Anti TPO">Anti TPO</option>
                        <!-- Add more options as needed -->
                    </select>
                </div>

                <div class="icons">
                    <span class="deleteServiceAdvice"><i class="fa-solid fa-trash-can"></i></span>
                    <span class="favoriteServiceAdvice"><i class="fa-regular fa-star" onclick = 'clicked()'></i></span>
                </div>
            </div>
        `;

            $("#serviceAdviceContent").append(newServiceAdviceHtml);
          }

          // Handle delete button click
          $(document).on("click", ".deleteServiceAdvice", function () {
            $(this).closest(".service-advice-item").remove();
          });

          // Handle favorite button click
          $(document).on("click", ".favoriteServiceAdvice", function () {
            $(this).find("i").toggleClass("fa-regular fa-solid");
          });

          // Handle save button click
          $("#finalSubmit").on("click", function () {
            saveServiceAdvice();
          });

          // Function to gather and send the service advice data as JSON
          function saveServiceAdvice() {
            const serviceAdviceData = [];

            $(".service-advice-item").each(function () {
              const service = $(this).find(".service-dropdown").val();
              const instructions = $(this).find(".instructions-input").val();
              const isFavorite = $(this)
                .find(".favoriteServiceAdvice i")
                .hasClass("fa-solid");

              serviceAdviceData.push({
                service: service,
                instructions: instructions,
                favorite: isFavorite,
              });
            });

            console.log("Service Advice Data to be sent:", serviceAdviceData);

            // Send the data as JSON to the backend using Axios (or use jQuery AJAX if preferred)
            axios
              .post("/embrology/serviceAdvice", serviceAdviceData, {
                headers: {
                  "Content-Type": "application/json",
                },
              })
              .then(function (response) {
                console.log("Success:", response.data);
                $(".delete-icon").remove();
              })
              .catch(function (error) {
                console.error("Error:", error);
              });
          }
        });
      </script>

      <!-- handle qr and upload button -->

      <script>
        $("#file").on("click", () => {
          $("#file").hide();
          $("#uploadsBtn").show();
          $("#qr").show();
        });
        $("#qr").on("click", () => {
          var text = $(".form-group .input__label").text();

          // change the id
          let id = 2;
          axios
            .get(`/embrology/generate-qr`, {
              params: {
                id: id,
              },
            })
            .then(() => {
              console.log("success");
              $("#img").html(`<img src="/temp/${id}.png" alt="" srcset="">`);
              $("#generateQr").modal("show");
            })
            .catch((err) => {
              $("#img").html(`<img src="/temp/${id}.png" alt="" srcset="">`);
              $("#generateQr").modal("show");
              console.log("error");
            });
        });

        //temproray saving data
        let temp = [];

        function fetchMenu() {
          let tableRow = "";

          temp.forEach((ele, index) => {
            tableRow += `
                                    <tr class="attachment my-3 gap-4">
                                          <td>${
                                            ele.AttachementType || "N/A"
                                          }</td>
                                          <td>${ele.image.name || "N/A"}</td>
                                          <td>${ele.date || "N/A"}  </td>
                                          <td>${ele.time || "N/A"}</td>
                                          <td><img src="" alt="Thumbnail"></td>
                                          <td class="icons d-flex">
                                              <span><i class="fa-solid fa-download mx-1"></i></span>
                                              <span class="trash-icon" data-index="${index}"><i class="fa-solid fa-trash-can mx-1"></i></span>
                                          </td>
                                      </tr>
                                `;
          });
          $("#menu").html(tableRow);
        }

        $("#menu").on("click", ".trash-icon", function () {
          const index = $(this).data("index");

          // Remove the parent attachment element
          axios
            .post("/embrology/delete", temp[index])
            .then((res) => {
              console.log("successful", res.data);
            })
            .catch((err) => {
              console.log("error");
            });
          temp.splice(index, 1);
          fetchMenu();
        });
        //save the image of geetapage
        $("#uploads").on("click", function () {
          // Reference the file input element
          var fileInput = $(this)[0];
          // Check if files are selected
          if (!fileInput.files || fileInput.files.length === 0) {
            console.error("No file selected");
            return;
          }
          // Get the first selected file
          var file = fileInput.files[0];
          var AttachementType = $("#Attachments option:selected").text();
          console.log(file);
          // Get current date and time
          var now = new Date();
          var date = now.toISOString().split("T")[0]; // Format as YYYY-MM-DD
          var time = now.toTimeString().split(" ")[0]; // Format as HH:MM:SS

          // Create FormData object
          var formData = new FormData();
          formData.append("customSuffix", "geetaPage"); // Change 'file' to 'image'
          formData.append("image", file);
          axios
            .post("/embrology/upload-img", formData)
            .then((response) => {
              let data = response.data;
              console.log(data);
              let obj = {
                AttachementType: AttachementType,
                date: date,
                image: file,
                time: time,
                fileName: response.data,
              };
              let foundObj = temp.find(
                (item) =>
                  item.AttachementType === obj.AttachementType &&
                  item.image === obj.image
              );
              if (foundObj) {
                console.log("duplicate data");
                return;
              } else {
                temp.push(obj);
              }
              fetchMenu();
            })
            .catch((error) => {
              console.error("Error uploading files:", error);
            }); // Ensure the URL matches your server route
        });
      </script>
      <script>
        $(document).ready(function () {
          $("#prescriptionAdd").on("click", function () {
            $("#prescription").show();
            const $prescriptionTable = $("#prescriptionTable");
            const rowCount = $prescriptionTable.children().length; // Count existing rows

            // Create a new row with a unique ID or class for elements
            const $row = $("<tr>", {
              class: ` my-3 gap-4 justify-content-between align-items-center row-${rowCount}`, // Unique class for each row
            });

            // Append new row with unique classes
            $row.append(`
                        <td class="form-group position-relative">
                            <input type="text" class="form-control input-style search-input" placeholder="Type to search...">
                            <ul class="list-group position-absolute w-100 suggestions-list" style="max-height: 200px; overflow-y: auto;"></ul>
                        </td>
                        <td class="form-group position-relative">
                            <input type="text" class="form-control input-style form-search-input" placeholder="Type to search...">
                            <ul class="list-group position-absolute w-100 form-suggestions-list" style="max-height: 200px; overflow-y: auto;"></ul>
                        </td>
                        <td><input type="text" name="dose" placeholder="Dose" class="form-control input-style"></td>
                        <td><input type="text" name="frequency" placeholder="Frequency" class="form-control input-style"></td>
                        <td><input type="text" name="days" placeholder="Days" class="form-control input-style"></td>
                        <td><span class="procedure-favorite-icon"><i class="fa-regular fa-star mx-1" onclick = 'clicked()'></i></span></td>
                        <td><button type="button" class="btn btn-danger btn-sm ml-2 delete-row"><i class="fa-solid fa-trash"></i></button></td>
                    `);

            $prescriptionTable.append($row);

            // Fetch city data for the new row
            fetchCityData(rowCount);
          });

          function fetchCityData(rowCount) {
            axios
              .get("/embrology/drugs")
              .then((response) => {
                const cityData = response.data;
                // Bind the event handlers to the newly added row
                bindSearchEvents(rowCount, cityData);
              })
              .catch((error) => {
                console.error("Error loading city data:", error);
              });
          }

          function bindSearchEvents(rowCount, cityData) {
            // Event listener for the search input
            $(`.row-${rowCount} .search-input`).on("input", function () {
              const query = this.value.toLowerCase();
              const suggestionsList = $(`.row-${rowCount} .suggestions-list`);

              if (query.length > 0) {
                const filteredCities = cityData.filter((city) =>
                  city.item_name.toLowerCase().startsWith(query)
                );
                showSuggestions(filteredCities, suggestionsList, this);
              } else {
                clearSuggestions(suggestionsList);
              }
            });

            // Event listener for keyboard navigation
            $(`.row-${rowCount} .search-input`).on("keydown", function (e) {
              const suggestionsList = $(`.row-${rowCount} .suggestions-list`);
              const items = suggestionsList.children();

              if (!items.length) return;

              let currentIndex = suggestionsList.data("currentIndex") || -1;

              if (e.key === "ArrowDown") {
                currentIndex = (currentIndex + 1) % items.length;
                suggestionsList.data("currentIndex", currentIndex);
                highlightSuggestion(items, currentIndex);
              } else if (e.key === "ArrowUp") {
                currentIndex = (currentIndex - 1 + items.length) % items.length;
                suggestionsList.data("currentIndex", currentIndex);
                highlightSuggestion(items, currentIndex);
              }
            });
          }

          function showSuggestions(cities, suggestionsList, input) {
            clearSuggestions(suggestionsList);

            cities.forEach((city) => {
              const li = $("<li>", {
                class: "list-group-item",
                text: city.item_name,
              });
              li.on("click", function () {
                const itemText = $(this).text();
                $(input).val(itemText);
                // Set the molecule name for the selected item
                const selectedCity = cities.find(
                  (city) => city.item_name === itemText
                );
                if (selectedCity) {
                  alert(selectedCity.molecule_name);
                  $(input)
                    .closest(".d-flex")
                    .find(".molecule")
                    .val(selectedCity.molecule_name);
                }
                clearSuggestions(suggestionsList);
              });
              suggestionsList.append(li);
            });

            suggestionsList.data("currentIndex", -1);
          }

          function clearSuggestions(suggestionsList) {
            suggestionsList.empty();
          }

          function highlightSuggestion(items, currentIndex) {
            items.removeClass("active");
            if (currentIndex >= 0 && currentIndex < items.length) {
              $(items[currentIndex]).addClass("active");
            }
          }

          // Event delegation for deleting rows
          $("#prescriptionTable").on("click", ".delete-row", function () {
            $(this).closest(".d-flex").remove();
          });
        });
      </script>
      <script>
        function dropToggle(id) {
          $(id).toggle();
        }
        dropToggle("#treatmentDrop", "#treatmentContent");
      </script>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const showAcrossVisitsCheckbox =
            document.getElementById("showAcrossVisits");
          const doctorNotesContent =
            document.getElementById("doctorNotesContent");

          // Function to fetch doctor notes from the API
          async function fetchDoctorNotes() {
            try {
              // Fetch data from the API using Axios
              const response = await axios.get("/embrology/doctor-notes");

              // Extract doctorNotes from the response
              const data = response.data;

              // Combine doctor notes from all entries in the API response
              const previousNotes = data.flatMap((item) => item.doctorNotes);

              return previousNotes; // Returning combined doctorNotes array
            } catch (error) {
              console.error("Error fetching doctor notes:", error);
              return [];
            }
          }

          // Function to add previous notes to the DOM
          function addPreviousNotes(previousNotes) {
            const previousNotesDiv = document.createElement("div");
            previousNotesDiv.classList.add("previous-notes");
            previousNotesDiv.id = "previousNotes"; // Unique ID to identify it for removal later

            previousNotes.forEach((note) => {
              const noteRow = document.createElement("div");
              noteRow.className = "note-row";

              // Create input field for the note text
              const noteText = document.createElement("input");
              noteText.type = "text";
              noteText.className = "note-text";
              noteText.value = note.noteText;
              noteText.disabled = true; // Disable previous notes

              // Create confidential checkbox
              const confidentialLabel = document.createElement("label");
              confidentialLabel.className = "confidential";
              const confidentialCheckbox = document.createElement("input");
              confidentialCheckbox.type = "checkbox";
              confidentialCheckbox.checked = note.confidential;
              confidentialCheckbox.disabled = true; // Disable previous confidentiality checkbox
              confidentialLabel.appendChild(confidentialCheckbox);
              confidentialLabel.appendChild(
                document.createTextNode(" Confidential")
              );

              // Append the input and checkbox to the row
              noteRow.appendChild(noteText);
              noteRow.appendChild(confidentialLabel);

              // Append the row to the previous notes div
              previousNotesDiv.appendChild(noteRow);
            });

            // Append the created div with previous notes to the doctorNotesContent div
            doctorNotesContent.appendChild(previousNotesDiv);
          }

          // Function to remove the previous notes section
          function removePreviousNotes() {
            const previousNotesDiv = document.getElementById("previousNotes");
            if (previousNotesDiv) {
              doctorNotesContent.removeChild(previousNotesDiv);
            }
          }

          // Event listener for show across visits checkbox
          showAcrossVisitsCheckbox.addEventListener(
            "change",
            async function () {
              if (this.checked) {
                // Fetch previous notes from API when checkbox is checked
                const previousNotes = await fetchDoctorNotes();
                addPreviousNotes(previousNotes);
              } else {
                removePreviousNotes();
              }
            }
          );
        });
      </script>

      <!-- MINE -->
      <script>
        // function showComplaints(elementId) {
        //     const contentElement = document.querySelector(elementId);
        //     const loadingIndicator = document.getElementById('loadingIndicator');

        //     if (contentElement.style.display === "none" || contentElement.style.display === "") {
        //         // Show the element
        //         contentElement.style.display = "block";

        //         // Show loading indicator
        //         loadingIndicator.style.display = "block";

        //         // Fetch complaints data from the API using Axios
        //         axios.get("/embrology/chiefComplaints")
        //             .then(response => {
        //                 // Hide the loading indicator after data is loaded
        //                 loadingIndicator.style.display = "none";

        //                 const conditions = response.data.conditions;
        //                 const complaintsList = document.createElement('ul');
        //                 conditions.forEach(condition => {
        //                     const listItem = document.createElement('li');
        //                     listItem.textContent = condition.name;
        //                     complaintsList.appendChild(listItem);
        //                 });

        //                 // Add complaints to the contentElement
        //                 contentElement.appendChild(complaintsList);
        //             })
        //             .catch(error => {
        //                 // Hide the loading indicator if there's an error
        //                 loadingIndicator.style.display = "none";
        //                 console.error('Error fetching data:', error);
        //             });
        //     } else {
        //         // Hide the element
        //         contentElement.style.display = "none";

        //         // Optionally, clear the content when hidden
        //         contentElement.innerHTML = `
        //           <div class="search-bar">
        //             <input type="search" name="search" id="search" placeholder="Search for Chief Complaints">
        //           </div>
        //           <div id="loadingIndicator" style="display: none;">Loading...</div>
        //         `;
        //     }
        // }

        // Function to fetch all complaints and display them
        // function showComplaints(elementId) {
        //     const contentElement = document.querySelector(elementId);
        //     const loadingIndicator = document.getElementById('loadingIndicator');

        //     if (contentElement.style.display === "none" || contentElement.style.display === "") {
        //         // Show the element
        //         contentElement.style.display = "block";

        //         // Show loading indicator
        //         loadingIndicator.style.display = "block";

        //         // Fetch complaints data from the API using Axios
        //         axios.get("/embrology/chiefComplaints")
        //             .then(response => {
        //                 // Hide the loading indicator after data is loaded
        //                 loadingIndicator.style.display = "none";

        //                 const conditions = response.data.conditions;
        //                 const complaintsList = document.createElement('ul');
        //                 complaintsList.id = 'complaintsUL';

        //                 conditions.forEach(condition => {
        //                     const listItem = document.createElement('li');
        //                     listItem.textContent = condition.name;
        //                     listItem.classList.add('complaint-item');
        //                     complaintsList.appendChild(listItem);
        //                 });

        //                 // Add complaints to the contentElement
        //                 contentElement.appendChild(complaintsList);
        //             })
        //             .catch(error => {
        //                 // Hide the loading indicator if there's an error
        //                 loadingIndicator.style.display = "none";
        //                 console.error('Error fetching data:', error);
        //             });
        //     } else {
        //         // Hide the element
        //         contentElement.style.display = "none";

        //         // Optionally, clear the content when hidden
        //         contentElement.innerHTML = `
        //           <div class="search-bar">
        //             <input type="search" name="search" id="search" placeholder="Search for Chief Complaints" oninput="filterComplaints()">
        //           </div>
        //           <div id="loadingIndicator" style="display: none;">Loading...</div>
        //         `;
        //     }
        // }

        // // Function to filter complaints based on user input
        // function filterComplaints() {
        //     const input = document.getElementById('search').value.toLowerCase();
        //     const complaintItems = document.querySelectorAll('.complaint-item');

        //     complaintItems.forEach(item => {
        //         const complaint = item.textContent.toLowerCase();
        //         if (complaint.includes(input)) {
        //             item.style.display = "block";
        //         } else {
        //             item.style.display = "none";
        //         }
        //     });
        // }

        // // Global variable to store fetched complaints
        // let allComplaints = [];

        // // Function to fetch and display all complaints
        // function showComplaints(elementId) {
        //     const contentElement = document.querySelector(elementId);
        //     const loadingIndicator = document.getElementById('loadingIndicator');
        //     const complaintsListElement = document.getElementById('complaintsList');

        //     if (contentElement.style.display === "none" || contentElement.style.display === "") {
        //         // Show the content element
        //         contentElement.style.display = "block";

        //         // Show loading indicator
        //         loadingIndicator.style.display = "block";

        //         // Clear any existing complaints before fetching new ones
        //         complaintsListElement.innerHTML = "";

        //         // Fetch complaints from the API
        //         axios.get("/embrology/chiefComplaints")
        //             .then(response => {
        //                 // Hide loading indicator once data is fetched
        //                 loadingIndicator.style.display = "none";

        //                 // Store the fetched complaints
        //                 allComplaints = response.data.conditions;

        //                 // Display complaints
        //                 renderComplaints(allComplaints);
        //             })
        //             .catch(error => {
        //                 // Hide loading indicator if there's an error
        //                 loadingIndicator.style.display = "none";
        //                 console.error('Error fetching complaints:', error);
        //             });
        //     } else {
        //         // Hide the element
        //         contentElement.style.display = "none";
        //     }
        // }

        // // Function to render complaints into the list
        // function renderComplaints(complaints) {
        //     const complaintsListElement = document.getElementById('complaintsList');

        //     // Clear the existing list
        //     complaintsListElement.innerHTML = "";

        //     // Append complaints to the list
        //     complaints.forEach(condition => {
        //         const listItem = document.createElement('li');
        //         listItem.textContent = condition.name;
        //         listItem.classList.add('complaint-item');
        //         complaintsListElement.appendChild(listItem);
        //     });
        // }

        // // Function to filter complaints based on user input
        // function filterComplaints() {
        //     const input = document.getElementById('search').value.toLowerCase();

        //     // Filter complaints based on the search input
        //     const filteredComplaints = allComplaints.filter(condition =>
        //         condition.name.toLowerCase().includes(input)
        //     );

        //     // Render the filtered complaints
        //     renderComplaints(filteredComplaints);
        // }

        // working ###$$$

        // Global variable to store fetched complaints
        // let allComplaints = [];
        // let selectedComplaints = []; // This will store the selected complaints

        // // Function to fetch and display all complaints
        // function showComplaints(elementId) {
        //     const contentElement = document.querySelector(elementId);
        //     const loadingIndicator = document.getElementById('loadingIndicator');
        //     const complaintsListElement = document.getElementById('complaintsList');

        //     if (contentElement.style.display === "none" || contentElement.style.display === "") {
        //         // Show the content element
        //         contentElement.style.display = "block";

        //         // Show loading indicator
        //         loadingIndicator.style.display = "block";

        //         // Clear any existing complaints before fetching new ones
        //         complaintsListElement.innerHTML = "";

        //         // Fetch complaints from the API
        //         axios.get("/embrology/chiefComplaints")
        //             .then(response => {
        //                 // Hide loading indicator once data is fetched
        //                 loadingIndicator.style.display = "none";

        //                 // Store the fetched complaints
        //                 allComplaints = response.data.conditions;

        //                 // Display complaints
        //                 renderComplaints(allComplaints);
        //             })
        //             .catch(error => {
        //                 // Hide loading indicator if there's an error
        //                 loadingIndicator.style.display = "none";
        //                 console.error('Error fetching complaints:', error);
        //             });
        //     } else {
        //         // Hide the element
        //         contentElement.style.display = "none";
        //     }
        // }

        // // Function to render complaints into the list
        // function renderComplaints(complaints) {
        //     const complaintsListElement = document.getElementById('complaintsList');

        //     // Clear the existing list
        //     complaintsListElement.innerHTML = "";

        //     // Append complaints to the list
        //     complaints.forEach(condition => {
        //         const listItem = document.createElement('li');
        //         listItem.textContent = condition.name;
        //         listItem.classList.add('complaint-item');

        //         // Add click event to each item to select the complaint
        //         listItem.onclick = () => {
        //             selectComplaint(condition.name);
        //         };

        //         complaintsListElement.appendChild(listItem);
        //     });
        // }

        // // Function to filter complaints based on user input
        // function filterComplaints() {
        //     const input = document.getElementById('search').value.toLowerCase();

        //     // Filter complaints based on the search input
        //     const filteredComplaints = allComplaints.filter(condition =>
        //         condition.name.toLowerCase().includes(input)
        //     );

        //     // Render the filtered complaints
        //     renderComplaints(filteredComplaints);
        // }

        // // Function to handle complaint selection and display
        // function selectComplaint(complaint) {
        //     // If the complaint is not already selected, add it to the selectedComplaints array
        //     if (!selectedComplaints.includes(complaint)) {
        //         selectedComplaints.push(complaint);
        //     }

        //     // Update the display in the toggle
        //     updateSelectedComplaintsDisplay();
        // }

        // // Function to update the toggle with selected complaints
        // function updateSelectedComplaintsDisplay() {
        //     const toggleElement = document.getElementById('selectedComplaintsToggle');

        //     // If there are selected complaints, join them with a comma, otherwise show default text
        //     if (selectedComplaints.length > 0) {
        //         toggleElement.textContent = selectedComplaints.join(', ');
        //     } else {
        //         toggleElement.textContent = "Chief Complaints";
        //     }
        // }

        // Global variable to store fetched complaints
        let allComplaints = [];
        let selectedComplaints = []; // Store selected complaints

        // Function to fetch and display all complaints
        function showComplaints(elementId) {
          const contentElement = document.querySelector(elementId);
          const loadingIndicator = document.getElementById("loadingIndicator");
          const complaintsListElement =
            document.getElementById("complaintsList");

          if (
            contentElement.style.display === "none" ||
            contentElement.style.display === ""
          ) {
            // Show the content element
            contentElement.style.display = "block";

            // Show loading indicator
            loadingIndicator.style.display = "block";

            // Clear any existing complaints before fetching new ones
            complaintsListElement.innerHTML = "";

            // Fetch complaints from the API
            axios
              .get("/embrology/chiefComplaints")
              .then((response) => {
                // Hide loading indicator once data is fetched
                loadingIndicator.style.display = "none";

                // Store the fetched complaints
                allComplaints = response.data.conditions;

                // Display complaints
                renderComplaints(allComplaints);
              })
              .catch((error) => {
                // Hide loading indicator if there's an error
                loadingIndicator.style.display = "none";
                console.error("Error fetching complaints:", error);
              });
          } else {
            // Hide the element
            contentElement.style.display = "none";
          }
        }

        // Function to render complaints into the list
        function renderComplaints(complaints) {
          const complaintsListElement =
            document.getElementById("complaintsList");

          // Clear the existing list
          complaintsListElement.innerHTML = "";

          // Append complaints to the list
          complaints.forEach((condition) => {
            const listItem = document.createElement("li");
            listItem.textContent = condition.name;
            listItem.classList.add("complaint-item");

            // Add click event to each item to select the complaint
            listItem.onclick = () => {
              selectComplaint(condition.name);
            };

            complaintsListElement.appendChild(listItem);
          });
        }

        // Function to filter complaints based on user input
        function filterComplaints() {
          const input = document.getElementById("search").value.toLowerCase();

          // Filter complaints based on the search input
          const filteredComplaints = allComplaints.filter((condition) =>
            condition.name.toLowerCase().includes(input)
          );

          // Render the filtered complaints
          renderComplaints(filteredComplaints);
        }

        // Function to handle complaint selection and display
        function selectComplaint(complaint) {
          // If the complaint is not already selected, add it to the selectedComplaints array
          if (!selectedComplaints.includes(complaint)) {
            selectedComplaints.push(complaint);
          }

          // Update the display in the input field
          updateSelectedComplaintsDisplay();
        }

        // Function to update the input field with selected complaints
        function updateSelectedComplaintsDisplay() {
          const inputElement = document.getElementById(
            "selectedComplaintsInput"
          );

          // If there are selected complaints, join them with a comma, otherwise show placeholder
          if (selectedComplaints.length > 0) {
            inputElement.value = selectedComplaints.join(", ");
          } else {
            inputElement.value = "";
          }
        }
      </script>

      <!-- <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    // Function to fetch data from API
    async function fetchFollowUpData() {
        try {
            const response = await axios.get('http://localhost:5005/embrology/followUPS');  // Replace with actual API URL
            return response.data;
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }

    // Function to toggle the follow-up data display
    async function toggleFollowUpDisplay() {
        const followUpDiv = document.querySelector('.Follow-Up-Content');  // Follow-Up Content Div
        const checkbox = document.querySelector('input[type="checkbox"]'); // Checkbox for "Show across visits"
        const dynamicDiv = document.querySelector('.Text');                // Dynamic Follow-Up Div

        if (checkbox.checked) {
            // Fetch data and display it when checkbox is checked
            const followUpData = await fetchFollowUpData();
            
            // Clear any existing content
            dynamicDiv.innerHTML = "";

            // Loop through the data and create the display content
            followUpData.forEach(item => {
                dynamicDiv.innerHTML += `
                    <div class="followup-entry">
                        <p>Date: ${item.date}</p>
                        <p>Doctor: ${item.doctor}</p>
                        <p>Appointment Type: ${item.appointment_type}</p>
                        <p>Notes: ${item.notes}</p>
                        <p>Status: ${item.status}</p>
                        <hr>
                    </div>
                `;
            });

            followUpDiv.style.display = "block";  // Show follow-up content
        } else {
            followUpDiv.style.display = "none";   // Hide follow-up content when unchecked
        }
    }

    // Attach event listener to the checkbox
    document.querySelector('input[type="checkbox"]').addEventListener('change', toggleFollowUpDisplay);
</script> -->

      <!-- <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    // Function to fetch data from API
    async function fetchFollowUpData() {
        try {
            const response = await axios.get('http://localhost:5005/embrology/followUPS');  // Replace with actual API URL
            console.log(response.data);
            
            return response.data;
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }

    // Function to toggle the follow-up data display
    async function toggleFollowUpDisplay() {
        const followUpDiv = document.querySelector('.Follow-Up-Content');  // Follow-Up Content Div
        const checkbox = document.querySelector('input[type="checkbox"]'); // Checkbox for "Show across visits"
        const textDiv = document.querySelector('.Follow-Up .Text');        // Div for showing the "notes" dynamically

        if (checkbox.checked) {
            // Fetch data and display it when checkbox is checked
            const followUpData = await fetchFollowUpData();
            
            // Clear any existing content
            textDiv.innerHTML = "";

            // Loop through the data and insert "notes" in the Text div
            followUpData.forEach(item => {
                textDiv.innerHTML += `
                    <div class="followup-entry">
                        <p><strong>Notes:</strong> ${item.notes}</p>
                    </div>
                `;
            });

            followUpDiv.style.display = "block";  // Show follow-up content
        } else {
            followUpDiv.style.display = "none";   // Hide follow-up content when unchecked
        }
    }

    // Attach event listener to the checkbox
    document.querySelector('input[type="checkbox"]').addEventListener('change', toggleFollowUpDisplay);
</script>
 -->

      <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
      <script>
        // Function to fetch data from API
        async function fetchFollowUpData() {
          try {
            const response = await axios.get(
              "http://localhost:5005/embrology/followUPS"
            ); // Replace with your actual API URL
            console.log(response.data); // Log the data to ensure we get it correctly
            return response.data;
          } catch (error) {
            console.error("Error fetching data:", error);
            return [];
          }
        }

        // Function to toggle follow-up data display based on checkbox
        async function toggleFollowUpDisplay() {
          const checkbox = document.getElementById("showVisitsCheckbox"); // Updated to use the ID for the checkbox
          const textDiv = document.querySelector(".Follow-Up .Text"); // Div for showing dynamic content

          if (checkbox.checked) {
            console.log("Checkbox is checked. Fetching data...");

            // Fetch data from API
            const followUpData = await fetchFollowUpData();

            // Clear the existing content
            textDiv.innerHTML = "";

            // Check if data exists and inject it into the Text div
            if (followUpData && followUpData.length > 0) {
              followUpData.forEach((item) => {
                textDiv.innerHTML += `
                        <div class="followup-entry">
                            <p><strong>Date:</strong> ${item.date}</p>
                            <p><strong>Doctor:</strong> ${item.doctor}</p>
                            <p><strong>Appointment Type:</strong> ${item.appointment_type}</p>
                            <p><strong>Notes:</strong> ${item.notes}</p>
                            <p><strong>Status:</strong> ${item.status}</p>
                            <hr>
                        </div>
                    `;
              });
            } else {
              textDiv.innerHTML = "<p>No follow-up data available.</p>";
            }
          } else {
            textDiv.innerHTML = "Dynamic Follow Up Will Be Shown Here."; // Reset the placeholder text when unchecked
          }
        }

        // Attach event listener to the checkbox with the correct ID
        document
          .getElementById("showVisitsCheckbox")
          .addEventListener("change", () => {
            console.log("Checkbox clicked"); // Verify the event is firing
            toggleFollowUpDisplay();
          });
      </script>

      <!-- MINE -->
      <!-- // mine -->

      <script>
        $("#GSave,#PSave,#ASave,#LSave").on("change", () => {
          console.log("hi");
          let row = ``;
          let length = parseInt($("#GSave").val());
          let length1 = parseInt($("#PSave").val());
          console.log(length);
          for (let i = 0; i < length; i++) {
            row += `
                    <tr>
                        <td>G</td>
                        <td><input type='number'></td>
                        <td><input type='number'></td>
                        <td><select disabled>
                            <option value=''></option>
                            <option value='male'>Male</option>
                            <option value='female'>female</option>
                            </select>
                        </td>
                        </tr>
                    `;
          }
          for (let i = 0; i < length1; i++) {
            row += `
                    <tr>
                        <td>P</td>
                        <td><input type='number'></td>
                        <td><input type='number'></td>
                        <td><select disabled>
                            <option value=''></option>
                            <option value='male'>Male</option>
                            <option value='female'>female</option>
                            </select>
                        </td>
                        </tr>
                    `;
          }

          let length2 = parseInt($("#ASave").val());
          for (let i = 0; i < length2; i++) {
            row += `
                    <tr>
                        <td>A</td>
                        <td><input type='number'></td>
                        <td><input type='number'></td>
                        <td><select disabled>
                            <option value=''></option>
                            <option value='male'>Male</option>
                            <option value='female'>female</option>
                            </select>
                        </td>
                        </tr>
                    `;
          }

          let length3 = parseInt($("#LSave").val());
          for (let i = 0; i < length3; i++) {
            row += `
                    <tr>
                        <td>L</td>
                        <td><input type='number'></td>
                        <td><input type='number'></td>
                        <td><select>
                            <option value=''></option>
                            <option value='male'>Male</option>
                            <option value='female'>female</option>
                            </select>
                        </td>
                        </tr>
                    `;
          }
          console.log(row);
          $("#historyBody").html(row);
        });

        $("#OISave,#IvfSave,#IuiSave").on("change", () => {
          console.log("hi");
          let j = 1;
          let row = ``;
          let length = parseInt($("#OISave").val());
          let length1 = parseInt($("#IvfSave").val());
          console.log(length);
          for (let i = 0; i < length; i++) {
            row += `
                    <tr>
                        <td>${j++}</td>
                        <td>OI/TI</td>
                        <td><input type='text'></td>
                        <td><input type='date'></td>
                        <td><input type='text'></td>
                        </tr>
                    `;
          }

          for (let i = 0; i < length1; i++) {
            row += `
                    <tr>
                        <td>${j++}</td>
                        <td>IUI</td>
                        <td><input type='text'></td>
                        <td><input type='date'></td>
                        <td><input type='text'></td>
                        </tr>
                    `;
          }

          let length2 = parseInt($("#IuiSave").val());
          for (let i = 0; i < length2; i++) {
            row += `
                    <tr>
                        <td>${j++}</td>
                        <td>IVF</td>
                        <td><input type='text'></td>
                        <td><input type='date'></td>
                        <td><input type='text'></td>
                        </tr>
                    `;
          }
          $("#IvfBody").html(row);
        });
      </script>
      <script>
        axios
          .get("/embrology/patientAllDetails")
          .then((res) => {
            console.log(res.data);
            $("#headerCoupleNo").html(`Couple No. ${res.data.coupleId}<br>
                                        Referred By: ${res.data.ReferralDetails}`);
            $("#patientHeader")
              .html(`${res.data.firstName} ${res.data.lastName}, MRN: ${res.data.mr_no}<br>
                                                                Age: ${res.data.age_years} Y, ${res.data.age_months} M, ${res.data.age_days} D, ${res.data.Gender}, Ph: ${res.data.mobileNo}<br>
                                                                Ht: ${res.data.height}cm, Wt: ${res.data.weight} kg, BMI: ${res.data.bmi}, ${res.data.bloodGroup}`);
            $("#spouseDetails")
              .html(`${res.data.spouse_firstName}, MRN: ${res.data.mr_no}<br>
                                                                Age: ${res.data.spouse_age_year} Y, ${res.data.spouse_age_month} M, ${res.data.spouse_age_day} D, ${res.data.spouse_gender}, Ph: ${res.data.spouse_mobile_1}`);
          })
          .catch((err) => {
            console.log("error");
          });
      </script>
      <script></script>
    </div>
  </head>
</html>
